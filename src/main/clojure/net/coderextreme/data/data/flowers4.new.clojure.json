{ "X3D": {
    "encoding":"UTF-8",
"@profile":"Immersive",
"@version":"4.0",
"@xsd:noNamespaceSchemaLocation":"https://www.web3d.org/specifications/x3d-4.0.xsd",
    "JSON schema":"https://www.web3d.org/specifications/x3d-4.0-JSONSchema.autogenerated.json",
"head": {
"component": [
{
"@name":"Scripting",
"@level":1
},
{
"@name":"EnvironmentalEffects",
"@level":3
},
{
"@name":"Shaders",
"@level":1
},
{
"@name":"CubeMapTexturing",
"@level":1
},
{
"@name":"Texturing",
"@level":1
},
{
"@name":"Rendering",
"@level":1
},
{
"@name":"Shape",
"@level":4
},
{
"@name":"Grouping",
"@level":3
},
{
"@name":"Core",
"@level":1
}
],
"meta": [
{
"@name":"title",
"@content":"flowers4.x3d"
},
{
"@name":"creator",
"@content":"John Carlson"
},
{
"@name":"generator",
"@content":"manual"
},
{
"@name":"identifier",
"@content":"https://coderextreme.net/X3DJSONLD/src/main/data/flowers4.x3d"
},
{
"@name":"description",
"@content":"an animated flower"
},
{
"@name":"translated",
"@content":"16 July 2025"
},
{
"@name":"generator",
"@content":"X3dToJson.xslt, https://www.web3d.org/x3d/stylesheets/X3dToJson.html"
},
{
"@name":"reference",
"@content":"X3D JSON encoding: https://www.web3d.org/wiki/index.php/X3D_JSON_Encoding"
}
]
},
"Scene": {
"-children":[
{ "NavigationInfo":
{
}
},
{ "Background":
{
"@backUrl":["../resources/images/all_probes/stpeters_cross/stpeters_back.png","https://coderextreme.net/X3DJSONLD/src/main/resources/images/all_probes/stpeters_cross/stpeters_back.png"],
"@bottomUrl":["../resources/images/all_probes/stpeters_cross/stpeters_bottom.png","https://coderextreme.net/X3DJSONLD/src/main/resources/images/all_probes/stpeters_cross/stpeters_bottom.png"],
"@frontUrl":["../resources/images/all_probes/stpeters_cross/stpeters_front.png","https://coderextreme.net/X3DJSONLD/src/main/resources/images/all_probes/stpeters_cross/stpeters_front.png"],
"@leftUrl":["../resources/images/all_probes/stpeters_cross/stpeters_left.png","https://coderextreme.net/X3DJSONLD/src/main/resources/images/all_probes/stpeters_cross/stpeters_left.png"],
"@rightUrl":["../resources/images/all_probes/stpeters_cross/stpeters_right.png","https://coderextreme.net/X3DJSONLD/src/main/resources/images/all_probes/stpeters_cross/stpeters_right.png"],
"@topUrl":["../resources/images/all_probes/stpeters_cross/stpeters_top.png","https://coderextreme.net/X3DJSONLD/src/main/resources/images/all_probes/stpeters_cross/stpeters_top.png"]
}
},
{ "Transform":
{
"@DEF":"transform",
"-children":[
{ "Shape":
{
"-appearance":
{ "Appearance":
{
"-material":
{ "Material":
{
"@diffuseColor":[0.7,0.7,0.7],
"@specularColor":[0.5,0.5,0.5]
}
},
"-shaders":[
{ "ComposedShader":
{
"@DEF":"shader",
"@language":"GLSL",
"field": [
{
"@name":"cube",
"@accessType":"inputOutput",
"@type":"SFInt32",
"@value":0
},
{
"@name":"chromaticDispertion",
"@accessType":"inputOutput",
"@type":"SFVec3f",
"@value":[0.98,1,1.033]
},
{
"@name":"bias",
"@accessType":"inputOutput",
"@type":"SFFloat",
"@value":0.5
},
{
"@name":"scale",
"@accessType":"inputOutput",
"@type":"SFFloat",
"@value":0.5
},
{
"@name":"power",
"@accessType":"inputOutput",
"@type":"SFFloat",
"@value":2.0
}
],
"-parts":[
{ "ShaderPart":
{
"@url":["../shaders/x_ite.vs","https://coderextreme.net/X3DJSONLD/src/main/shaders/x_ite.vs","https://coderextreme.net/X3DJSONLD/src/main/shaders/x_ite.vs"],
"@type":"VERTEX"
}
},
{ "ShaderPart":
{
"@type":"FRAGMENT",
"@url":["../shaders/x_ite.fs","https://coderextreme.net/X3DJSONLD/src/main/shaders/x_ite.fs","https://coderextreme.net/X3DJSONLD/src/main/shaders/x_ite.fs"]
}
}
]
}
}
],
"-texture":
{ "ComposedCubeMapTexture":
{
"-backTexture":
{ "ImageTexture":
{
"@url":["../resources/images/all_probes/stpeters_cross/stpeters_back.png","https://coderextreme.net/X3DJSONLD/src/main/resources/images/all_probes/stpeters_cross/stpeters_back.png"]
}
},
"-bottomTexture":
{ "ImageTexture":
{
"@url":["../resources/images/all_probes/stpeters_cross/stpeters_bottom.png","https://coderextreme.net/X3DJSONLD/src/main/resources/images/all_probes/stpeters_cross/stpeters_bottom.png"]
}
},
"-frontTexture":
{ "ImageTexture":
{
"@url":["../resources/images/all_probes/stpeters_cross/stpeters_front.png","https://coderextreme.net/X3DJSONLD/src/main/resources/images/all_probes/stpeters_cross/stpeters_front.png"]
}
},
"-leftTexture":
{ "ImageTexture":
{
"@url":["../resources/images/all_probes/stpeters_cross/stpeters_left.png","https://coderextreme.net/X3DJSONLD/src/main/resources/images/all_probes/stpeters_cross/stpeters_left.png"]
}
},
"-rightTexture":
{ "ImageTexture":
{
"@url":["../resources/images/all_probes/stpeters_cross/stpeters_right.png","https://coderextreme.net/X3DJSONLD/src/main/resources/images/all_probes/stpeters_cross/stpeters_right.png"]
}
},
"-topTexture":
{ "ImageTexture":
{
"@url":["../resources/images/all_probes/stpeters_cross/stpeters_top.png","https://coderextreme.net/X3DJSONLD/src/main/resources/images/all_probes/stpeters_cross/stpeters_top.png"]
}
}
}
}
}
},
"-geometry":
{ "IndexedFaceSet":
{
"@DEF":"Orbit",
"@convex":false,
"-coord":
{ "Coordinate":
{
"@DEF":"OrbitCoordinates"
}
}
}
}
}
}
]
}
},
{ "Script":
{
"@DEF":"OrbitScript",
"field": [
{
"@name":"set_fraction",
"@accessType":"inputOnly",
"@type":"SFFloat"
},
{
"@name":"coordinates",
"@accessType":"inputOutput",
"@type":"MFVec3f"
},
{
"@name":"coordIndexes",
"@accessType":"outputOnly",
"@type":"MFInt32"
},
{
"@name":"e",
"@accessType":"inputOutput",
"@type":"SFFloat",
"@value":5.0
},
{
"@name":"f",
"@accessType":"inputOutput",
"@type":"SFFloat",
"@value":5.0
},
{
"@name":"g",
"@accessType":"inputOutput",
"@type":"SFFloat",
"@value":5.0
},
{
"@name":"h",
"@accessType":"inputOutput",
"@type":"SFFloat",
"@value":5.0
}
],
"#sourceCode":[
"",
"",
"\newlinefunction initialize() {\newline     var resolution = 100;\newline     updateCoordinates(resolution);\newline
var cis = [];\newline     for ( i = 0; i &lt; resolution-1; i++) {\newline     \tfor
( j = 0; j &lt; resolution-1; j++) {\newline\t     cis.push(i*resolution+j);\newline\t
cis.push(i*resolution+j+1);\newline\t     cis.push((i+1)*resolution+j+1);\newline\t
cis.push((i+1)*resolution+j);\newline\t     cis.push(-1);\newline\t}\newline    }\newline
coordIndexes = new MFInt32(...cis);\newline}\newline\newlinefunction updateCoordinates(resolution)
{\newline     var theta = 0.0;\newline     var phi = 0.0;\newline     var delta =
(2 * 3.141592653) / (resolution-1);\newline     var crds = [];\newline     for ( i
= 0; i &lt; resolution; i++) {\newline     \tfor ( j = 0; j &lt; resolution; j++) {\newline\t\tvar
rho = e + f * Math.cos(g * theta) * Math.cos(h * phi);\newline\t\tcrds.push(new SFVec3f(\newline\t\t\trho
* Math.cos(phi) * Math.cos(theta),\newline\t\t\trho * Math.cos(phi) * Math.sin(theta),\newline\t\t\trho
* Math.sin(phi)\newline\t\t));\newline\t\ttheta += delta;\newline\t}\newline\tphi
+= delta;\newline     }\newline     coordinates = new MFVec3f(...crds);\newline}\newline\newlinefunction
set_fraction(fraction, eventTime) {\newline\tvar choice = Math.floor(Math.random()
* 4);\newline\tswitch (choice) {\newline\tcase 0:\newline\t\te += Math.floor(Math.random()
* 2) * 2 - 1;\newline\t\tbreak;\newline\tcase 1:\newline\t\tf += Math.floor(Math.random()
* 2) * 2 - 1;\newline\t\tbreak;\newline\tcase 2:\newline\t\tg += Math.floor(Math.random()
* 2) * 2 - 1;\newline\t\tbreak;\newline\tcase 3:\newline\t\th += Math.floor(Math.random()
* 2) * 2 - 1;\newline\t\tbreak;\newline\t}\newline\tif (e &lt; 1) {\newline\t\te = 10;\newline\t}\newline\tif
(f &lt; 1) {\newline\t\tf = 10;\newline\t}\newline\tif (g &lt; 1) {\newline\t\tg = 4;\newline\t}\newline\tif
(h &lt; 1) {\newline\t\th = 4;\newline\t}\newline\tvar resolution = 100;\newline\tupdateCoordinates(resolution);\newline}\newline",
"",
""
]
}
},
{ "TimeSensor":
{
"@DEF":"Clock",
"@cycleInterval":16.0,
"@loop":true
}
},
{ "ROUTE":
{
"@fromField":"coordIndexes",
"@fromNode":"OrbitScript",
"@toField":"set_coordIndex",
"@toNode":"Orbit"
}
},
{ "ROUTE":
{
"@fromField":"coordinates",
"@fromNode":"OrbitScript",
"@toField":"set_point",
"@toNode":"OrbitCoordinates"
}
},
{ "ROUTE":
{
"@fromField":"fraction_changed",
"@fromNode":"Clock",
"@toField":"set_fraction",
"@toNode":"OrbitScript"
}
}
]
}
  }
}