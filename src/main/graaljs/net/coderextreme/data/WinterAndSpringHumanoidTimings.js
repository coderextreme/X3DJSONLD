load('X3Dautoclass.js');
var ConfigurationProperties = Packages.org.web3d.x3d.jsail.ConfigurationProperties;
ConfigurationProperties.setXsltEngine(ConfigurationProperties.XSLT_ENGINE_NATIVE_JAVA);
ConfigurationProperties.setDeleteIntermediateFiles(false);
ConfigurationProperties.setStripTrailingZeroes(true);
ConfigurationProperties.setStripDefaultAttributes(true);
function doubleToFloat(d) {
    if (Float32Array)
	return new Float32Array(d);
}
      var X3D0 =  new X3D().setProfile("Immersive").setVersion("4.0")
      .setHead(new head()
        .addMeta(new meta().setName("title").setContent("WinterAndSpringHumanoidTimings.x3d"))
        .addMeta(new meta().setName("description").setContent("Example animation timings, manually translated from tool outputs and export."))
        .addMeta(new meta().setName("reference").setContent("https://sourceforge.net/p/x3d/code/HEAD/tree/www.web3d.org/x3d/content/examples/HumanoidAnimation/WinterAndSpring/originals/WinterAndSpringHumanoidTimings.x3dv"))
        .addMeta(new meta().setName("info").setContent("reference .x3dv model successfully translated by Castle Game Engine, IICM, and Xj3D import (with loss of comments)"))
        .addMeta(new meta().setName("creator").setContent("Katy Schildmeyer"))
        .addMeta(new meta().setName("creator").setContent("Carol McDonald"))
        .addMeta(new meta().setName("translator").setContent("Joe Williams"))
        .addMeta(new meta().setName("translator").setContent("Don Brutzman"))
        .addMeta(new meta().setName("created").setContent("2 July 2023"))
        .addMeta(new meta().setName("translated").setContent("9 July 2023"))
        .addMeta(new meta().setName("modified").setContent("Mon, 15 Sep 2025 05:21:02 GMT"))
        .addMeta(new meta().setName("hint").setContent("MetadataString approach for name=poses sequence, matching the key/keyValue pairs, is experimental but seems unambiguous."))
        .addMeta(new meta().setName("identifier").setContent("https://www.web3d.org/x3d/content/examples/HumanoidAnimation/WinterAndSpring/WinterAndSpringHumanoidTimings.x3d"))
        .addMeta(new meta().setName("generator").setContent("Cinema 4D https://www.maxon.net/en/cinema-4d")))
      .setScene(new Scene()
        .addChild(new WorldInfo().setTitle("WinterAndSpringHumanoidTimings.x3d"))
        .addChild(new Viewpoint().setDEF("EntryView1").setDescription("Hello characters 1").setPosition(Java.to(doubleToFloat([0,2,40]), Java.type("float[]"))))
        .addChild(new Viewpoint().setDEF("EntryView2").setDescription("Hello characters 2").setPosition(Java.to(doubleToFloat([-15,10,30]), Java.type("float[]"))).setOrientation(Java.to(doubleToFloat([0,1,0,-0.643501]), Java.type("float[]"))).setCenterOfRotation(Java.to(doubleToFloat([0,10,10]), Java.type("float[]"))))
        .addChild(new Transform().setDEF("TextRoot").setTranslation(Java.to(doubleToFloat([9.8557,0.95,3.5]), Java.type("float[]")))
          .addChild(new Shape().setDEF("ModelDescriptionText")
            .setAppearance(new Appearance()
              .setMaterial(new Material().setDiffuseColor(Java.to(doubleToFloat([0.960784,0.894118,0]), Java.type("float[]")))))
            .setGeometry(new Text().setString(Java.to(["This scene tests","","experimental approaches","","for human animation"], Java.type("java.lang.String[]")))
              .setFontStyle(new FontStyle().setFamily(Java.to(["SANS"], Java.type("java.lang.String[]"))).setStyle("BOLD").setSize(0.8).setJustify(Java.to(["MIDDLE","MIDDLE"], Java.type("java.lang.String[]")))))))
        .addChild(new Transform().setDEF("Root4").setTranslation(Java.to(doubleToFloat([11.3657,0.475,3.377131]), Java.type("float[]"))))
        .addChild(new Transform().setDEF("Root5").setTranslation(Java.to(doubleToFloat([10.55646,0.475,3.391616]), Java.type("float[]"))))
        .addChild(new Transform().setDEF("Root6").setTranslation(Java.to(doubleToFloat([9.167682,0.475,3.332752]), Java.type("float[]"))))
        .addChild(new PositionInterpolator().setDEF("Gramps_HumanoidRoot_TranslationInterpolator").setKey(Java.to(doubleToFloat([0,0.09,0.11,0.22,0.043,0.55,0.63,0.73,0.85,0.86,1]), Java.type("float[]"))).setKeyValue(Java.to(doubleToFloat([6.8557,0.95,0.5,6.8557,0.95,0.5,6.8557,0.95,0.5,9.8557,0.95,3.5,9.8557,0.95,3.5,9.8557,0.95,3.5,14.3558,0.95,8,16.8558,0.95,15,21.3557,0.95,24.5,21.3557,0.95,24.5,21.3557,0.95,24.5]), Java.type("float[]")))
          .setMetadata(new MetadataString().setName("poses").setValue(Java.to(["Gramps_Stand01","Gramps_Stand01","Gramps_Walk01","Gramps_Stand02","Gramps_Turn01","Gramps_Walk01","Gramps_Walk02","Gramps_Skip01","Gramps_Stand03","Gramps_Stand03","Gramps_Stand03"], Java.type("java.lang.String[]")))))
        .addChild(new PositionInterpolator().setDEF("Leif_HumanoidRoot_TranslationInterpolator").setKey(Java.to(doubleToFloat([0,0.09,0.11,0.223,0.043,0.55,0.63,0.73,0.85,0.86,1]), Java.type("float[]"))).setKeyValue(Java.to(doubleToFloat([-7.9962,0.4,3,-7.9962,0.4,3,-7.9962,0.4,3,-7.9962,0.4,3,9.004,0.475,3.4999,11.5048,0.475,3.3699,16.0038,0.475,7.8699,18.5038,0.475,14.8699,23.0038,0.475,24.3699,23.0038,0.475,24.3699,23.0038,0.475,24.3699]), Java.type("float[]")))
          .setMetadata(new MetadataString().setName("poses").setValue(Java.to(["Leif_Stand01","Leif_Stand01","Leif_Stand01","Leif_Run01","Leif_Turn01","Leif_Walk01","Leif_Walk01","Leif_Skip01","Leif_Stand01","Leif_Stand01","Leif_Stand01"], Java.type("java.lang.String[]")))))
        .addChild(new PositionInterpolator().setDEF("Lily_HumanoidRoot_TranslationInterpolator").setKey(Java.to(doubleToFloat([0,0.09,0.11,0.225,0.043,0.55,0.63,0.73,0.85,0.86,1]), Java.type("float[]"))).setKeyValue(Java.to(doubleToFloat([-8.0962,0.4,5.6,-8.0962,0.4,5.6,-8.0962,0.4,5.6,-8.0962,0.4,5.6,8.9038,0.475,4.0999,10.6538,0.475,3.3499,15.1538,0.475,7.8499,17.6538,0.475,14.8499,22.1538,0.475,24.3499,22.1538,0.475,24.3499,22.1538,0.475,24.3499]), Java.type("float[]")))
          .setMetadata(new MetadataString().setName("poses").setValue(Java.to(["Lily_Stand01","Lily_Stand01","Lily_Stand01","Leif_Run01","Lily_Turn01","Lily_Walk01","Lily_Walk01","Lily_Skip01","Lily_Stand01","Lily_Stand01","Lily_Stand01"], Java.type("java.lang.String[]")))))
        .addChild(new PositionInterpolator().setDEF("Tufani_HumanoidRoot_TranslationInterpolator").setKey(Java.to(doubleToFloat([0,0.09,0.11,0.227,0.043,0.55,0.63,0.73,0.85,0.86,1]), Java.type("float[]"))).setKeyValue(Java.to(doubleToFloat([-8.0962,0.4,6.4,-8.0962,0.4,6.4,-8.0962,0.4,6.4,-8.0962,0.4,6.4,9.40338,0.475,4.3999,9.1538,0.475,3.2699,13.6538,0.475,7.7699,16.1538,0.475,14.7699,20.6538,0.475,24.2699,20.6538,0.475,24.2699,20.6538,0.475,24.2699]), Java.type("float[]")))
          .setMetadata(new MetadataString().setName("poses").setValue(Java.to(["Tufani_Stand01","Tufani_Stand01","Tufani_Stand01","Tufani_Run01","Tufani_Turn01","Tufani_Walk01","Tufani_Walk01","Tufani_Skip01","Tufani_Stand01","Tufani_Stand01","Tufani_Stand01"], Java.type("java.lang.String[]")))))
        .addChild(new Background().setDEF("Background3Black"))
        .addChild(new Background().setDEF("Background4SkyBlueGreenGrass").setSkyColor(Java.to(doubleToFloat([0,0.71,0.886]), Java.type("float[]"))).setGroundAngle(Java.to(doubleToFloat([1.57]), Java.type("float[]"))).setGroundColor(Java.to(doubleToFloat([0.356863,0.639216,0,0.721569,1,0.501961]), Java.type("float[]"))))
        .addChild(new Background().setDEF("Background5LightGrey").setSkyColor(Java.to(doubleToFloat([0.827,0.827,0.827]), Java.type("float[]"))))
        .addChild(new Background().setDEF("Background6DarkGrey").setSkyColor(Java.to(doubleToFloat([0.6,0.2,0.2]), Java.type("float[]"))))
        .addChild(new TimeSensor().setDEF("Clock10Seconds").setCycleInterval(5).setLoop(true))
        .addChild(new TimeSensor().setDEF("Clock100Seconds").setEnabled(false).setCycleInterval(100))
        .addChild(new BooleanSequencer().setDEF("Background3Sequencer").setKey(Java.to(doubleToFloat([0,0.09,0.11,0.22,0.043,0.55,0.63,0.73,0.85,0.86,1]), Java.type("float[]"))).setKeyValue(Java.to([true,true,true,false,false,false,false,false,false,false,false], Java.type("boolean[]"))))
        .addChild(new BooleanSequencer().setDEF("Background4Sequencer").setKey(Java.to(doubleToFloat([0,0.09,0.11,0.22,0.043,0.55,0.63,0.73,0.85,0.86,1]), Java.type("float[]"))).setKeyValue(Java.to([false,false,false,true,true,false,false,false,false,false,false], Java.type("boolean[]"))))
        .addChild(new BooleanSequencer().setDEF("Background5Sequencer").setKey(Java.to(doubleToFloat([0,0.09,0.11,0.22,0.043,0.55,0.63,0.73,0.85,0.86,1]), Java.type("float[]"))).setKeyValue(Java.to([false,false,false,false,false,true,true,true,false,false,false], Java.type("boolean[]"))))
        .addChild(new BooleanSequencer().setDEF("Background6Sequencer").setKey(Java.to(doubleToFloat([0,0.09,0.11,0.22,0.043,0.55,0.63,0.73,0.85,0.86,1]), Java.type("float[]"))).setKeyValue(Java.to([false,false,false,false,false,false,false,false,true,true,true], Java.type("boolean[]"))))
        .addChild(new ROUTE().setFromNode("Background3Sequencer").setFromField("value_changed").setToNode("Background3Black").setToField("set_bind"))
        .addChild(new ROUTE().setFromNode("Background4Sequencer").setFromField("value_changed").setToNode("Background4SkyBlueGreenGrass").setToField("set_bind"))
        .addChild(new ROUTE().setFromNode("Background5Sequencer").setFromField("value_changed").setToNode("Background5LightGrey").setToField("set_bind"))
        .addChild(new ROUTE().setFromNode("Background6Sequencer").setFromField("value_changed").setToNode("Background6DarkGrey").setToField("set_bind"))
        .addChild(new ROUTE().setFromNode("Clock10Seconds").setFromField("fraction_changed").setToNode("Background3Sequencer").setToField("set_fraction"))
        .addChild(new ROUTE().setFromNode("Clock10Seconds").setFromField("fraction_changed").setToNode("Background4Sequencer").setToField("set_fraction"))
        .addChild(new ROUTE().setFromNode("Clock10Seconds").setFromField("fraction_changed").setToNode("Background5Sequencer").setToField("set_fraction"))
        .addChild(new ROUTE().setFromNode("Clock10Seconds").setFromField("fraction_changed").setToNode("Background6Sequencer").setToField("set_fraction"))
        .addChild(new ROUTE().setFromNode("Clock100Seconds").setFromField("fraction_changed").setToNode("Background3Sequencer").setToField("set_fraction"))
        .addChild(new ROUTE().setFromNode("Clock100Seconds").setFromField("fraction_changed").setToNode("Background4Sequencer").setToField("set_fraction"))
        .addChild(new ROUTE().setFromNode("Clock100Seconds").setFromField("fraction_changed").setToNode("Background5Sequencer").setToField("set_fraction"))
        .addChild(new ROUTE().setFromNode("Clock100Seconds").setFromField("fraction_changed").setToNode("Background6Sequencer").setToField("set_fraction"))
        .addChild(new ROUTE().setFromNode("Clock10Seconds").setFromField("fraction_changed").setToNode("Gramps_HumanoidRoot_TranslationInterpolator").setToField("set_fraction"))
        .addChild(new ROUTE().setFromNode("Clock10Seconds").setFromField("fraction_changed").setToNode("Leif_HumanoidRoot_TranslationInterpolator").setToField("set_fraction"))
        .addChild(new ROUTE().setFromNode("Clock10Seconds").setFromField("fraction_changed").setToNode("Lily_HumanoidRoot_TranslationInterpolator").setToField("set_fraction"))
        .addChild(new ROUTE().setFromNode("Clock10Seconds").setFromField("fraction_changed").setToNode("Tufani_HumanoidRoot_TranslationInterpolator").setToField("set_fraction"))
        .addChild(new ROUTE().setFromNode("Clock100Seconds").setFromField("fraction_changed").setToNode("Gramps_HumanoidRoot_TranslationInterpolator").setToField("set_fraction"))
        .addChild(new ROUTE().setFromNode("Clock100Seconds").setFromField("fraction_changed").setToNode("Leif_HumanoidRoot_TranslationInterpolator").setToField("set_fraction"))
        .addChild(new ROUTE().setFromNode("Clock100Seconds").setFromField("fraction_changed").setToNode("Lily_HumanoidRoot_TranslationInterpolator").setToField("set_fraction"))
        .addChild(new ROUTE().setFromNode("Clock100Seconds").setFromField("fraction_changed").setToNode("Tufani_HumanoidRoot_TranslationInterpolator").setToField("set_fraction"))
        .addChild(new ROUTE().setFromNode("Gramps_HumanoidRoot_TranslationInterpolator").setFromField("value_changed").setToNode("TextRoot").setToField("set_translation"))
        .addChild(new ROUTE().setFromNode("Leif_HumanoidRoot_TranslationInterpolator").setFromField("value_changed").setToNode("Root4").setToField("set_translation"))
        .addChild(new ROUTE().setFromNode("Lily_HumanoidRoot_TranslationInterpolator").setFromField("value_changed").setToNode("Root5").setToField("set_translation"))
        .addChild(new ROUTE().setFromNode("Tufani_HumanoidRoot_TranslationInterpolator").setFromField("value_changed").setToNode("Root6").setToField("set_translation")))      ;
    X3D0.toFileX3D("../data/WinterAndSpringHumanoidTimings.new.graal.x3d");
    X3D0.toFileJSON("../data/WinterAndSpringHumanoidTimings.new.graal.x3dj");
