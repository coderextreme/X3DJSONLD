@prefix : <https://coderextreme.net/X3DJSONLD/force.ttl#> .
@prefix dc: <http://purl.org/dc/terms/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix schema: <http://schema.org/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix x3d: <https://www.web3d.org/semantics/ontologies/X3dOntology4.0#> .

:Scene rdf:type owl:NamedIndividual, x3d:Scene .
:Group_2 rdf:type owl:NamedIndividual, x3d:Group .
:Shape_2_1 rdf:type owl:NamedIndividual, x3d:Shape .
:extrusion rdf:type owl:NamedIndividual, x3d:Extrusion ;
  x3d:spine "-50 -50 0 50 50 0" ;
  x3d:creaseAngle "0.785" ;
  x3d:crossSection "1.00 0.00 0.92 -0.38 0.71 -0.71 0.38 -0.92 0.00 -1.00 -0.38 -0.92 -0.71 -0.71 -0.92 -0.38 -1.00 -0.00 -0.92 0.38 -0.71 0.71 -0.38 0.92 0.00 1.00 0.38 0.92 0.71 0.71 0.92 0.38 1.00 0.00" .
:Appearance_2_1_1 rdf:type owl:NamedIndividual, x3d:Appearance .
:Material_2_1_1_2 rdf:type owl:NamedIndividual, x3d:Material ;
  x3d:diffuseColor "0 1 0" .
:TourTime rdf:type owl:NamedIndividual, x3d:TimeSensor ;
  x3d:loop "true" .
:MoveCylinder rdf:type owl:NamedIndividual, x3d:Script .

                    :MoveCylinder x3d:hasfield :field_2_1_3 .
:field_2_1_3 rdf:type owl:NamedIndividual, x3d:field ;
  x3d:name "set_cycle" ;
  x3d:accessType "inputOnly" ;
  x3d:type "SFTime" .

                    :MoveCylinder x3d:hasfield :field_2_1_3 .
:field_2_1_3 rdf:type owl:NamedIndividual, x3d:field ;
  x3d:name "spine" ;
  x3d:accessType "inputOutput" ;
  x3d:type "MFVec3f" ;
  x3d:value "-50 -50 0 50 50 0" .


ecmascript:

                function set_cycle(value) {
                        Browser.print(value);
                        var endA = new SFVec3f(spine[0].x*Math.random()*2, spine[0].y*Math.random()*2, spine[0].z*Math.random()*2);
                        var endB = new SFVec3f(spine[1].x*Math.random()*2, spine[1].y*Math.random()*2, spine[1].z*Math.random()*2);
		        spine = new MFVec3f([endA, endB]);
                }

                :ROUTE_2_1 rdf:type owl:NamedIndividual, x3d:ROUTE ;
  x3d:fromNode "TourTime" ;
  x3d:fromField "cycleTime" ;
  x3d:toNode "MoveCylinder" ;
  x3d:toField "set_cycle" .
:ROUTE_2_1 rdf:type owl:NamedIndividual, x3d:ROUTE ;
  x3d:fromNode "MoveCylinder" ;
  x3d:fromField "spine_changed" ;
  x3d:toNode "extrusion" ;
  x3d:toField "spine" .
