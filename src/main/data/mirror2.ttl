@prefix : <https://www.web3d.org/semantics/scenes/X3dScene1#> .
@prefix dc: <http://purl.org/dc/terms/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix schema: <http://schema.org/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix x3d: <https://www.web3d.org/semantics/ontologies/X3dOntology4.0#> .

[ rdf:type owl:Ontology ;
   owl:imports <file:/E:/Rackstation-SVN/Papers/2019/IC3D-X3D/Paper/Files/X3dOntology4.0.ttl>
 ] .

:Scene-anonymous rdf:type owl:NamedIndividual , x3d:Scene .
:Viewpoint-anonymous rdf:type owl:NamedIndividual , x3d:Viewpoint ;
	x3d:position "0 5 100" ;
	x3d:description "Switch background and images texture" ;
	x3d:fieldOfView "0.7854" ;
	x3d:jump "true" ;
	x3d:orientation "0 0 1 0" ;
	x3d:centerOfRotation "0 0 0" ;
	x3d:retainUserOffsets "false" ;
	x3d:containerField "children" .
:cube rdf:type owl:NamedIndividual , x3d:Background ;
	x3d:leftUrl "../resources/images/all_probes/beach_cross/beach_left.png https://coderextreme.net/X3DJSONLD/src/main/resources/images/all_probes/beach_cross/beach_left.png" ;
	x3d:rightUrl "../resources/images/all_probes/beach_cross/beach_right.png https://coderextreme.net/X3DJSONLD/src/main/resources/images/all_probes/beach_cross/beach_right.png" ;
	x3d:frontUrl "../resources/images/all_probes/beach_cross/beach_front.png https://coderextreme.net/X3DJSONLD/src/main/resources/images/all_probes/beach_cross/beach_front.png" ;
	x3d:backUrl "../resources/images/all_probes/beach_cross/beach_back.png https://coderextreme.net/X3DJSONLD/src/main/resources/images/all_probes/beach_cross/beach_back.png" ;
	x3d:topUrl "../resources/images/all_probes/beach_cross/beach_top.png https://coderextreme.net/X3DJSONLD/src/main/resources/images/all_probes/beach_cross/beach_top.png" ;
	x3d:bottomUrl "../resources/images/all_probes/beach_cross/beach_bottom.png https://coderextreme.net/X3DJSONLD/src/main/resources/images/all_probes/beach_cross/beach_bottom.png" ;
	x3d:skyColor "0 0 0" ;
	x3d:transparency "0" ;
	x3d:containerField "children" .
:Transform-anonymous rdf:type owl:NamedIndividual , x3d:Transform ;
	x3d:center "0 0 0" ;
	x3d:rotation "0 0 1 0" ;
	x3d:scale "1 1 1" ;
	x3d:scaleOrientation "0 0 1 0" ;
	x3d:translation "0 0 0" ;
	x3d:bboxCenter "0 0 0" ;
	x3d:bboxSize "-1 -1 -1" ;
	x3d:containerField "children" .
:Shape-anonymous rdf:type owl:NamedIndividual , x3d:Shape ;
	x3d:containerField "children" ;
	x3d:bboxCenter "0 0 0" ;
	x3d:bboxSize "-1 -1 -1" .
:Appearance-anonymous rdf:type owl:NamedIndividual , x3d:Appearance ;
	x3d:containerField "appearance" .
:Material-anonymous rdf:type owl:NamedIndividual , x3d:Material ;
	x3d:diffuseColor ".7 .7 .7" ;
	x3d:specularColor ".5 .5 .5" ;
	x3d:ambientIntensity "0.2" ;
	x3d:emissiveColor "0 0 0" ;
	x3d:shininess "0.2" ;
	x3d:transparency "0" ;
	x3d:containerField "material" .
:ComposedCubeMapTexture-anonymous rdf:type owl:NamedIndividual , x3d:ComposedCubeMapTexture ;
	x3d:containerField "texture" .
:backShader rdf:type owl:NamedIndividual , x3d:ImageTexture ;
	x3d:containerField "back" ;
	x3d:url "../resources/images/all_probes/beach_cross/beach_back.png https://coderextreme.net/X3DJSONLD/src/main/resources/images/all_probes/beach_cross/beach_back.png" ;
	x3d:repeatS "true" ;
	x3d:repeatT "true" .
:bottomShader rdf:type owl:NamedIndividual , x3d:ImageTexture ;
	x3d:containerField "bottom" ;
	x3d:url "../resources/images/all_probes/beach_cross/beach_bottom.png https://coderextreme.net/X3DJSONLD/src/main/resources/images/all_probes/beach_cross/beach_bottom.png" ;
	x3d:repeatS "true" ;
	x3d:repeatT "true" .
:frontShader rdf:type owl:NamedIndividual , x3d:ImageTexture ;
	x3d:containerField "front" ;
	x3d:url "../resources/images/all_probes/beach_cross/beach_front.png https://coderextreme.net/X3DJSONLD/src/main/resources/images/all_probes/beach_cross/beach_front.png" ;
	x3d:repeatS "true" ;
	x3d:repeatT "true" .
:leftShader rdf:type owl:NamedIndividual , x3d:ImageTexture ;
	x3d:containerField "left" ;
	x3d:url "../resources/images/all_probes/beach_cross/beach_left.png https://coderextreme.net/X3DJSONLD/src/main/resources/images/all_probes/beach_cross/beach_left.png" ;
	x3d:repeatS "true" ;
	x3d:repeatT "true" .
:rightShader rdf:type owl:NamedIndividual , x3d:ImageTexture ;
	x3d:containerField "right" ;
	x3d:url "../resources/images/all_probes/beach_cross/beach_right.png https://coderextreme.net/X3DJSONLD/src/main/resources/images/all_probes/beach_cross/beach_right.png" ;
	x3d:repeatS "true" ;
	x3d:repeatT "true" .
:topShader rdf:type owl:NamedIndividual , x3d:ImageTexture ;
	x3d:containerField "top" ;
	x3d:url "../resources/images/all_probes/beach_cross/beach_top.png https://coderextreme.net/X3DJSONLD/src/main/resources/images/all_probes/beach_cross/beach_top.png" ;
	x3d:repeatS "true" ;
	x3d:repeatT "true" .
:x_ite rdf:type owl:NamedIndividual , x3d:ComposedShader ;
	x3d:language "GLSL" ;
	x3d:containerField "shaders" .
:x_ite x3d:hasfield :field-anonymous .
:field-anonymous rdf:type owl:NamedIndividual , x3d:field ;
	x3d:name "chromaticDispertion" ;
	x3d:accessType "inputOutput" ;
	x3d:value "0.98 1 1.033" .
:x_ite x3d:hasfield :field-anonymous .
:field-anonymous rdf:type owl:NamedIndividual , x3d:field ;
	x3d:name "cube" ;
	x3d:accessType "inputOutput" ;
	x3d:value "0" .
:x_ite x3d:hasfield :field-anonymous .
:field-anonymous rdf:type owl:NamedIndividual , x3d:field ;
	x3d:name "bias" ;
	x3d:accessType "inputOutput" ;
	x3d:value "0.5" .
:x_ite x3d:hasfield :field-anonymous .
:field-anonymous rdf:type owl:NamedIndividual , x3d:field ;
	x3d:name "scale" ;
	x3d:accessType "inputOutput" ;
	x3d:value "0.5" .
:x_ite x3d:hasfield :field-anonymous .
:field-anonymous rdf:type owl:NamedIndividual , x3d:field ;
	x3d:name "power" ;
	x3d:accessType "inputOutput" ;
	x3d:value "2" .
:x_ite x3d:hasShaderPart :ShaderPart-anonymous .
:ShaderPart-anonymous rdf:type owl:NamedIndividual , x3d:ShaderPart ;
	x3d:url "../shaders/x_ite.vs https://coderextreme.net/X3DJSONLD/src/main/shaders/x_ite.vs" ;
	x3d:containerField "parts" .
:x_ite x3d:hasShaderPart :ShaderPart-anonymous .
:ShaderPart-anonymous rdf:type owl:NamedIndividual , x3d:ShaderPart ;
	x3d:url "../shaders/mix.fs https://coderextreme.net/X3DJSONLD/src/main/shaders/mix.fs" ;
	x3d:containerField "parts" .
:x3dom rdf:type owl:NamedIndividual , x3d:ComposedShader ;
	x3d:language "GLSL" ;
	x3d:containerField "shaders" .
:x3dom x3d:hasfield :field-anonymous .
:field-anonymous rdf:type owl:NamedIndividual , x3d:field ;
	x3d:name "chromaticDispertion" ;
	x3d:accessType "inputOutput" ;
	x3d:value "0.98 1 1.033" .
:x3dom x3d:hasfield :field-anonymous .
:field-anonymous rdf:type owl:NamedIndividual , x3d:field ;
	x3d:name "cube" ;
	x3d:accessType "inputOutput" ;
	x3d:value "0" .
:x3dom x3d:hasfield :field-anonymous .
:field-anonymous rdf:type owl:NamedIndividual , x3d:field ;
	x3d:name "bias" ;
	x3d:accessType "inputOutput" ;
	x3d:value "0.5" .
:x3dom x3d:hasfield :field-anonymous .
:field-anonymous rdf:type owl:NamedIndividual , x3d:field ;
	x3d:name "scale" ;
	x3d:accessType "inputOutput" ;
	x3d:value "0.5" .
:x3dom x3d:hasfield :field-anonymous .
:field-anonymous rdf:type owl:NamedIndividual , x3d:field ;
	x3d:name "power" ;
	x3d:accessType "inputOutput" ;
	x3d:value "2" .
:x3dom x3d:hasShaderPart :ShaderPart-anonymous .
:ShaderPart-anonymous rdf:type owl:NamedIndividual , x3d:ShaderPart ;
	x3d:url "../shaders/x3dom.vs https://coderextreme.net/X3DJSONLD/src/main/shaders/x3dom.vs" ;
	x3d:containerField "parts" .
:x3dom x3d:hasShaderPart :ShaderPart-anonymous .
:ShaderPart-anonymous rdf:type owl:NamedIndividual , x3d:ShaderPart ;
	x3d:url "../shaders/mix.fs https://coderextreme.net/X3DJSONLD/src/main/shaders/mix.fs" ;
	x3d:containerField "parts" .
:Sphere-anonymous rdf:type owl:NamedIndividual , x3d:Sphere ;
	x3d:radius "30" ;
	x3d:solid "true" ;
	x3d:containerField "geometry" .
:UrlSelector rdf:type owl:NamedIndividual , x3d:Script ;
	x3d:directOutput "true" ;
	x3d:mustEvaluate "false" ;
	x3d:containerField "children" .

	    :UrlSelector x3d:hasfield :field-anonymous .
:field-anonymous rdf:type owl:NamedIndividual , x3d:field ;
	x3d:name "frontUrls" ;
	x3d:accessType "initializeOnly" ;
	x3d:value "../resources/images/all_probes/beach_cross/beach_front.png ../resources/images/all_probes/building_cross/building_front.png ../resources/images/all_probes/campus_cross/campus_front.png ../resources/images/all_probes/galileo_cross/galileo_front.png ../resources/images/all_probes/grace_cross/grace_front.png ../resources/images/all_probes/kitchen_cross/kitchen_front.png ../resources/images/all_probes/rnl_cross/rnl_front.png ../resources/images/all_probes/stpeters_cross/stpeters_front.png ../resources/images/all_probes/uffizi_cross/uffizi_front.png" .

	    :UrlSelector x3d:hasfield :field-anonymous .
:field-anonymous rdf:type owl:NamedIndividual , x3d:field ;
	x3d:name "backUrls" ;
	x3d:accessType "initializeOnly" ;
	x3d:value "../resources/images/all_probes/beach_cross/beach_back.png ../resources/images/all_probes/building_cross/building_back.png ../resources/images/all_probes/campus_cross/campus_back.png ../resources/images/all_probes/galileo_cross/galileo_back.png ../resources/images/all_probes/grace_cross/grace_back.png ../resources/images/all_probes/kitchen_cross/kitchen_back.png ../resources/images/all_probes/rnl_cross/rnl_back.png ../resources/images/all_probes/stpeters_cross/stpeters_back.png ../resources/images/all_probes/uffizi_cross/uffizi_back.png" .

	    :UrlSelector x3d:hasfield :field-anonymous .
:field-anonymous rdf:type owl:NamedIndividual , x3d:field ;
	x3d:name "leftUrls" ;
	x3d:accessType "initializeOnly" ;
	x3d:value "../resources/images/all_probes/beach_cross/beach_left.png ../resources/images/all_probes/building_cross/building_left.png ../resources/images/all_probes/campus_cross/campus_left.png ../resources/images/all_probes/galileo_cross/galileo_left.png ../resources/images/all_probes/grace_cross/grace_left.png ../resources/images/all_probes/kitchen_cross/kitchen_left.png ../resources/images/all_probes/rnl_cross/rnl_left.png ../resources/images/all_probes/stpeters_cross/stpeters_left.png ../resources/images/all_probes/uffizi_cross/uffizi_left.png" .

	    :UrlSelector x3d:hasfield :field-anonymous .
:field-anonymous rdf:type owl:NamedIndividual , x3d:field ;
	x3d:name "rightUrls" ;
	x3d:accessType "initializeOnly" ;
	x3d:value "../resources/images/all_probes/beach_cross/beach_right.png ../resources/images/all_probes/building_cross/building_right.png ../resources/images/all_probes/campus_cross/campus_right.png ../resources/images/all_probes/galileo_cross/galileo_right.png ../resources/images/all_probes/grace_cross/grace_right.png ../resources/images/all_probes/kitchen_cross/kitchen_right.png ../resources/images/all_probes/rnl_cross/rnl_right.png ../resources/images/all_probes/stpeters_cross/stpeters_right.png ../resources/images/all_probes/uffizi_cross/uffizi_right.png" .

	    :UrlSelector x3d:hasfield :field-anonymous .
:field-anonymous rdf:type owl:NamedIndividual , x3d:field ;
	x3d:name "topUrls" ;
	x3d:accessType "initializeOnly" ;
	x3d:value "../resources/images/all_probes/beach_cross/beach_top.png ../resources/images/all_probes/building_cross/building_top.png ../resources/images/all_probes/campus_cross/campus_top.png ../resources/images/all_probes/galileo_cross/galileo_top.png ../resources/images/all_probes/grace_cross/grace_top.png ../resources/images/all_probes/kitchen_cross/kitchen_top.png ../resources/images/all_probes/rnl_cross/rnl_top.png ../resources/images/all_probes/stpeters_cross/stpeters_top.png ../resources/images/all_probes/uffizi_cross/uffizi_top.png" .

	    :UrlSelector x3d:hasfield :field-anonymous .
:field-anonymous rdf:type owl:NamedIndividual , x3d:field ;
	x3d:name "bottomUrls" ;
	x3d:accessType "initializeOnly" ;
	x3d:value "../resources/images/all_probes/beach_cross/beach_bottom.png ../resources/images/all_probes/building_cross/building_bottom.png ../resources/images/all_probes/campus_cross/campus_bottom.png ../resources/images/all_probes/galileo_cross/galileo_bottom.png ../resources/images/all_probes/grace_cross/grace_bottom.png ../resources/images/all_probes/kitchen_cross/kitchen_bottom.png ../resources/images/all_probes/rnl_cross/rnl_bottom.png ../resources/images/all_probes/stpeters_cross/stpeters_bottom.png ../resources/images/all_probes/uffizi_cross/uffizi_bottom.png" .

	    :UrlSelector x3d:hasfield :field-anonymous .
:field-anonymous rdf:type owl:NamedIndividual , x3d:field ;
	x3d:name "front_changed" ;
	x3d:accessType "outputOnly" .
 
	    :UrlSelector x3d:hasfield :field-anonymous .
:field-anonymous rdf:type owl:NamedIndividual , x3d:field ;
	x3d:name "back_changed" ;
	x3d:accessType "outputOnly" .
 
	    :UrlSelector x3d:hasfield :field-anonymous .
:field-anonymous rdf:type owl:NamedIndividual , x3d:field ;
	x3d:name "left_changed" ;
	x3d:accessType "outputOnly" .
 
	    :UrlSelector x3d:hasfield :field-anonymous .
:field-anonymous rdf:type owl:NamedIndividual , x3d:field ;
	x3d:name "right_changed" ;
	x3d:accessType "outputOnly" .
 
	    :UrlSelector x3d:hasfield :field-anonymous .
:field-anonymous rdf:type owl:NamedIndividual , x3d:field ;
	x3d:name "top_changed" ;
	x3d:accessType "outputOnly" .
 
	    :UrlSelector x3d:hasfield :field-anonymous .
:field-anonymous rdf:type owl:NamedIndividual , x3d:field ;
	x3d:name "bottom_changed" ;
	x3d:accessType "outputOnly" .
 
	    :UrlSelector x3d:hasfield :field-anonymous .
:field-anonymous rdf:type owl:NamedIndividual , x3d:field ;
	x3d:name "set_fraction" ;
	x3d:accessType "inputOnly" .
 
	    :UrlSelector x3d:hasfield :field-anonymous .
:field-anonymous rdf:type owl:NamedIndividual , x3d:field ;
	x3d:name "old" ;
	x3d:accessType "inputOutput" ;
	x3d:value "-1" .
 

ecmascript:
        function set_fraction( f, tm ) {
	    var side = Math.floor(f*frontUrls.length);
	    if (side > frontUrls.length-1) {
	    	side = 0;
	    }
	    if (side != old) {
	    	    // Browser.print(f+" "+side);
	    	    old = side;
		    front_changed[0] = frontUrls[side];
		    back_changed[0] = backUrls[side];
		    left_changed[0] = leftUrls[side];
		    right_changed[0] = rightUrls[side];
		    top_changed[0] = topUrls[side];
		    bottom_changed[0] = bottomUrls[side];
            }
        }

:Clock rdf:type owl:NamedIndividual , x3d:TimeSensor ;
	x3d:cycleInterval "45" ;
	x3d:loop "true" ;
	x3d:enabled "true" ;
	x3d:startTime "0" ;
	x3d:stopTime "0" ;
	x3d:pauseTime "0" ;
	x3d:resumeTime "0" ;
	x3d:containerField "children" .
:ROUTE-anonymous rdf:type owl:NamedIndividual , x3d:ROUTE ;
	x3d:fromNode "Clock" ;
	x3d:fromField "fraction_changed" ;
	x3d:toNode "UrlSelector" ;
	x3d:toField "set_fraction" .
:ROUTE-anonymous rdf:type owl:NamedIndividual , x3d:ROUTE ;
	x3d:fromNode "UrlSelector" ;
	x3d:fromField "front_changed" ;
	x3d:toNode "cube" ;
	x3d:toField "frontUrl" .
:ROUTE-anonymous rdf:type owl:NamedIndividual , x3d:ROUTE ;
	x3d:fromNode "UrlSelector" ;
	x3d:fromField "back_changed" ;
	x3d:toNode "cube" ;
	x3d:toField "backUrl" .
:ROUTE-anonymous rdf:type owl:NamedIndividual , x3d:ROUTE ;
	x3d:fromNode "UrlSelector" ;
	x3d:fromField "left_changed" ;
	x3d:toNode "cube" ;
	x3d:toField "leftUrl" .
:ROUTE-anonymous rdf:type owl:NamedIndividual , x3d:ROUTE ;
	x3d:fromNode "UrlSelector" ;
	x3d:fromField "right_changed" ;
	x3d:toNode "cube" ;
	x3d:toField "rightUrl" .
:ROUTE-anonymous rdf:type owl:NamedIndividual , x3d:ROUTE ;
	x3d:fromNode "UrlSelector" ;
	x3d:fromField "top_changed" ;
	x3d:toNode "cube" ;
	x3d:toField "topUrl" .
:ROUTE-anonymous rdf:type owl:NamedIndividual , x3d:ROUTE ;
	x3d:fromNode "UrlSelector" ;
	x3d:fromField "bottom_changed" ;
	x3d:toNode "cube" ;
	x3d:toField "bottomUrl" .
:ROUTE-anonymous rdf:type owl:NamedIndividual , x3d:ROUTE ;
	x3d:fromNode "UrlSelector" ;
	x3d:fromField "front_changed" ;
	x3d:toNode "frontShader" ;
	x3d:toField "url" .
:ROUTE-anonymous rdf:type owl:NamedIndividual , x3d:ROUTE ;
	x3d:fromNode "UrlSelector" ;
	x3d:fromField "back_changed" ;
	x3d:toNode "backShader" ;
	x3d:toField "url" .
:ROUTE-anonymous rdf:type owl:NamedIndividual , x3d:ROUTE ;
	x3d:fromNode "UrlSelector" ;
	x3d:fromField "left_changed" ;
	x3d:toNode "leftShader" ;
	x3d:toField "url" .
:ROUTE-anonymous rdf:type owl:NamedIndividual , x3d:ROUTE ;
	x3d:fromNode "UrlSelector" ;
	x3d:fromField "right_changed" ;
	x3d:toNode "rightShader" ;
	x3d:toField "url" .
:ROUTE-anonymous rdf:type owl:NamedIndividual , x3d:ROUTE ;
	x3d:fromNode "UrlSelector" ;
	x3d:fromField "top_changed" ;
	x3d:toNode "topShader" ;
	x3d:toField "url" .
:ROUTE-anonymous rdf:type owl:NamedIndividual , x3d:ROUTE ;
	x3d:fromNode "UrlSelector" ;
	x3d:fromField "bottom_changed" ;
	x3d:toNode "bottomShader" ;
	x3d:toField "url" .
