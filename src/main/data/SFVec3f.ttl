@prefix : <https://coderextreme.net/X3DJSONLD/SFVec3f.ttl#> .
@prefix dc: <http://purl.org/dc/terms/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix schema: <http://schema.org/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix x3d: <https://www.web3d.org/semantics/ontologies/X3dOntology4.0#> .

:Scene rdf:type owl:NamedIndividual, x3d:Scene .
:NavigationInfo_2 rdf:type owl:NamedIndividual, x3d:NavigationInfo .
:transform rdf:type owl:NamedIndividual, x3d:Transform .
:transform x3d:hasShape :Shape_2_2 .
:Shape_2_2 rdf:type owl:NamedIndividual, x3d:Shape .
:Appearance_2_2_1 rdf:type owl:NamedIndividual, x3d:Appearance .
:Material_2_2_1_1 rdf:type owl:NamedIndividual, x3d:Material ;
  x3d:diffuseColor ".7 .7 .7" ;
  x3d:specularColor ".5 .5 .5" .
:Sphere_2_2_1 rdf:type owl:NamedIndividual, x3d:Sphere .
:Bounce rdf:type owl:NamedIndividual, x3d:Script .

                  :Bounce x3d:hasfield :field_2_3 .
:field_2_3 rdf:type owl:NamedIndividual, x3d:field ;
  x3d:name "set_translation" ;
  x3d:accessType "inputOnly" ;
  x3d:type "SFVec3f" ;
  x3d:value "0 0 0" .

                  :Bounce x3d:hasfield :field_2_3 .
:field_2_3 rdf:type owl:NamedIndividual, x3d:field ;
  x3d:name "translation_changed" ;
  x3d:accessType "outputOnly" ;
  x3d:type "SFVec3f" ;
  x3d:value "0 0 0" .

                  :Bounce x3d:hasfield :field_2_3 .
:field_2_3 rdf:type owl:NamedIndividual, x3d:field ;
  x3d:name "translation" ;
  x3d:accessType "inputOutput" ;
  x3d:type "SFVec3f" ;
  x3d:value "0 0 0" .

                  :Bounce x3d:hasfield :field_2_3 .
:field_2_3 rdf:type owl:NamedIndividual, x3d:field ;
  x3d:name "velocity" ;
  x3d:accessType "inputOutput" ;
  x3d:type "SFVec3f" ;
  x3d:value "0 0 0" .

                  :Bounce x3d:hasfield :field_2_3 .
:field_2_3 rdf:type owl:NamedIndividual, x3d:field ;
  x3d:name "set_fraction" ;
  x3d:accessType "inputOnly" ;
  x3d:type "SFTime" .

ecmascript:
			function newBubble() {
			    translation = new SFVec3f(0, 0, 0);
			    velocity = new SFVec3f(
			    	Math.random() - 0.5,
				Math.random() - 0.5,
				Math.random() - 0.5);
			}
			function set_fraction() {
			    translation = new SFVec3f(
			    	translation.x + velocity.x,
				translation.y + velocity.y,
				translation.z + velocity.z);
				if (Math.abs(translation.x) > 10) {
					newBubble();
				} else if (Math.abs(translation.y) > 10) {
					newBubble();
				} else if (Math.abs(translation.z) > 10) {
					newBubble();
				} else {
					velocity = new SFVec3f(
						velocity.x + Math.random() * 0.2 - 0.1,
						velocity.y + Math.random() * 0.2 - 0.1,
						velocity.z + Math.random() * 0.2 - 0.1
					);
				}
			}

			function initialize() {
			     newBubble();
			}


                :TourTime rdf:type owl:NamedIndividual, x3d:TimeSensor ;
  x3d:cycleInterval "0.150" ;
  x3d:loop "true" .
:ROUTE_2 rdf:type owl:NamedIndividual, x3d:ROUTE ;
  x3d:fromNode "TourTime" ;
  x3d:fromField "cycleTime" ;
  x3d:toNode "Bounce" ;
  x3d:toField "set_fraction" .
:ROUTE_2 rdf:type owl:NamedIndividual, x3d:ROUTE ;
  x3d:fromNode "Bounce" ;
  x3d:fromField "translation_changed" ;
  x3d:toNode "transform" ;
  x3d:toField "set_translation" .
