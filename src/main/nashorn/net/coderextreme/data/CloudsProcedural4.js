load('X3Dautoclass.js');
var ConfigurationProperties = Packages.org.web3d.x3d.jsail.ConfigurationProperties;
ConfigurationProperties.showDefaultAttributes = false;
ConfigurationProperties.xsltEngine = ConfigurationProperties.XSLT_ENGINE_NATIVE_JAVA;
ConfigurationProperties.deleteIntermediateFiles = false;
ConfigurationProperties.setStripTrailingZeroes(true);
      var X3D0 =  new X3D().setProfile("Immersive").setVersion("3.2")
      .setHead(new head()
        .addMeta(new meta().setName("title").setContent("CloudsProcedural4.x3d"))
        .addMeta(new meta().setName("description").setContent("X3D utilizing ecmascript to develop quasi volumetric 3D clouds from png image textured billboard nodes."))
        .addMeta(new meta().setName("creator").setContent("Capt Darren W. Murphy"))
        .addMeta(new meta().setName("created").setContent("1 November 2007"))
        .addMeta(new meta().setName("modified").setContent("14 January 2014"))
        .addMeta(new meta().setName("identifier").setContent("https://savage.nps.edu/Savage/Environment/Atmosphere/CloudsProcedural4.x3d"))
        .addMeta(new meta().setName("generator").setContent("X3D-Edit, http://www.web3d.org/x3d/content/README.X3D-Edit.html"))
        .addMeta(new meta().setName("license").setContent("../../license.html"))
        .addMeta(new meta().setName("TODO").setContent("fix links")))
      .setScene(new Scene()
        .addComments(new CommentsBlock("A png image file for the cloud texture must be designated in the ecmascript node."))
        .addChild(new Viewpoint().setDescription("Main").setJump(false).setOrientation(Java.to([0,1,0,1.57], Java.type("float[]"))).setPosition(Java.to([50000,1000,42000], Java.type("float[]"))))
        .addChild(new Viewpoint().setDescription("Light House Tower").setJump(false).setOrientation(Java.to([0,1,0,1.3], Java.type("float[]"))).setPosition(Java.to([45000,1290,44000], Java.type("float[]"))))
        .addChild(new Viewpoint().setDescription("centerWest").setJump(false).setOrientation(Java.to([0,1,0,2.5], Java.type("float[]"))).setPosition(Java.to([48000,1000,20000], Java.type("float[]"))))
        .addChild(new Background().setGroundColor(Java.to([0,0,1], Java.type("float[]"))).setSkyColor(Java.to([0,0,1], Java.type("float[]"))).setTransparency(0))
        .addChild(new DirectionalLight().setAmbientIntensity(1).setDirection(Java.to([-1,0,0], Java.type("float[]"))).setGlobal(true))
        .addChild(new Group().setDEF("Terrain").setBboxCenter(Java.to([0,0,0], Java.type("float[]"))).setBboxSize(Java.to([-1,-1,-1], Java.type("float[]")))
          .addChild(new Transform().setScale(Java.to([50,50,50], Java.type("float[]"))).setTranslation(Java.to([25000,0,25000], Java.type("float[]"))).setBboxCenter(Java.to([0,0,0], Java.type("float[]"))).setBboxSize(Java.to([-1,-1,-1], Java.type("float[]")))
            .addChild(new Inline().setUrl(Java.to(["MontereyBayLargeMesh.x3d","https://savage.nps.edu/Savage/Environment/Atmosphere/MontereyBayLargeMesh.x3d","MontereyBayLargeMesh.wrl","https://savage.nps.edu/Savage/Environment/Atmosphere/MontereyBayLargeMesh.wrl"], Java.type("java.lang.String[]"))).setBboxCenter(Java.to([0,0,0], Java.type("float[]"))).setBboxSize(Java.to([-1,-1,-1], Java.type("float[]")))))
          .addChild(new Transform().setRotation(Java.to([1,0,0,1.57], Java.type("float[]"))).setTranslation(Java.to([25000,0,25000], Java.type("float[]"))).setBboxCenter(Java.to([0,0,0], Java.type("float[]"))).setBboxSize(Java.to([-1,-1,-1], Java.type("float[]")))
            .addChild(new Shape().setBboxCenter(Java.to([0,0,0], Java.type("float[]"))).setBboxSize(Java.to([-1,-1,-1], Java.type("float[]")))
              .setGeometry(new Rectangle2D().setSize(Java.to([77000,55000], Java.type("float[]"))))
              .setAppearance(new Appearance()
                .setTexture(new ImageTexture().setUrl(Java.to(["ocean.png","https://savage.nps.edu/Savage/Environment/Atmosphere/ocean.png"], Java.type("java.lang.String[]"))))))))
        .addChild(new Group().setDEF("Placemarks").setBboxCenter(Java.to([0,0,0], Java.type("float[]"))).setBboxSize(Java.to([-1,-1,-1], Java.type("float[]")))
          .addChild(new Transform().setScale(Java.to([50,50,50], Java.type("float[]"))).setTranslation(Java.to([45000,30,44000], Java.type("float[]"))).setBboxCenter(Java.to([0,0,0], Java.type("float[]"))).setBboxSize(Java.to([-1,-1,-1], Java.type("float[]")))
            .addChild(new Inline().setUrl(Java.to(["Lighthouse.x3d","https://savage.nps.edu/Savage/Environment/Atmosphere/Lighthouse.x3d","Lighthouse.wrl","https://savage.nps.edu/Savage/Environment/Atmosphere/Lighthouse.wrl"], Java.type("java.lang.String[]"))).setBboxCenter(Java.to([0,0,0], Java.type("float[]"))).setBboxSize(Java.to([-1,-1,-1], Java.type("float[]"))))))
        .addChild(new Group().setDEF("Clouds").setBboxCenter(Java.to([0,0,0], Java.type("float[]"))).setBboxSize(Java.to([-1,-1,-1], Java.type("float[]")))
          .addChild(new Transform().setDEF("Cumulus").setBboxCenter(Java.to([0,0,0], Java.type("float[]"))).setBboxSize(Java.to([-1,-1,-1], Java.type("float[]"))))
          .addChild(new Transform().setDEF("Cirrus").setBboxCenter(Java.to([0,0,0], Java.type("float[]"))).setBboxSize(Java.to([-1,-1,-1], Java.type("float[]"))))
          .addChild(new Transform().setDEF("Fog").setBboxCenter(Java.to([0,0,0], Java.type("float[]"))).setBboxSize(Java.to([-1,-1,-1], Java.type("float[]"))))
          .addChild(new DirectionalLight().setAmbientIntensity(1).setColor(Java.to([1,0,0], Java.type("float[]"))).setDirection(Java.to([-1,-1,0], Java.type("float[]"))).setGlobal(true))
          .addX3DScript(new X3DScript().setDEF("PixelScript").setDirectOutput(true)
            .addField(new field().setType(field.TYPE_SFNODE).setName("Cumulus").setAccessType(field.ACCESSTYPE_INITIALIZEONLY)
              .addChild(new Transform().setUSE("Cumulus")))
            .addField(new field().setType(field.TYPE_SFNODE).setName("Cirrus").setAccessType(field.ACCESSTYPE_INITIALIZEONLY)
              .addChild(new Transform().setUSE("Cirrus")))
            .addField(new field().setType(field.TYPE_SFNODE).setName("Fog").setAccessType(field.ACCESSTYPE_INITIALIZEONLY)))))      ;
    X3D0.toFileX3D("../data/CloudsProcedural4.new.x3d");
