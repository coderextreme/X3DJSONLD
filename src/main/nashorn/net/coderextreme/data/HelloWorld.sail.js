load('X3Dautoclass.js');
var ConfigurationProperties = Packages.org.web3d.x3d.jsail.ConfigurationProperties;
ConfigurationProperties.xsltEngine = ConfigurationProperties.XSLT_ENGINE_NATIVE_JAVA;
ConfigurationProperties.deleteIntermediateFiles = false;
ConfigurationProperties.setStripTrailingZeroes(true);
      var X3D0 =  new X3DObject().setProfile("Immersive").setVersion("3.3")
      .setHead(new headObject()
        .addMeta(new metaObject().setName("title").setContent("HelloWorld.x3d"))
        .addMeta(new metaObject().setName("description").setContent("Simple X3D scene example: Hello World!"))
        .addMeta(new metaObject().setName("created").setContent("30 October 2000"))
        .addMeta(new metaObject().setName("modified").setContent("14 April 2017"))
        .addMeta(new metaObject().setName("creator").setContent("Don Brutzman"))
        .addMeta(new metaObject().setName("Image").setContent("HelloWorld.tall.png"))
        .addMeta(new metaObject().setName("reference").setContent("http://en.wikipedia.org/wiki/Hello_world"))
        .addMeta(new metaObject().setName("reference").setContent("https://en.wikipedia.org/wiki/Hello#.22Hello.2C_World.22_computer_program"))
        .addMeta(new metaObject().setName("reference").setContent("https://en.wikipedia.org/wiki/\"Hello,_World!\"_program"))
        .addMeta(new metaObject().setName("reference").setContent("http://en.wikibooks.org/w/index.php?title=Computer_Programming/Hello_world"))
        .addMeta(new metaObject().setName("reference").setContent("http://www.HelloWorldExample.net"))
        .addMeta(new metaObject().setName("reference").setContent("http://www.web3D.org"))
        .addMeta(new metaObject().setName("reference").setContent("http://www.web3d.org/realtime-3d/news/internationalization-x3d"))
        .addMeta(new metaObject().setName("reference").setContent("http://www.web3d.org/x3d/content/examples/HelloWorld.x3d"))
        .addMeta(new metaObject().setName("reference").setContent("http://X3dGraphics.com/examples/X3dForAdvancedModeling/HelloWorldScenes"))
        .addMeta(new metaObject().setName("identifier").setContent("http://X3dGraphics.com/examples/X3dForWebAuthors/Chapter01TechnicalOverview/HelloWorld.x3d"))
        .addMeta(new metaObject().setName("license").setContent("http://www.web3d.org/x3d/content/examples/license.html"))
        .addMeta(new metaObject().setName("generator").setContent("X3D-Edit 3.3, https://savage.nps.edu/X3D-Edit"))
        .addMeta(new metaObject().setName("reference").setContent("HelloWorld.wrl"))
        .addMeta(new metaObject().setName("reference").setContent("HelloWorld.x3dv"))
        .addMeta(new metaObject().setName("reference").setContent("HelloWorld.x3db"))
        .addMeta(new metaObject().setName("reference").setContent("HelloWorld.xhtml"))
        .addMeta(new metaObject().setName("reference").setContent("HelloWorld.json"))
        .addComments(new CommentsBlock("Alternate encodings: VRML97, X3D ClassicVRML Encoding, X3D Compressed Binary Encoding (CBE), X3DOM, JSON")))
      .setScene(new SceneObject()
        .addComments(new CommentsBlock("Example scene to illustrate X3D nodes and fields (XML elements and attributes)"))
        .addChild(new WorldInfoObject().setTitle("Hello world!"))
        .addChild(new GroupObject()
          .addChild(new ViewpointObject().setDEF("ViewUpClose").setCenterOfRotation(Java.to([0,-1,0], Java.type("float[]"))).setDescription("Hello world!").setPosition(Java.to([0,-1,7], Java.type("float[]"))))
          .addChild(new TransformObject().setRotation(Java.to([0,1,0,3], Java.type("float[]")))
            .addChild(new ShapeObject()
              .setGeometry(new SphereObject())
              .setAppearance(new AppearanceObject()
                .setMaterial(new MaterialObject().setDEF("MaterialLightBlue").setDiffuseColor(Java.to([0.1,0.5,1], Java.type("float[]"))))
                .setTexture(new ImageTextureObject().setDEF("ImageCloudlessEarth").setUrl(Java.to(["earth-topo.png".replace(/\"/g, "\\\""),"earth-topo.jpg".replace(/\"/g, "\\\""),"earth-topo-small.gif".replace(/\"/g, "\\\""),"http://www.web3d.org/x3d/content/examples/Basic/earth-topo.png".replace(/\"/g, "\\\""),"http://www.web3d.org/x3d/content/examples/Basic/earth-topo.jpg".replace(/\"/g, "\\\""),"http://www.web3d.org/x3d/content/examples/Basic/earth-topo-small.gif".replace(/\"/g, "\\\"")], Java.type("java.lang.String[]")))))))
          .addChild(new TransformObject().setTranslation(Java.to([0,-2,0], Java.type("float[]")))
            .addChild(new ShapeObject()
              .setGeometry(new TextObject().setDEF("TextMessage").setString(Java.to(["Hello".replace(/\"/g, "\\\""),"world!".replace(/\"/g, "\\\"")], Java.type("java.lang.String[]")))
                .setFontStyle(new FontStyleObject().setJustify(Java.to(["MIDDLE".replace(/\"/g, "\\\""),"MIDDLE".replace(/\"/g, "\\\"")], Java.type("java.lang.String[]")))))
              .setAppearance(new AppearanceObject()
                .setMaterial(new MaterialObject().setUSE("MaterialLightBlue")))))))      ;
    X3D0.toFileX3D("../data/HelloWorld.new.x3d");
