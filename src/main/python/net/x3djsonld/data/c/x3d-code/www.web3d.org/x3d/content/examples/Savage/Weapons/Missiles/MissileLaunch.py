###############################################
#
# Now available: developmental python x3d.py package on PyPi for import.
#   This approach greatly simplifies Python X3D deployment and use.
#   https://pypi.org/project/x3d
#
# Installation:
#       pip install x3d
# or
#       python -m pip install x3d
#
# Developer options for loading x3d package:
#
#    from x3d import *  # preferred approach, terser source that avoids x3d.* class prefixes
#
# or
#    import x3d         # traditional way to subclass x3d package, all classes require x3d.* prefix
#                       # but python source is very verbose, for example x3d.Material x3d.Shape etc.
#                       # X3dToPython.xslt stylesheet insertPackagePrefix=true supports this option.

from x3d import *

###############################################

newModel=X3D(profile='Immersive',version='3.0',
  head=head(
    children=[
    meta(content='MissileLaunch.x3d',name='title'),
    meta(content='Vertical Launch System Launches of Tomahawk Missile and Harpoon Missile Engagement.',name='description'),
    meta(content='James Harney',name='creator'),
    meta(content='9 August 2001',name='created'),
    meta(content='2 January 2019',name='modified'),
    meta(content='http://www.fas.org/man/dod-101/sys/smart/agm-84.htm',name='reference'),
    meta(content='AGM-84 Harpoon-SLAM - Smart Weapons.htm',name='reference'),
    meta(content='https://savage.nps.edu/Savage/CruiserUnitedStates/Cruiser.x3d',name='reference'),
    meta(content='https://savage.nps.edu/Savage/ExplodingBuildingPrototype.x3d',name='reference'),
    meta(content='http://www.specialoperations.com/multimedia/sounds.html/missile1.au',name='reference'),
    meta(content='http://www.specialoperations.com/multimedia/sounds.html/exp03.au',name='reference'),
    meta(content='http://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Chapter14-ElevationGrid/Figure14.2ElevationGridMountain.x3d',name='reference'),
    meta(content='Thanks to SeaZenith.x3d creator for assistance with HUD coding.',name='reference'),
    meta(content='https://savage.nps.edu/Savage/Weapons/Missiles/MissileLaunch.x3d',name='identifier'),
    meta(content='See url "soundpermissions.html" for copyright info and use on missile1.au and exp03.au that are converted to missile1.wav and exp03.wav for use in this file/model',name='reference'),
    meta(content='soundpermissions.htm',name='accessRights'),
    meta(content='X3D-Edit 3.2, https://savage.nps.edu/X3D-Edit',name='generator'),
    meta(content='../../license.html',name='license')]),
  Scene=Scene(
    children=[
    ExternProtoDeclare(name='EXPLOSION',url=["MissileExplosionPrototype.x3d#ASMEXPLOSION","https://savage.nps.edu/Savage/Weapons/Missiles/MissileExplosionPrototype.x3d#ASMEXPLOSION","MissileExplosionPrototype.wrl#ASMEXPLOSION","https://savage.nps.edu/Savage/Weapons/Missiles/MissileExplosionPrototype.wrl#ASMEXPLOSION"],
      field=[
      field(accessType='inputOnly',name='STARTEXPLOSION',type='SFBool'),
      field(accessType='inputOnly',name='THETIME',type='SFTime')]),
    ExternProtoDeclare(name='TLAMEXPLOSION',url=["MultipleExplosionPrototype.x3d#TLAMEXPLOSION","MultipleExplosionPrototype.wrl#TLAMEXPLOSION","https://savage.nps.edu/Savage/Weapons/Missiles/MultipleExplosionPrototype.x3d#TLAMEXPLOSION","https://savage.nps.edu/Savage/Weapons/Missiles/MultipleExplosionPrototype.wrl#TLAMEXPLOSION"],
      field=[
      field(accessType='inputOnly',name='STARTEXPLOSION',type='SFBool'),
      field(accessType='inputOnly',name='THETIME',type='SFTime')]),
    ExternProtoDeclare(name='RGM-84D',url=["HarpoonPrototype.x3d#RGM-84D","https://savage.nps.edu/Savage/Weapons/Missiles/HarpoonPrototype.x3d#RGM-84D","HarpoonPrototype.wrl#RGM-84D","https://savage.nps.edu/Savage/Weapons/Missiles/HarpoonPrototype.wrl#RGM-84D"],
      field=[
      field(accessType='inputOnly',name='STARTLAUNCH',type='SFBool'),
      field(accessType='inputOnly',name='THETIME',type='SFTime')]),
    ExternProtoDeclare(name='BGM-109',url=["TomahawkPrototype.x3d#BGM-109","https://savage.nps.edu/Savage/Weapons/Missiles/TomahawkPrototype.x3d#BGM-109","TomahawkPrototype.wrl#BGM-109","https://savage.nps.edu/Savage/Weapons/Missiles/TomahawkPrototype.wrl#BGM-109"],
      field=[
      field(accessType='inputOnly',name='STARTLAUNCH',type='SFBool'),
      field(accessType='inputOnly',name='THETIME',type='SFTime')]),
    ExternProtoDeclare(name='Exploder',url=["../../../Savage/Tools/Explosions/MultipleTimerExplodingBuildingPrototype.x3d#Exploder","https://savage.nps.edu/Savage/Tools/Explosions/MultipleTimerExplodingBuildingPrototype.x3d#Exploder","../../../Savage/Tools/Explosions/MultipleTimerExplodingBuildingPrototype.wrl#Exploder","https://savage.nps.edu/Savage/Tools/Explosions/MultipleTimerExplodingBuildingPrototype.wrl#Exploder"],
      field=[
      field(accessType='initializeOnly',name='geometry',type='SFNode'),
      field(accessType='initializeOnly',name='material',type='SFNode'),
      field(accessType='initializeOnly',name='initialPosition',type='SFVec3f'),
      field(accessType='initializeOnly',name='finalPosition',type='SFVec3f'),
      field(accessType='initializeOnly',name='initialOrientation',type='SFRotation'),
      field(accessType='initializeOnly',name='finalOrientation',type='SFRotation'),
      field(accessType='inputOnly',name='set_fraction',type='SFFloat'),
      field(accessType='inputOutput',name='set_startTime',type='SFTime')]),
    #  Harpoon launcher from cruiser model on Savage. Wasn't built to scale on that model, so that's why you see a lot of scaling on my part. The RGM-84D is built to scale, but when sitting in the launcher is only 40 percent the orig size. Scale is animated after launch to increase it to 80 percent size. 
    ProximitySensor(DEF='ProSense',center=(8,0,16),size=(1000000,1000000,1000000)),
    #  Control Panel(HUD) for the different missile launches. 
    Transform(DEF='Hud',translation=(-20,0,16),
      children=[
      Collision(enabled=False,
        children=[
        Transform(translation=(0.048,0.068,-0.2),
          children=[
          TouchSensor(DEF='LAUNCHRGM',description='LAUNCH RGM'),
          Shape(
            appearance=Appearance(DEF='BACKGROUND',
              material=Material(diffuseColor=(0.25,0.25,0.25),transparency=0.7)),
            geometry=Box(size=(0.045,0.02,0.000000001))),
          Transform(translation=(-0.019,0.0,0.0),
            children=[
            Shape(
              geometry=Text(string=["Launch"],
                fontStyle=FontStyle(size=0.009,spacing=0.008,style_='BOLD')),
              appearance=Appearance(DEF='WORDS',
                material=Material(diffuseColor=(0,0,1.0))))]),
          Transform(translation=(-0.019,-0.006,0.0),
            children=[
            Shape(
              geometry=Text(string=["Harpoon"],
                fontStyle=FontStyle(size=0.009,spacing=0.008,style_='BOLD')),
              appearance=Appearance(USE='WORDS'))])]),
        Transform(translation=(-0.003,0.068,-0.2),
          children=[
          TouchSensor(DEF='LAUNCHBGM',description='LAUNCH RGM'),
          Shape(
            appearance=Appearance(USE='BACKGROUND'),
            geometry=Box(size=(0.045,0.02,0.000000001))),
          Transform(translation=(-0.019,0.0,0.0),
            children=[
            Shape(
              geometry=Text(string=["Launch"],
                fontStyle=FontStyle(size=0.009,spacing=0.008,style_='BOLD')),
              appearance=Appearance(USE='WORDS'))]),
          Transform(translation=(-0.019,-0.006,0.0),
            children=[
            Shape(
              geometry=Text(string=["TLAM fwd"],
                fontStyle=FontStyle(size=0.008,spacing=0.008,style_='BOLD')),
              appearance=Appearance(USE='WORDS'))])]),
        Transform(translation=(-0.054,0.068,-0.2),
          children=[
          TouchSensor(DEF='LAUNCHAFT',description='LAUNCH AFT'),
          Shape(
            appearance=Appearance(USE='BACKGROUND'),
            geometry=Box(size=(0.045,0.02,0.000000001))),
          Transform(translation=(-0.019,0.0,0.0),
            children=[
            Shape(
              geometry=Text(string=["Launch"],
                fontStyle=FontStyle(size=0.009,spacing=0.008,style_='BOLD')),
              appearance=Appearance(USE='WORDS'))]),
          Transform(translation=(-0.019,-0.006,0.0),
            children=[
            Shape(
              geometry=Text(string=["TLAM aft"],
                fontStyle=FontStyle(size=0.008,spacing=0.008,style_='BOLD')),
              appearance=Appearance(USE='WORDS'))])])])]),
    #  Harpoon Launcher code here. 
    Transform(scale=(.4,.4,.4),
      #  Missile, exhaust, and missile sound are part of the Harpoonproto. Missile flight is in this file, since someone using the proto will want to define their own flight path, etc. 
      children=[
      Transform(DEF='RGMSSM',rotation=(0,0,1,.76),translation=(-3,8,-40),
        children=[
        ProtoInstance(DEF='MYRGM',name='RGM-84D')]),
      Transform(translation=(-10625.2,8,-100),
        children=[
        ProtoInstance(DEF='MYASM',name='EXPLOSION')]),
      Transform(rotation=(0,0,1,.2),
        children=[
        Group(
          children=[
          Transform(DEF='HARPOON',rotation=(0,1,0,1.52),scale=(3.5,3.5,3.5),translation=(0,6.375,-40),
            children=[
            Transform(DEF='HARPOONBUNCH1',translation=(0,0.1,0),
              children=[
              Group(DEF='HARPOONBUNCH',
                children=[
                Transform(translation=(0,-0.245,0),
                  children=[
                  Group(DEF='MISSILE',
                    children=[
                    Transform(rotation=(1,0,0,-0.5),
                      children=[
                      Shape(DEF='HarpoonWithHolders',
                        appearance=Appearance(DEF='HARPOONGREY',
                          material=Material(),),
                        geometry=Cylinder(height=5,radius=0.25)),
                      Transform(DEF='HARPOONDOWNHOLDER',translation=(0,-1.5,0),
                        children=[
                        Shape(
                          appearance=Appearance(
                            material=Material(),),
                          geometry=Box(size=(0.5,0.2,0.5)))]),
                      Transform(DEF='HARPOONTOPHOLDER',translation=(0,1.5,0),
                        children=[
                        Shape(
                          appearance=Appearance(
                            material=Material(),),
                          geometry=Box(size=(0.5,0.2,0.5)))])])])]),
                Transform(translation=(0.5,-0.245,0),
                  children=[
                  Group(USE='MISSILE')]),
                Transform(translation=(0,0,0.5),
                  children=[
                  Group(USE='MISSILE')]),
                Transform(translation=(0.5,0,0.5),
                  children=[
                  Group(USE='MISSILE')]),
                Transform(rotation=(1,0,0,-0.5),translation=(0.25,-0.45,-0.26),
                  children=[
                  Shape(
                    appearance=Appearance(USE='HARPOONGREY'),
                    geometry=Box(size=(1.05,5,0.1)))])])]),
            Transform(DEF='HarpoonBunch2',rotation=(1,0,0,-1.7),translation=(-1.1,-0.77,0.7),
              children=[
              Group(USE='HARPOONBUNCH')]),
            Transform(DEF='HarpoonSupport1',translation=(-0.85,-2.25,0.5),
              children=[
              Shape(
                appearance=Appearance(USE='HARPOONGREY'),
                geometry=Box(size=(1,1.5,0.1)))]),
            Transform(DEF='HarpoonSupport2',translation=(0.225,-1.85,0.0),
              children=[
              Shape(
                appearance=Appearance(USE='HARPOONGREY'),
                geometry=Box(size=(1,1.5,0.1)))])])])]),
      Transform(DEF='SEEMISSILE',
        children=[
        Viewpoint(DEF='FOLLOW',description='Follow Harpoon Missile',position=(20,0,40))]),
      LOD(center=(-10619.2,10,-100),range=[7000],
        children=[
        Transform(DEF='DEADCRUISER',translation=(-10650,-12,-100),
          children=[
          Inline(url=["../../ShipsMilitary/CruiserUnitedStates/Cruiser.x3d","https://savage.nps.edu/Savage/ShipsMilitary/CruiserUnitedStates/Cruiser.x3d","../../ShipsMilitary/CruiserUnitedStates/Cruiser.wrl","https://savage.nps.edu/Savage/ShipsMilitary/CruiserUnitedStates/Cruiser.wrl"])]),
        Transform(),]),
      Script(DEF='TimeFilter2',
        field=[
        field(accessType='inputOnly',name='setStart',type='SFBool'),
        field(accessType='outputOnly',name='startEventTime',type='SFTime')])]),
    #  FWD VLS launcher and TLAM protoinstance code here. 
    Transform(translation=(0,-.5,-87),
      children=[
      Group(DEF='FWDVLS',
        children=[
        Transform(translation=(0,0,-.15),
          children=[
          Shape(
            geometry=Box(size=(6.3,.75,3.8)),
            appearance=Appearance(
              material=Material(diffuseColor=(.7,.7,.7))))]),
        Transform(DEF='CELLBLOCK1',
          children=[
          Transform(DEF='ROW1FWD',
            children=[
            Transform(translation=(-2.5,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(DEF='CELLTOP1',translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(DEF='TOPCOLOR',diffuseColor=(.9,.9,.9))))]),
              Transform(DEF='THAWK',translation=(0,6.1,0),
                children=[
                ProtoInstance(DEF='TLAM',name='BGM-109')])]),
            Transform(translation=(-1.8,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-1.1,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-.4,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])])]),
          Transform(translation=(0,0,-.7),
            children=[
            Transform(translation=(-2.5,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-1.8,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-1.1,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-.4,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])])])]),
        Transform(DEF='CELLBLOCK2',translation=(3.0,0,0),
          children=[
          Transform(
            children=[
            Transform(translation=(-2.5,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-1.8,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-1.1,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-.4,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(0,0,-.7),
              children=[
              Transform(translation=(-2.5,-7.1,1),
                children=[
                Shape(
                  geometry=Box(size=(.6,15,.6)),
                  appearance=Appearance(
                    material=Material(diffuseColor=(.8,.8,.8)))),
                Transform(translation=(0,7.5,0),
                  children=[
                  Shape(
                    geometry=Box(size=(.6,.2,.6)),
                    appearance=Appearance(
                      material=Material(USE='TOPCOLOR')))])]),
              Transform(translation=(-1.8,-7.1,1),
                children=[
                Shape(
                  geometry=Box(size=(.6,15,.6)),
                  appearance=Appearance(
                    material=Material(diffuseColor=(.8,.8,.8)))),
                Transform(translation=(0,7.5,0),
                  children=[
                  Shape(
                    geometry=Box(size=(.6,.2,.6)),
                    appearance=Appearance(
                      material=Material(USE='TOPCOLOR')))])]),
              Transform(translation=(-1.1,-7.1,1),
                children=[
                Shape(
                  geometry=Box(size=(.6,15,.6)),
                  appearance=Appearance(
                    material=Material(diffuseColor=(.8,.8,.8)))),
                Transform(translation=(0,7.5,0),
                  children=[
                  Shape(
                    geometry=Box(size=(.6,.2,.6)),
                    appearance=Appearance(
                      material=Material(USE='TOPCOLOR')))])]),
              Transform(translation=(-.4,-7.1,1),
                children=[
                Shape(
                  geometry=Box(size=(.6,15,.6)),
                  appearance=Appearance(
                    material=Material(diffuseColor=(.8,.8,.8)))),
                Transform(translation=(0,7.5,0),
                  children=[
                  Shape(
                    geometry=Box(size=(.6,.2,.6)),
                    appearance=Appearance(
                      material=Material(USE='TOPCOLOR')))])])])])]),
        Transform(DEF='CELLBLOCK3',translation=(3.0,0,-1.6),
          children=[
          Transform(
            children=[
            Transform(translation=(-1.1,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(2,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-2.5,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(0,0,-.7),
              children=[
              Transform(translation=(-2.5,-7.1,1),
                children=[
                Shape(
                  geometry=Box(size=(.6,15,.6)),
                  appearance=Appearance(
                    material=Material(diffuseColor=(.8,.8,.8)))),
                Transform(translation=(0,7.5,0),
                  children=[
                  Shape(
                    geometry=Box(size=(.6,.2,.6)),
                    appearance=Appearance(
                      material=Material(USE='TOPCOLOR')))])]),
              Transform(translation=(-1.8,-7.1,1),
                children=[
                Shape(
                  geometry=Box(size=(.6,15,.6)),
                  appearance=Appearance(
                    material=Material(diffuseColor=(.8,.8,.8)))),
                Transform(translation=(0,7.5,0),
                  children=[
                  Shape(
                    geometry=Box(size=(.6,.2,.6)),
                    appearance=Appearance(
                      material=Material(USE='TOPCOLOR')))])]),
              Transform(translation=(-1.1,-7.1,1),
                children=[
                Shape(
                  geometry=Box(size=(.6,15,.6)),
                  appearance=Appearance(
                    material=Material(diffuseColor=(.8,.8,.8)))),
                Transform(translation=(0,7.5,0),
                  children=[
                  Shape(
                    geometry=Box(size=(.6,.2,.6)),
                    appearance=Appearance(
                      material=Material(USE='TOPCOLOR')))])]),
              Transform(translation=(-.4,-7.1,1),
                children=[
                Shape(
                  geometry=Box(size=(.6,15,.6)),
                  appearance=Appearance(
                    material=Material(diffuseColor=(.8,.8,.8)))),
                Transform(translation=(0,7.5,0),
                  children=[
                  Shape(
                    geometry=Box(size=(.6,.2,.6)),
                    appearance=Appearance(
                      material=Material(USE='TOPCOLOR')))])])])])]),
        Transform(DEF='CELLBLOCK4',translation=(0,0,-1.6),
          children=[
          Transform(
            children=[
            Transform(translation=(-2.5,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-1.8,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-1.1,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-.4,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(0,0,-.7),
              children=[
              Transform(translation=(-2.5,-7.1,1),
                children=[
                Shape(
                  geometry=Box(size=(.6,15,.6)),
                  appearance=Appearance(
                    material=Material(diffuseColor=(.8,.8,.8)))),
                Transform(translation=(0,7.5,0),
                  children=[
                  Shape(
                    geometry=Box(size=(.6,.2,.6)),
                    appearance=Appearance(
                      material=Material(USE='TOPCOLOR')))])]),
              Transform(translation=(-1.8,-7.1,1),
                children=[
                Shape(
                  geometry=Box(size=(.6,15,.6)),
                  appearance=Appearance(
                    material=Material(diffuseColor=(.8,.8,.8)))),
                Transform(translation=(0,7.5,0),
                  children=[
                  Shape(
                    geometry=Box(size=(.6,.2,.6)),
                    appearance=Appearance(
                      material=Material(USE='TOPCOLOR')))])]),
              Transform(translation=(-1.1,-7.1,1),
                children=[
                Shape(
                  geometry=Box(size=(.6,15,.6)),
                  appearance=Appearance(
                    material=Material(diffuseColor=(.8,.8,.8)))),
                Transform(translation=(0,7.5,0),
                  children=[
                  Shape(
                    geometry=Box(size=(.6,.2,.6)),
                    appearance=Appearance(
                      material=Material(USE='TOPCOLOR')))])]),
              Transform(translation=(-.4,-7.1,1),
                children=[
                Shape(
                  geometry=Box(size=(.6,15,.6)),
                  appearance=Appearance(
                    material=Material(diffuseColor=(.8,.8,.8)))),
                Transform(translation=(0,7.5,0),
                  children=[
                  Shape(
                    geometry=Box(size=(.6,.2,.6)),
                    appearance=Appearance(
                      material=Material(USE='TOPCOLOR')))])])])])]),
        TimeSensor(DEF='VLSCLOCK',cycleInterval=3),
        OrientationInterpolator(DEF='VLSORIENT',key=[.3,1],keyValue=[(1,0,0,1.57),(1,0,0,0)]),
        PositionInterpolator(DEF='VLSPOSIT',key=[.3,1],keyValue=[(0,7.8,.3),(0,7.5,0)])])]),
    #  AFT VLS LAUNCHER. 
    Transform(translation=(0,-.75,-7),
      children=[
      Group(DEF='AFTVLS',
        children=[
        Transform(translation=(0,0,-.15),
          children=[
          Shape(
            geometry=Box(size=(6.3,.75,7.6)),
            appearance=Appearance(
              material=Material(diffuseColor=(.7,.7,.7))))]),
        Transform(DEF='CELLBLOCK1AFT',
          children=[
          Transform(DEF='ROW1',
            children=[
            Transform(translation=(-2.5,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(DEF='CELLTOPAFT',translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))]),
              Transform(DEF='THAWKAFT',translation=(0,6.1,0),
                children=[
                ProtoInstance(DEF='TLAMAFT',name='BGM-109')])]),
            Transform(translation=(-1.8,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-1.1,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-.4,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])])]),
          Transform(translation=(0,0,-.7),
            children=[
            Transform(translation=(-2.5,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-1.8,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-1.1,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-.4,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])])])]),
        Transform(DEF='CELLBLOCK2AFT',translation=(3.0,0,0),
          children=[
          Transform(
            children=[
            Transform(translation=(-2.5,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-1.8,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-1.1,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-.4,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(0,0,-.7),
              children=[
              Transform(translation=(-2.5,-7.1,1),
                children=[
                Shape(
                  geometry=Box(size=(.6,15,.6)),
                  appearance=Appearance(
                    material=Material(diffuseColor=(.8,.8,.8)))),
                Transform(translation=(0,7.5,0),
                  children=[
                  Shape(
                    geometry=Box(size=(.6,.2,.6)),
                    appearance=Appearance(
                      material=Material(USE='TOPCOLOR')))])]),
              Transform(translation=(-1.8,-7.1,1),
                children=[
                Shape(
                  geometry=Box(size=(.6,15,.6)),
                  appearance=Appearance(
                    material=Material(diffuseColor=(.8,.8,.8)))),
                Transform(translation=(0,7.5,0),
                  children=[
                  Shape(
                    geometry=Box(size=(.6,.2,.6)),
                    appearance=Appearance(
                      material=Material(USE='TOPCOLOR')))])]),
              Transform(translation=(-1.1,-7.1,1),
                children=[
                Shape(
                  geometry=Box(size=(.6,15,.6)),
                  appearance=Appearance(
                    material=Material(diffuseColor=(.8,.8,.8)))),
                Transform(translation=(0,7.5,0),
                  children=[
                  Shape(
                    geometry=Box(size=(.6,.2,.6)),
                    appearance=Appearance(
                      material=Material(USE='TOPCOLOR')))])]),
              Transform(translation=(-.4,-7.1,1),
                children=[
                Shape(
                  geometry=Box(size=(.6,15,.6)),
                  appearance=Appearance(
                    material=Material(diffuseColor=(.8,.8,.8)))),
                Transform(translation=(0,7.5,0),
                  children=[
                  Shape(
                    geometry=Box(size=(.6,.2,.6)),
                    appearance=Appearance(
                      material=Material(USE='TOPCOLOR')))])])])])]),
        Transform(DEF='CELLBLOCK3AFT',translation=(3.0,0,-1.6),
          children=[
          Transform(
            children=[
            Transform(translation=(-1.1,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(2,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-2.5,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(0,0,-.7),
              children=[
              Transform(translation=(-2.5,-7.1,1),
                children=[
                Shape(
                  geometry=Box(size=(.6,15,.6)),
                  appearance=Appearance(
                    material=Material(diffuseColor=(.8,.8,.8)))),
                Transform(translation=(0,7.5,0),
                  children=[
                  Shape(
                    geometry=Box(size=(.6,.2,.6)),
                    appearance=Appearance(
                      material=Material(USE='TOPCOLOR')))])]),
              Transform(translation=(-1.8,-7.1,1),
                children=[
                Shape(
                  geometry=Box(size=(.6,15,.6)),
                  appearance=Appearance(
                    material=Material(diffuseColor=(.8,.8,.8)))),
                Transform(translation=(0,7.5,0),
                  children=[
                  Shape(
                    geometry=Box(size=(.6,.2,.6)),
                    appearance=Appearance(
                      material=Material(USE='TOPCOLOR')))])]),
              Transform(translation=(-1.1,-7.1,1),
                children=[
                Shape(
                  geometry=Box(size=(.6,15,.6)),
                  appearance=Appearance(
                    material=Material(diffuseColor=(.8,.8,.8)))),
                Transform(translation=(0,7.5,0),
                  children=[
                  Shape(
                    geometry=Box(size=(.6,.2,.6)),
                    appearance=Appearance(
                      material=Material(USE='TOPCOLOR')))])]),
              Transform(translation=(-.4,-7.1,1),
                children=[
                Shape(
                  geometry=Box(size=(.6,15,.6)),
                  appearance=Appearance(
                    material=Material(diffuseColor=(.8,.8,.8)))),
                Transform(translation=(0,7.5,0),
                  children=[
                  Shape(
                    geometry=Box(size=(.6,.2,.6)),
                    appearance=Appearance(
                      material=Material(USE='TOPCOLOR')))])])])])]),
        Transform(DEF='CELLBLOCK4AFT',translation=(0,0,-1.6),
          children=[
          Transform(
            children=[
            Transform(translation=(-2.5,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-1.8,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-1.1,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-.4,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(0,0,-.7),
              children=[
              Transform(translation=(-2.5,-7.1,1),
                children=[
                Shape(
                  geometry=Box(size=(.6,15,.6)),
                  appearance=Appearance(
                    material=Material(diffuseColor=(.8,.8,.8)))),
                Transform(translation=(0,7.5,0),
                  children=[
                  Shape(
                    geometry=Box(size=(.6,.2,.6)),
                    appearance=Appearance(
                      material=Material(USE='TOPCOLOR')))])]),
              Transform(translation=(-1.8,-7.1,1),
                children=[
                Shape(
                  geometry=Box(size=(.6,15,.6)),
                  appearance=Appearance(
                    material=Material(diffuseColor=(.8,.8,.8)))),
                Transform(translation=(0,7.5,0),
                  children=[
                  Shape(
                    geometry=Box(size=(.6,.2,.6)),
                    appearance=Appearance(
                      material=Material(USE='TOPCOLOR')))])]),
              Transform(translation=(-1.1,-7.1,1),
                children=[
                Shape(
                  geometry=Box(size=(.6,15,.6)),
                  appearance=Appearance(
                    material=Material(diffuseColor=(.8,.8,.8)))),
                Transform(translation=(0,7.5,0),
                  children=[
                  Shape(
                    geometry=Box(size=(.6,.2,.6)),
                    appearance=Appearance(
                      material=Material(USE='TOPCOLOR')))])]),
              Transform(translation=(-.4,-7.1,1),
                children=[
                Shape(
                  geometry=Box(size=(.6,15,.6)),
                  appearance=Appearance(
                    material=Material(diffuseColor=(.8,.8,.8)))),
                Transform(translation=(0,7.5,0),
                  children=[
                  Shape(
                    geometry=Box(size=(.6,.2,.6)),
                    appearance=Appearance(
                      material=Material(USE='TOPCOLOR')))])])])])]),
        Transform(DEF='CELLBLOCK5AFT',translation=(0,0,-3.2),
          children=[
          Transform(
            children=[
            Transform(translation=(-2.5,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-1.8,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-1.1,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-.4,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])])]),
          Transform(translation=(0,0,-.7),
            children=[
            Transform(translation=(-2.5,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-1.8,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-1.1,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-.4,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])])])]),
        Transform(DEF='CELLBLOCK6AFT',translation=(3,0,-3.2),
          children=[
          Transform(
            children=[
            Transform(translation=(-2.5,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-1.8,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-1.1,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-.4,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])])]),
          Transform(translation=(0,0,-.7),
            children=[
            Transform(translation=(-2.5,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-1.8,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-1.1,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-.4,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])])])]),
        Transform(DEF='CELLBLOCK7AFT',translation=(0,0,1.6),
          children=[
          Transform(
            children=[
            Transform(translation=(-2.5,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-1.8,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-1.1,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-.4,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])])]),
          Transform(translation=(0,0,-.7),
            children=[
            Transform(translation=(-2.5,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-1.8,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-1.1,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-.4,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])])])]),
        Transform(DEF='CELLBLOCK8AFT',translation=(3,0,1.6),
          children=[
          Transform(
            children=[
            Transform(translation=(-2.5,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-1.8,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-1.1,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-.4,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])])]),
          Transform(translation=(0,0,-.7),
            children=[
            Transform(translation=(-2.5,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-1.8,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-1.1,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])]),
            Transform(translation=(-.4,-7.1,1),
              children=[
              Shape(
                geometry=Box(size=(.6,15,.6)),
                appearance=Appearance(
                  material=Material(diffuseColor=(.8,.8,.8)))),
              Transform(translation=(0,7.5,0),
                children=[
                Shape(
                  geometry=Box(size=(.6,.2,.6)),
                  appearance=Appearance(
                    material=Material(USE='TOPCOLOR')))])])])]),
        TimeSensor(DEF='VLSCLOCKAFT',cycleInterval=3),
        OrientationInterpolator(DEF='VLSORIENTAFT',key=[.3,1],keyValue=[(1,0,0,1.57),(1,0,0,0)]),
        PositionInterpolator(DEF='VLSPOSITAFT',key=[.3,1],keyValue=[(0,7.8,.3),(0,7.5,0)])])]),
    #  Simple land with target for TLAM code here. 
    Transform(scale=(10,10,10),translation=(10000,-6,0),
      children=[
      Transform(
        children=[
        Shape(DEF='MOUNTAIN',
          appearance=Appearance(
            material=Material(diffuseColor=(0.4,0.4,0.1))),
          geometry=ElevationGrid(creaseAngle=1.57,height=[0.0,0.0,0.5,1.0,0.5,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,2.5,0.5,0.0,0.0,0.0,0.0,0.0,0.5,0.5,3.0,1.0,0.5,0.0,1.0,0.0,0.0,0.5,2.0,4.5,2.5,1.0,1.5,0.5,1.0,2.5,3.0,4.5,5.5,3.5,3.0,1.0,0.0,0.5,2.0,2.0,2.5,3.5,4.0,2.0,0.5,0.0,0.0,0.0,0.5,1.5,1.0,2.0,3.0,1.5,0.0,0.0,0.0,0.0,0.0,0.0,0.0,2.0,1.5,0.5,0.0,0.0,0.0,0.0,0.0,0.0,0.5,0.0,0.0],solid=False,xDimension=9,zDimension=9))]),
      Transform(translation=(8,0,0),
        children=[
        Shape(USE='MOUNTAIN')]),
      Transform(translation=(16,0,0),
        children=[
        Shape(USE='MOUNTAIN')]),
      Transform(translation=(24,0,0),
        children=[
        Shape(USE='MOUNTAIN')]),
      Transform(translation=(0,0,-8),
        children=[
        Shape(USE='MOUNTAIN')]),
      Transform(translation=(16.5,0,-8.35),
        children=[
        Transform(
          children=[
          Shape(
            appearance=Appearance(
              material=Material(diffuseColor=(0.4,0.6,0.3),emissiveColor=(0,0.05,0))),
            geometry=Box(size=(17.8,.5,17.8)))])]),
      Transform(translation=(0,0,-16),
        children=[
        Shape(USE='MOUNTAIN')]),
      Transform(translation=(0,0,-24),
        children=[
        Shape(USE='MOUNTAIN')]),
      Transform(translation=(8,0,-24),
        children=[
        Shape(USE='MOUNTAIN')]),
      Transform(translation=(16,0,-24),
        children=[
        Shape(USE='MOUNTAIN')]),
      Transform(translation=(24,0,-24),
        children=[
        Shape(USE='MOUNTAIN')]),
      Transform(translation=(24,0,-16),
        children=[
        Shape(USE='MOUNTAIN')]),
      Transform(translation=(24,0,-8),
        children=[
        Shape(USE='MOUNTAIN')]),
      Transform(DEF='TLAMTARGET',scale=(.25,.25,.25),translation=(16.5,0,-13.35),
        children=[
        Transform(DEF='RootEspduTransform',
          children=[
          Viewpoint(description='FWD TLAM target',orientation=(1,0,0,-0.3),position=(1,20,50)),
          DirectionalLight(direction=(-0.57735,-0.57735,0.57735)),
          Shape(
            geometry=Box(DEF='Floor',size=(14,0.1,8)),
            appearance=Appearance(
              material=Material(DEF='FloorMaterial',diffuseColor=(0,0.3,0.3),transparency=0.3))),
          ProtoInstance(DEF='FirstFloorCeiling',name='Exploder',
            fieldValue=[
            fieldValue(name='geometry',
              children=[
              Box(USE='Floor')]),
            fieldValue(name='material',
              children=[
              Material(USE='FloorMaterial')]),
            fieldValue(name='initialPosition',value=(0,3,0)),
            fieldValue(name='finalPosition',value=(14,0.05,14)),
            fieldValue(name='finalOrientation',value=(0.48,0,0.88,3.14))]),
          ProtoInstance(DEF='FirstFloorWallEast',name='Exploder',
            fieldValue=[
            fieldValue(name='geometry',
              children=[
              Box(DEF='LongWall',size=(14,3,0.1))]),
            fieldValue(name='material',
              children=[
              Material(DEF='FirstFloorWallMaterial',diffuseColor=(0.4,0.4,0),transparency=0.3)]),
            fieldValue(name='initialPosition',value=(0,1.5,3.95)),
            fieldValue(name='finalPosition',value=(0,0.05,10)),
            fieldValue(name='finalOrientation',value=(0.96,0.2,-0.19,1.61))]),
          ProtoInstance(DEF='FirstFloorWallNorth',name='Exploder',
            fieldValue=[
            fieldValue(name='geometry',
              children=[
              Box(DEF='ShortWall',size=(0.1,3,8))]),
            fieldValue(name='material',
              children=[
              Material(USE='FirstFloorWallMaterial')]),
            fieldValue(name='initialPosition',value=(7,1.5,0)),
            fieldValue(name='finalPosition',value=(15,0.05,2)),
            fieldValue(name='finalOrientation',value=(0,0,1,-1.57))]),
          ProtoInstance(DEF='FirstFloorWallWest',name='Exploder',
            fieldValue=[
            fieldValue(name='geometry',
              children=[
              Box(USE='LongWall')]),
            fieldValue(name='material',
              children=[
              Material(USE='FirstFloorWallMaterial')]),
            fieldValue(name='initialPosition',value=(0,1.5,-3.95)),
            fieldValue(name='finalPosition',value=(0,0.05,-12)),
            fieldValue(name='finalOrientation',value=(0.96,0.2,-0.19,1.61))]),
          ProtoInstance(DEF='FirstFloorWallSouth',name='Exploder',
            fieldValue=[
            fieldValue(name='geometry',
              children=[
              Box(USE='ShortWall')]),
            fieldValue(name='material',
              children=[
              Material(USE='FirstFloorWallMaterial')]),
            fieldValue(name='initialPosition',value=(-7,1.5,0)),
            fieldValue(name='finalPosition',value=(-10,0.05,1)),
            fieldValue(name='finalOrientation',value=(-0.32,-0.32,0.89,1.69))]),
          ProtoInstance(DEF='SecondFloorCeiling',name='Exploder',
            fieldValue=[
            fieldValue(name='geometry',
              children=[
              Box(USE='Floor')]),
            fieldValue(name='material',
              children=[
              Material(USE='FloorMaterial')]),
            fieldValue(name='initialPosition',value=(0,6,0)),
            fieldValue(name='finalPosition',value=(-12,0.05,-10)),
            fieldValue(name='finalOrientation',value=(0.84,0,0.54,3.14))]),
          ProtoInstance(DEF='SecondFloorWallEast',name='Exploder',
            fieldValue=[
            fieldValue(name='geometry',
              children=[
              Box(USE='LongWall')]),
            fieldValue(name='material',
              children=[
              Material(DEF='SecondFloorWallMaterial',diffuseColor=(0.8,0.8,0),transparency=0.3)]),
            fieldValue(name='initialPosition',value=(0,4.5,3.95)),
            fieldValue(name='finalPosition',value=(5,0.05,20)),
            fieldValue(name='finalOrientation',value=(0.89,-0.32,0.32,1.69))]),
          ProtoInstance(DEF='SecondFloorWallNorth',name='Exploder',
            fieldValue=[
            fieldValue(name='geometry',
              children=[
              Box(USE='ShortWall')]),
            fieldValue(name='material',
              children=[
              Material(USE='SecondFloorWallMaterial')]),
            fieldValue(name='initialPosition',value=(7,4.5,0)),
            fieldValue(name='finalPosition',value=(22,0.05,-6)),
            fieldValue(name='finalOrientation',value=(-0.32,-0.32,0.89,1.69))]),
          ProtoInstance(DEF='SecondFloorWallWest',name='Exploder',
            fieldValue=[
            fieldValue(name='geometry',
              children=[
              Box(USE='LongWall')]),
            fieldValue(name='material',
              children=[
              Material(USE='SecondFloorWallMaterial')]),
            fieldValue(name='initialPosition',value=(0,4.5,-3.95)),
            fieldValue(name='finalPosition',value=(5,0.05,-19)),
            fieldValue(name='finalOrientation',value=(0.96,0.2,-0.19,1.61))]),
          ProtoInstance(DEF='SecondFloorWallSouth',name='Exploder',
            fieldValue=[
            fieldValue(name='geometry',
              children=[
              Box(USE='ShortWall')]),
            fieldValue(name='material',
              children=[
              Material(USE='SecondFloorWallMaterial')]),
            fieldValue(name='initialPosition',value=(-7,4.5,0)),
            fieldValue(name='finalPosition',value=(-10,0.05,11)),
            fieldValue(name='finalOrientation',value=(-0.28,0.28,-0.92,1.66))]),
          Group(
            children=[
            ProtoInstance(DEF='SmokeStack',name='Exploder',
              fieldValue=[
              fieldValue(name='geometry',
                children=[
                Cylinder(bottom=False,height=9,radius=0.5)]),
              fieldValue(name='material',
                children=[
                Material(diffuseColor=(0.2,0.2,0.2),shininess=0.8)]),
              fieldValue(name='initialPosition',value=(-4,4.51,2)),
              fieldValue(name='finalPosition',value=(-15,0.4,2)),
              fieldValue(name='finalOrientation',value=(0,0,1,1.57))])]),
          Script(DEF='TimeFilterE',
            field=[
            field(accessType='inputOnly',name='setStart',type='SFBool'),
            field(accessType='outputOnly',name='startEventTime',type='SFTime'),
            field(accessType='inputOnly',name='InputTime',type='SFTime')]),
          TimeSensor(DEF='ExplosionClock'),
          ROUTE(fromField='isActive',fromNode='LAUNCHBGM',toField='setStart',toNode='TimeFilterE'),
          ROUTE(fromField='touchTime',fromNode='LAUNCHBGM',toField='InputTime',toNode='TimeFilterE'),
          ROUTE(fromField='startEventTime',fromNode='TimeFilterE',toField='set_startTime',toNode='ExplosionClock'),
          ROUTE(fromField='fraction_changed',fromNode='ExplosionClock',toField='set_fraction',toNode='FirstFloorCeiling'),
          ROUTE(fromField='fraction_changed',fromNode='ExplosionClock',toField='set_fraction',toNode='FirstFloorWallEast'),
          ROUTE(fromField='fraction_changed',fromNode='ExplosionClock',toField='set_fraction',toNode='FirstFloorWallNorth'),
          ROUTE(fromField='fraction_changed',fromNode='ExplosionClock',toField='set_fraction',toNode='FirstFloorWallWest'),
          ROUTE(fromField='fraction_changed',fromNode='ExplosionClock',toField='set_fraction',toNode='FirstFloorWallSouth'),
          ROUTE(fromField='fraction_changed',fromNode='ExplosionClock',toField='set_fraction',toNode='SecondFloorCeiling'),
          ROUTE(fromField='fraction_changed',fromNode='ExplosionClock',toField='set_fraction',toNode='SecondFloorWallEast'),
          ROUTE(fromField='fraction_changed',fromNode='ExplosionClock',toField='set_fraction',toNode='SecondFloorWallNorth'),
          ROUTE(fromField='fraction_changed',fromNode='ExplosionClock',toField='set_fraction',toNode='SecondFloorWallWest'),
          ROUTE(fromField='fraction_changed',fromNode='ExplosionClock',toField='set_fraction',toNode='SecondFloorWallSouth'),
          ROUTE(fromField='fraction_changed',fromNode='ExplosionClock',toField='set_fraction',toNode='SmokeStack')])]),
      Transform(DEF='TLAMTARGETAFT',scale=(.25,.25,.25),translation=(16.5,0,-3.),
        children=[
        Transform(DEF='RootEspduTransformAFT',
          children=[
          Viewpoint(description='AFT TLAM Target',orientation=(1,0,0,-0.3),position=(1,20,50)),
          DirectionalLight(direction=(-0.57735,-0.57735,0.57735)),
          Shape(
            geometry=Box(DEF='FloorAFT',size=(14,0.1,8)),
            appearance=Appearance(
              material=Material(DEF='FloorMaterialAFT',diffuseColor=(0,0.3,0.3),transparency=0.3))),
          ProtoInstance(DEF='FirstFloorCeilingAFT',name='Exploder',
            fieldValue=[
            fieldValue(name='geometry',
              children=[
              Box(USE='Floor')]),
            fieldValue(name='material',
              children=[
              Material(USE='FloorMaterial')]),
            fieldValue(name='initialPosition',value=(0,3,0)),
            fieldValue(name='finalPosition',value=(14,0.05,14)),
            fieldValue(name='finalOrientation',value=(0.48,0,0.88,3.14))]),
          ProtoInstance(DEF='FirstFloorWallEastAFT',name='Exploder',
            fieldValue=[
            fieldValue(name='geometry',
              children=[
              Box(DEF='LongWallAFT',size=(14,3,0.1))]),
            fieldValue(name='material',
              children=[
              Material(DEF='FirstFloorWallMaterialAFT',diffuseColor=(0.4,0.4,0),transparency=0.3)]),
            fieldValue(name='initialPosition',value=(0,1.5,3.95)),
            fieldValue(name='finalPosition',value=(0,0.05,10)),
            fieldValue(name='finalOrientation',value=(0.96,0.2,-0.19,1.61))]),
          ProtoInstance(DEF='FirstFloorWallNorthAFT',name='Exploder',
            fieldValue=[
            fieldValue(name='geometry',
              children=[
              Box(DEF='ShortWallAFT',size=(0.1,3,8))]),
            fieldValue(name='material',
              children=[
              Material(USE='FirstFloorWallMaterial')]),
            fieldValue(name='initialPosition',value=(7,1.5,0)),
            fieldValue(name='finalPosition',value=(15,0.05,2)),
            fieldValue(name='finalOrientation',value=(0,0,1,-1.57))]),
          ProtoInstance(DEF='FirstFloorWallWestAFT',name='Exploder',
            fieldValue=[
            fieldValue(name='geometry',
              children=[
              Box(USE='LongWall')]),
            fieldValue(name='material',
              children=[
              Material(USE='FirstFloorWallMaterial')]),
            fieldValue(name='initialPosition',value=(0,1.5,-3.95)),
            fieldValue(name='finalPosition',value=(0,0.05,-12)),
            fieldValue(name='finalOrientation',value=(0.96,0.2,-0.19,1.61))]),
          ProtoInstance(DEF='FirstFloorWallSouthAFT',name='Exploder',
            fieldValue=[
            fieldValue(name='geometry',
              children=[
              Box(USE='ShortWall')]),
            fieldValue(name='material',
              children=[
              Material(USE='FirstFloorWallMaterial')]),
            fieldValue(name='initialPosition',value=(-7,1.5,0)),
            fieldValue(name='finalPosition',value=(-10,0.05,1)),
            fieldValue(name='finalOrientation',value=(-0.32,-0.32,0.89,1.69))]),
          ProtoInstance(DEF='SecondFloorCeilingAFT',name='Exploder',
            fieldValue=[
            fieldValue(name='geometry',
              children=[
              Box(USE='Floor')]),
            fieldValue(name='material',
              children=[
              Material(USE='FloorMaterial')]),
            fieldValue(name='initialPosition',value=(0,6,0)),
            fieldValue(name='finalPosition',value=(-12,0.05,-10)),
            fieldValue(name='finalOrientation',value=(0.84,0,0.54,3.14))]),
          ProtoInstance(DEF='SecondFloorWallEastAFT',name='Exploder',
            fieldValue=[
            fieldValue(name='geometry',
              children=[
              Box(USE='LongWall')]),
            fieldValue(name='material',
              children=[
              Material(DEF='SecondFloorWallMaterialAFT',diffuseColor=(0.8,0.8,0),transparency=0.3)]),
            fieldValue(name='initialPosition',value=(0,4.5,3.95)),
            fieldValue(name='finalPosition',value=(5,0.05,20)),
            fieldValue(name='finalOrientation',value=(0.89,-0.32,0.32,1.69))]),
          ProtoInstance(DEF='SecondFloorWallNorthAFT',name='Exploder',
            fieldValue=[
            fieldValue(name='geometry',
              children=[
              Box(USE='ShortWall')]),
            fieldValue(name='material',
              children=[
              Material(USE='SecondFloorWallMaterial')]),
            fieldValue(name='initialPosition',value=(7,4.5,0)),
            fieldValue(name='finalPosition',value=(22,0.05,-6)),
            fieldValue(name='finalOrientation',value=(-0.32,-0.32,0.89,1.69))]),
          ProtoInstance(DEF='SecondFloorWallWestAFT',name='Exploder',
            fieldValue=[
            fieldValue(name='geometry',
              children=[
              Box(USE='LongWall')]),
            fieldValue(name='material',
              children=[
              Material(USE='SecondFloorWallMaterial')]),
            fieldValue(name='initialPosition',value=(0,4.5,-3.95)),
            fieldValue(name='finalPosition',value=(5,0.05,-19)),
            fieldValue(name='finalOrientation',value=(0.96,0.2,-0.19,1.61))]),
          ProtoInstance(DEF='SecondFloorWallSouthAFT',name='Exploder',
            fieldValue=[
            fieldValue(name='geometry',
              children=[
              Box(USE='ShortWall')]),
            fieldValue(name='material',
              children=[
              Material(USE='SecondFloorWallMaterial')]),
            fieldValue(name='initialPosition',value=(-7,4.5,0)),
            fieldValue(name='finalPosition',value=(-10,0.05,11)),
            fieldValue(name='finalOrientation',value=(-0.28,0.28,-0.92,1.66))]),
          Group(
            children=[
            ProtoInstance(DEF='SmokeStackAFT',name='Exploder',
              fieldValue=[
              fieldValue(name='geometry',
                children=[
                Cylinder(bottom=False,height=9,radius=0.5)]),
              fieldValue(name='material',
                children=[
                Material(diffuseColor=(0.2,0.2,0.2),shininess=0.8)]),
              fieldValue(name='initialPosition',value=(-4,4.51,2)),
              fieldValue(name='finalPosition',value=(-15,0.4,2)),
              fieldValue(name='finalOrientation',value=(0,0,1,1.57))])]),
          Script(DEF='TimeFilterEAFT',
            field=[
            field(accessType='inputOnly',name='setStart',type='SFBool'),
            field(accessType='outputOnly',name='startEventTime',type='SFTime'),
            field(accessType='inputOnly',name='InputTime',type='SFTime')]),
          TimeSensor(DEF='ExplosionClockAFT'),
          ROUTE(fromField='isActive',fromNode='LAUNCHAFT',toField='setStart',toNode='TimeFilterEAFT'),
          ROUTE(fromField='touchTime',fromNode='LAUNCHAFT',toField='InputTime',toNode='TimeFilterEAFT'),
          ROUTE(fromField='startEventTime',fromNode='TimeFilterEAFT',toField='set_startTime',toNode='ExplosionClockAFT'),
          ROUTE(fromField='fraction_changed',fromNode='ExplosionClockAFT',toField='set_fraction',toNode='FirstFloorCeilingAFT'),
          ROUTE(fromField='fraction_changed',fromNode='ExplosionClockAFT',toField='set_fraction',toNode='FirstFloorWallEastAFT'),
          ROUTE(fromField='fraction_changed',fromNode='ExplosionClockAFT',toField='set_fraction',toNode='FirstFloorWallNorthAFT'),
          ROUTE(fromField='fraction_changed',fromNode='ExplosionClockAFT',toField='set_fraction',toNode='FirstFloorWallWestAFT'),
          ROUTE(fromField='fraction_changed',fromNode='ExplosionClockAFT',toField='set_fraction',toNode='FirstFloorWallSouthAFT'),
          ROUTE(fromField='fraction_changed',fromNode='ExplosionClockAFT',toField='set_fraction',toNode='SecondFloorCeilingAFT'),
          ROUTE(fromField='fraction_changed',fromNode='ExplosionClockAFT',toField='set_fraction',toNode='SecondFloorWallEastAFT'),
          ROUTE(fromField='fraction_changed',fromNode='ExplosionClockAFT',toField='set_fraction',toNode='SecondFloorWallNorthAFT'),
          ROUTE(fromField='fraction_changed',fromNode='ExplosionClockAFT',toField='set_fraction',toNode='SecondFloorWallWestAFT'),
          ROUTE(fromField='fraction_changed',fromNode='ExplosionClockAFT',toField='set_fraction',toNode='SecondFloorWallSouthAFT'),
          ROUTE(fromField='fraction_changed',fromNode='ExplosionClockAFT',toField='set_fraction',toNode='SmokeStackAFT')])])]),
    #  TLAM Explosion code here 
    Transform(rotation=(0,1,0,3.14),translation=(10155,5,-130),
      children=[
      ProtoInstance(DEF='MYTLAM',name='TLAMEXPLOSION')]),
    Transform(translation=(10155,5,-20),
      children=[
      ProtoInstance(DEF='MYTLAMAFT',name='TLAMEXPLOSION')]),
    TimeSensor(DEF='SINKCLOCK',cycleInterval=16),
    TimeSensor(DEF='RGMCLOCK',cycleInterval=28),
    PositionInterpolator(DEF='RGMPOSIT',key=[0,.05,.1,.15,.2,.6,1],keyValue=[(-3,8,-40),(-10,15,-40),(-150,200,-40),(-300,300,-40),(-450,100,-40),(-5000,80,-40),(-10619.2,8,-100)]),
    OrientationInterpolator(DEF='RGMANGLE',key=[0,.05,.1,.15,.2,.6,1],keyValue=[(0,0,1,.75),(0,0,1,.75),(0,0,1,.75),(0,0,1,1.57),(0,0,1,1.75),(0,0,1,1.65),(0,0,1,1.57)]),
    OrientationInterpolator(DEF='SINKANGLE',key=[0,.5,1],keyValue=[(0,0,0,0),(0,0,1,.2),(0,0,1,.5)]),
    OrientationInterpolator(DEF='VIEWANGLE',key=[0,.05,.1,.15,.2,.6,1],keyValue=[(0,1,0,.9),(0,1,0,.9),(0,1,0,.9),(0,1,0,.9),(0,1,0,.9),(0,1,0,.9),(0,1,0,.9)]),
    PositionInterpolator(DEF='MISSILESCALE',key=[0,.2,.99,1],keyValue=[(1,1,1),(2,2,2),(2,2,2),(.01,.01,.01)]),
    PositionInterpolator(DEF='SINKINGSHIP',key=[0,.5,1],keyValue=[(-10650,-15,-100),(-10750.2,-20,-100),(-10919.2,-40,-100)]),
    PositionInterpolator(DEF='VIEWPOSIT',key=[0,.05,.1,.15,.2,.6,1],keyValue=[(-3,8,-40),(-10,15,-40),(-150,200,-40),(-300,300,-40),(-450,100,-40),(-5000,80,-40),(-10519.2,10,100)]),
    #  FWD TLAM CLOCKs and interpolators for launch. 
    TimeSensor(DEF='TLAMCLOCK',cycleInterval=28),
    PositionInterpolator(DEF='TLAMPOSIT',key=[0,.05,.1,.143,.2,.6,.95,1],keyValue=[(0,-1.5,0),(0,55,0),(0,200,0),(300,300,0),(450,100,0),(5000,100,0),(10000,70,0),(10155,5,-50)]),
    PositionInterpolator(DEF='TLAMVIEWPOSIT',key=[0,.05,.1,.143,.2,.6,.95,1],keyValue=[(10,20,-300),(0,55,-100),(0,200,-20),(300,300,-20),(450,100,-20),(5000,100,0),(10000,20,-70),(10165,85,-90)]),
    PositionInterpolator(DEF='TLAMSCALE',key=[.99,1],keyValue=[(1,1,1),(.01,.01,.01)]),
    OrientationInterpolator(DEF='TLAMANGLE',key=[0,.05,.1,.143,.2,.6,1],keyValue=[(0,0,1,0),(0,0,1,0),(0,0,1,-1.57),(0,0,1,-1.65),(0,0,1,-1.75),(0,0,1,-1.65),(0,0,1,-1.75)]),
    OrientationInterpolator(DEF='TLAMVIEWANGLE',key=[0,.05,.1,.143,.2,.6,1],keyValue=[(0,1,0,0),(0,1,0,0),(0,1,0,0),(0,1,0,0),(0,1,0,0),(0,1,0,0),(1,0,0,1.23)]),
    #  AFT LAUNCHER 
    TimeSensor(DEF='CLOCKAFT',cycleInterval=3),
    OrientationInterpolator(DEF='ORIENTAFT',key=[.3,1],keyValue=[(1,0,0,1.57),(1,0,0,0)]),
    PositionInterpolator(DEF='POSITAFT',key=[.3,1],keyValue=[(0,7.8,.3),(0,7.5,0)]),
    #  AFT TLAM flight path 
    TimeSensor(DEF='TLAMCLOCKAFT',cycleInterval=28),
    PositionInterpolator(DEF='TLAMPOSITAFT',key=[0,.05,.1,.143,.2,.6,.95,1],keyValue=[(0,-1.5,0),(0,55,0),(0,200,0),(300,300,0),(450,100,0),(5000,100,0),(10000,70,0),(10155,5,-20)]),
    PositionInterpolator(DEF='TLAMVIEWPOSITAFT',key=[0,.05,.1,.143,.2,.6,.95,1],keyValue=[(10,20,300),(0,35,50),(0,190,-30),(300,280,-30),(450,100,-30),(5000,100,0),(10000,50,-50),(10165,65,-70)]),
    PositionInterpolator(DEF='TLAMSCALEAFT',key=[.99,1],keyValue=[(1,1,1),(.01,.01,.01)]),
    OrientationInterpolator(DEF='TLAMANGLEAFT',key=[0,.05,.1,.143,.2,.6,1],keyValue=[(0,0,1,0),(0,0,1,0),(0,0,1,-1.57),(0,0,1,-1.65),(0,0,1,-1.75),(0,0,1,-1.65),(0,0,1,-1.75)]),
    OrientationInterpolator(DEF='TLAMVIEWANGLEAFT',key=[0,.05,.1,.143,.2,.6,1],keyValue=[(0,1,0,0),(0,1,0,0),(0,1,0,0),(0,1,0,0),(0,1,0,0),(0,1,0,0),(1,0,0,-1.23)]),
    #  TLAM viewpoints 
    Transform(DEF='TLAMVIEW',
      children=[
      Viewpoint(description='Watch the TLAM FWD',orientation=(0,1,0,3.14),position=(10,20,-300))]),
    Transform(DEF='TLAMVIEWAFT',
      children=[
      Viewpoint(description='Watch the TLAM AFT',position=(10,20,300))]),
    #  Harpoon Engagement Routes. 
    ROUTE(fromField='fraction_changed',fromNode='RGMCLOCK',toField='set_fraction',toNode='RGMPOSIT'),
    ROUTE(fromField='fraction_changed',fromNode='RGMCLOCK',toField='set_fraction',toNode='RGMANGLE'),
    ROUTE(fromField='fraction_changed',fromNode='RGMCLOCK',toField='set_fraction',toNode='VIEWPOSIT'),
    ROUTE(fromField='fraction_changed',fromNode='RGMCLOCK',toField='set_fraction',toNode='VIEWANGLE'),
    ROUTE(fromField='value_changed',fromNode='RGMANGLE',toField='set_rotation',toNode='RGMSSM'),
    ROUTE(fromField='value_changed',fromNode='RGMPOSIT',toField='set_translation',toNode='RGMSSM'),
    ROUTE(fromField='value_changed',fromNode='VIEWPOSIT',toField='set_translation',toNode='SEEMISSILE'),
    ROUTE(fromField='value_changed',fromNode='VIEWANGLE',toField='set_orientation',toNode='FOLLOW'),
    ROUTE(fromField='fraction_changed',fromNode='RGMCLOCK',toField='set_fraction',toNode='MISSILESCALE'),
    ROUTE(fromField='value_changed',fromNode='MISSILESCALE',toField='set_scale',toNode='RGMSSM'),
    #  Harpoon Target animation. 
    ROUTE(fromField='startEventTime',fromNode='TimeFilter2',toField='set_startTime',toNode='SINKCLOCK'),
    ROUTE(fromField='fraction_changed',fromNode='SINKCLOCK',toField='set_fraction',toNode='SINKINGSHIP'),
    ROUTE(fromField='value_changed',fromNode='SINKINGSHIP',toField='set_translation',toNode='DEADCRUISER'),
    ROUTE(fromField='fraction_changed',fromNode='SINKCLOCK',toField='set_fraction',toNode='SINKANGLE'),
    ROUTE(fromField='value_changed',fromNode='SINKANGLE',toField='set_rotation',toNode='DEADCRUISER'),
    #  Beginning of HUD routes 
    #  Harpoon Launch 
    ROUTE(fromField='touchTime',fromNode='LAUNCHRGM',toField='set_startTime',toNode='RGMCLOCK'),
    ROUTE(fromField='isActive',fromNode='LAUNCHRGM',toField='setStart',toNode='TimeFilter2'),
    ROUTE(fromField='isActive',fromNode='LAUNCHRGM',toField='STARTLAUNCH',toNode='MYRGM'),
    ROUTE(fromField='touchTime',fromNode='LAUNCHRGM',toField='THETIME',toNode='MYRGM'),
    ROUTE(fromField='isActive',fromNode='LAUNCHRGM',toField='STARTEXPLOSION',toNode='MYASM'),
    ROUTE(fromField='touchTime',fromNode='LAUNCHRGM',toField='THETIME',toNode='MYASM'),
    #  Tomhawk Launch Forward Routes. 
    ROUTE(fromField='isActive',fromNode='LAUNCHBGM',toField='STARTEXPLOSION',toNode='MYTLAM'),
    ROUTE(fromField='touchTime',fromNode='LAUNCHBGM',toField='THETIME',toNode='MYTLAM'),
    ROUTE(fromField='touchTime',fromNode='LAUNCHBGM',toField='set_startTime',toNode='TLAMCLOCK'),
    ROUTE(fromField='fraction_changed',fromNode='TLAMCLOCK',toField='set_fraction',toNode='TLAMPOSIT'),
    ROUTE(fromField='fraction_changed',fromNode='TLAMCLOCK',toField='set_fraction',toNode='TLAMANGLE'),
    ROUTE(fromField='fraction_changed',fromNode='TLAMCLOCK',toField='set_fraction',toNode='TLAMSCALE'),
    ROUTE(fromField='value_changed',fromNode='TLAMPOSIT',toField='set_translation',toNode='THAWK'),
    ROUTE(fromField='value_changed',fromNode='TLAMANGLE',toField='set_rotation',toNode='THAWK'),
    ROUTE(fromField='value_changed',fromNode='TLAMSCALE',toField='set_scale',toNode='THAWK'),
    ROUTE(fromField='fraction_changed',fromNode='TLAMCLOCK',toField='set_fraction',toNode='TLAMVIEWANGLE'),
    ROUTE(fromField='fraction_changed',fromNode='TLAMCLOCK',toField='set_fraction',toNode='TLAMVIEWPOSIT'),
    ROUTE(fromField='value_changed',fromNode='TLAMVIEWANGLE',toField='set_rotation',toNode='TLAMVIEW'),
    ROUTE(fromField='value_changed',fromNode='TLAMVIEWPOSIT',toField='set_translation',toNode='TLAMVIEW'),
    ROUTE(fromField='isActive',fromNode='LAUNCHBGM',toField='STARTLAUNCH',toNode='TLAM'),
    ROUTE(fromField='touchTime',fromNode='LAUNCHBGM',toField='THETIME',toNode='TLAM'),
    ROUTE(fromField='touchTime',fromNode='LAUNCHBGM',toField='set_startTime',toNode='VLSCLOCK'),
    ROUTE(fromField='fraction_changed',fromNode='VLSCLOCK',toField='set_fraction',toNode='VLSORIENT'),
    ROUTE(fromField='value_changed',fromNode='VLSORIENT',toField='set_rotation',toNode='CELLTOP1'),
    ROUTE(fromField='fraction_changed',fromNode='VLSCLOCK',toField='set_fraction',toNode='VLSPOSIT'),
    ROUTE(fromField='value_changed',fromNode='VLSPOSIT',toField='set_translation',toNode='CELLTOP1'),
    #  TLAM AFT VLS ROUTES 
    ROUTE(fromField='isActive',fromNode='LAUNCHAFT',toField='STARTLAUNCH',toNode='TLAMAFT'),
    ROUTE(fromField='touchTime',fromNode='LAUNCHAFT',toField='THETIME',toNode='TLAMAFT'),
    ROUTE(fromField='isActive',fromNode='LAUNCHAFT',toField='STARTEXPLOSION',toNode='MYTLAMAFT'),
    ROUTE(fromField='touchTime',fromNode='LAUNCHAFT',toField='THETIME',toNode='MYTLAMAFT'),
    ROUTE(fromField='touchTime',fromNode='LAUNCHAFT',toField='set_startTime',toNode='CLOCKAFT'),
    ROUTE(fromField='fraction_changed',fromNode='CLOCKAFT',toField='set_fraction',toNode='ORIENTAFT'),
    ROUTE(fromField='value_changed',fromNode='ORIENTAFT',toField='set_rotation',toNode='CELLTOPAFT'),
    ROUTE(fromField='fraction_changed',fromNode='CLOCKAFT',toField='set_fraction',toNode='POSITAFT'),
    ROUTE(fromField='value_changed',fromNode='POSITAFT',toField='set_translation',toNode='CELLTOPAFT'),
    #  AFT Launch missile routes 
    ROUTE(fromField='touchTime',fromNode='LAUNCHAFT',toField='set_startTime',toNode='TLAMCLOCKAFT'),
    ROUTE(fromField='fraction_changed',fromNode='TLAMCLOCKAFT',toField='set_fraction',toNode='TLAMPOSITAFT'),
    ROUTE(fromField='fraction_changed',fromNode='TLAMCLOCKAFT',toField='set_fraction',toNode='TLAMANGLEAFT'),
    ROUTE(fromField='fraction_changed',fromNode='TLAMCLOCKAFT',toField='set_fraction',toNode='TLAMSCALEAFT'),
    ROUTE(fromField='value_changed',fromNode='TLAMPOSITAFT',toField='set_translation',toNode='THAWKAFT'),
    ROUTE(fromField='value_changed',fromNode='TLAMANGLEAFT',toField='set_rotation',toNode='THAWKAFT'),
    ROUTE(fromField='value_changed',fromNode='TLAMSCALEAFT',toField='set_scale',toNode='THAWKAFT'),
    ROUTE(fromField='fraction_changed',fromNode='TLAMCLOCKAFT',toField='set_fraction',toNode='TLAMVIEWANGLEAFT'),
    ROUTE(fromField='fraction_changed',fromNode='TLAMCLOCKAFT',toField='set_fraction',toNode='TLAMVIEWPOSITAFT'),
    ROUTE(fromField='value_changed',fromNode='TLAMVIEWANGLEAFT',toField='set_rotation',toNode='TLAMVIEWAFT'),
    ROUTE(fromField='value_changed',fromNode='TLAMVIEWPOSITAFT',toField='set_translation',toNode='TLAMVIEWAFT'),
    #  HUD proximity sensor routes 
    ROUTE(fromField='orientation_changed',fromNode='ProSense',toField='set_rotation',toNode='Hud'),
    ROUTE(fromField='position_changed',fromNode='ProSense',toField='set_translation',toNode='Hud'),
    ROUTE(fromField='position_changed',fromNode='ProSense',toField='set_center',toNode='ProSense')])
) # X3D model complete

###############################################
# Self-test diagnostics
###############################################

if        metaDiagnostics(newModel): # built-in utility method in X3D class
    print(metaDiagnostics(newModel))
print('check  newModel.XML() serialization...')
newModelXML = newModel.XML() # test export method XML() for exceptions
# print(newModelXML) # debug

print ("python x3d.py load successful for MissileLaunch.py")
