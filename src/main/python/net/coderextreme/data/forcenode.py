import x3dpsail as x3d
X3D0 = x3d.X3D()
X3D0.setProfile("Immersive")
X3D0.setVersion("3.3")
head1 = x3d.head()
meta2 = x3d.meta()
meta2.setName("creator")
meta2.setContent("John W Carlson")

head1.addMeta(meta2)
meta3 = x3d.meta()
meta3.setName("created")
meta3.setContent("December 13 2015")

head1.addMeta(meta3)
meta4 = x3d.meta()
meta4.setName("title")
meta4.setContent("forcenode.x3d")

head1.addMeta(meta4)
meta5 = x3d.meta()
meta5.setName("identifier")
meta5.setContent("https://coderextreme.net/X3DJSONLD/force.x3d")

head1.addMeta(meta5)
meta6 = x3d.meta()
meta6.setName("description")
meta6.setContent("beginnings of a force directed graph in 3D")

head1.addMeta(meta6)
meta7 = x3d.meta()
meta7.setName("generator")
meta7.setContent("Vim, X3D-Edit, https://savage.nps.edu/X3D-Edit")

head1.addMeta(meta7)

X3D0.setHead(head1)
Scene8 = x3d.Scene()
ProtoDeclare9 = x3d.ProtoDeclare()
ProtoDeclare9.setName("node")
ProtoInterface10 = x3d.ProtoInterface()
field11 = x3d.field()
field11.setName("position")
field11.setAccessType("inputOutput")
field11.setType("SFVec3f")
field11.setValue("0 0 0")

ProtoInterface10.addField(field11)

ProtoDeclare9.setProtoInterface(ProtoInterface10)
ProtoBody12 = x3d.ProtoBody()
Group13 = x3d.Group()
Group13.setBboxCenter([0,0,0])
Group13.setBboxSize([-1,-1,-1])
Transform14 = x3d.Transform()
Transform14.setDEF("transform")
Transform14.setBboxCenter([0,0,0])
Transform14.setBboxSize([-1,-1,-1])
IS15 = x3d.IS()
connect16 = x3d.connect()
connect16.setNodeField("translation")
connect16.setProtoField("position")

IS15.addConnect(connect16)

Transform14.setIS(IS15)
Shape17 = x3d.Shape()
Shape17.setBboxCenter([0,0,0])
Shape17.setBboxSize([-1,-1,-1])
Sphere18 = x3d.Sphere()

Shape17.setGeometry(Sphere18)
Appearance19 = x3d.Appearance()
Material20 = x3d.Material()
Material20.setDiffuseColor([1,0,0])

Appearance19.setMaterial(Material20)

Shape17.setAppearance(Appearance19)

Transform14.addChildren(Shape17)
Transform21 = x3d.Transform()
Transform21.setTranslation([1,0,1])
Transform21.setBboxCenter([0,0,0])
Transform21.setBboxSize([-1,-1,-1])
Shape22 = x3d.Shape()
Shape22.setBboxCenter([0,0,0])
Shape22.setBboxSize([-1,-1,-1])
Text23 = x3d.Text()
Text23.setString(["Node"])
FontStyle24 = x3d.FontStyle()
FontStyle24.setJustify(["MIDDLE","MIDDLE"])
FontStyle24.setSize(5)

Text23.setFontStyle(FontStyle24)

Shape22.setGeometry(Text23)
Appearance25 = x3d.Appearance()
Material26 = x3d.Material()
Material26.setDiffuseColor([0,0,1])

Appearance25.setMaterial(Material26)

Shape22.setAppearance(Appearance25)

Transform21.addChildren(Shape22)

Transform14.addChildren(Transform21)

Group13.addChildren(Transform14)
PositionInterpolator27 = x3d.PositionInterpolator()
PositionInterpolator27.setDEF("NodePosition")
PositionInterpolator27.setKey([0,1])
PositionInterpolator27.setKeyValue([0,0,0,0,5,0])

Group13.addChildren(PositionInterpolator27)
TimeSensor28 = x3d.TimeSensor()
TimeSensor28.setDEF("nodeClock")
TimeSensor28.setCycleInterval(3)
TimeSensor28.setLoop(True)

Group13.addChildren(TimeSensor28)
ROUTE29 = x3d.ROUTE()
ROUTE29.setFromNode("nodeClock")
ROUTE29.setFromField("cycleTime")
ROUTE29.setToNode("MoveBall")
ROUTE29.setToField("set_cycle")

Group13.addChildren(ROUTE29)
ROUTE30 = x3d.ROUTE()
ROUTE30.setFromNode("nodeClock")
ROUTE30.setFromField("fraction_changed")
ROUTE30.setToNode("NodePosition")
ROUTE30.setToField("set_fraction")

Group13.addChildren(ROUTE30)
ROUTE31 = x3d.ROUTE()
ROUTE31.setFromNode("MoveBall")
ROUTE31.setFromField("keyValue")
ROUTE31.setToNode("NodePosition")
ROUTE31.setToField("keyValue")

Group13.addChildren(ROUTE31)
ROUTE32 = x3d.ROUTE()
ROUTE32.setFromNode("NodePosition")
ROUTE32.setFromField("value_changed")
ROUTE32.setToNode("transform")
ROUTE32.setToField("set_translation")

Group13.addChildren(ROUTE32)
X3DScript33 = x3d.X3DScript()
X3DScript33.setDEF("MoveBall")
field34 = x3d.field()
field34.setName("translation")
field34.setAccessType("inputOutput")
field34.setType("SFVec3f")
field34.setValue("50 50 0")

X3DScript33.addField(field34)
field35 = x3d.field()
field35.setName("old")
field35.setAccessType("inputOutput")
field35.setType("SFVec3f")
field35.setValue("0 0 0")

X3DScript33.addField(field35)
field36 = x3d.field()
field36.setName("set_cycle")
field36.setAccessType("inputOnly")
field36.setType("SFTime")

X3DScript33.addField(field36)
field37 = x3d.field()
field37.setName("keyValue")
field37.setAccessType("outputOnly")
field37.setType("MFVec3f")

X3DScript33.addField(field37)

Group13.addX3DScript(X3DScript33)

ProtoBody12.addChildren(Group13)

ProtoDeclare9.setProtoBody(ProtoBody12)

Scene8.addChildren(ProtoDeclare9)
ProtoDeclare38 = x3d.ProtoDeclare()
ProtoDeclare38.setName("cylinder")
ProtoInterface39 = x3d.ProtoInterface()
field40 = x3d.field()
field40.setName("set_positionA")
field40.setAccessType("inputOnly")
field40.setType("SFVec3f")

ProtoInterface39.addField(field40)
field41 = x3d.field()
field41.setName("set_positionB")
field41.setAccessType("inputOnly")
field41.setType("SFVec3f")

ProtoInterface39.addField(field41)

ProtoDeclare38.setProtoInterface(ProtoInterface39)
ProtoBody42 = x3d.ProtoBody()
Group43 = x3d.Group()
Group43.setBboxCenter([0,0,0])
Group43.setBboxSize([-1,-1,-1])
Shape44 = x3d.Shape()
Shape44.setBboxCenter([0,0,0])
Shape44.setBboxSize([-1,-1,-1])
Extrusion45 = x3d.Extrusion()
Extrusion45.setDEF("extrusion")
Extrusion45.setCreaseAngle(0.785)
Extrusion45.setCrossSection([1,0,0.92,-0.38,0.71,-0.71,0.38,-0.92,0,-1,-0.38,-0.92,-0.71,-0.71,-0.92,-0.38,-1,0,-0.92,0.38,-0.71,0.71,-0.38,0.92,0,1,0.38,0.92,0.71,0.71,0.92,0.38,1,0])
Extrusion45.setSpine([0,-50,0,0,50,0])

Shape44.setGeometry(Extrusion45)
Appearance46 = x3d.Appearance()
Material47 = x3d.Material()
Material47.setDiffuseColor([0,1,0])

Appearance46.setMaterial(Material47)

Shape44.setAppearance(Appearance46)

Group43.addChildren(Shape44)
ROUTE48 = x3d.ROUTE()
ROUTE48.setFromNode("MoveCylinder")
ROUTE48.setFromField("spine")
ROUTE48.setToNode("extrusion")
ROUTE48.setToField("set_spine")

Group43.addChildren(ROUTE48)
X3DScript49 = x3d.X3DScript()
X3DScript49.setDEF("MoveCylinder")
field50 = x3d.field()
field50.setName("spine")
field50.setAccessType("inputOutput")
field50.setType("MFVec3f")
field50.setValue("0 -50 0 0 50 0")

X3DScript49.addField(field50)
field51 = x3d.field()
field51.setName("set_endA")
field51.setAccessType("inputOnly")
field51.setType("SFVec3f")

X3DScript49.addField(field51)
field52 = x3d.field()
field52.setName("set_endB")
field52.setAccessType("inputOnly")
field52.setType("SFVec3f")

X3DScript49.addField(field52)
IS53 = x3d.IS()
connect54 = x3d.connect()
connect54.setNodeField("set_endA")
connect54.setProtoField("set_positionA")

IS53.addConnect(connect54)
connect55 = x3d.connect()
connect55.setNodeField("set_endB")
connect55.setProtoField("set_positionB")

IS53.addConnect(connect55)

X3DScript49.setIS(IS53)

Group43.addX3DScript(X3DScript49)

ProtoBody42.addChildren(Group43)

ProtoDeclare38.setProtoBody(ProtoBody42)

Scene8.addChildren(ProtoDeclare38)
Transform56 = x3d.Transform()
Transform56.setDEF("HoldsContent")
Transform56.setScale([0.1,0.1,0.1])
Transform56.setBboxCenter([0,0,0])
Transform56.setBboxSize([-1,-1,-1])
PlaneSensor57 = x3d.PlaneSensor()
PlaneSensor57.setDEF("clickGenerator")
PlaneSensor57.setMinPosition([-50,-50])
PlaneSensor57.setMaxPosition([50,50])
PlaneSensor57.setDescription("click on background to add nodes, click on nodes to add links")

Transform56.addChildren(PlaneSensor57)
ProtoInstance58 = x3d.ProtoInstance()
ProtoInstance58.setName("node")
ProtoInstance58.setDEF("nodeA")
fieldValue59 = x3d.fieldValue()
fieldValue59.setName("position")
fieldValue59.setValue("0 0 0")

ProtoInstance58.addFieldValue(fieldValue59)

Transform56.addChildren(ProtoInstance58)
ProtoInstance60 = x3d.ProtoInstance()
ProtoInstance60.setName("node")
ProtoInstance60.setDEF("nodeB")
fieldValue61 = x3d.fieldValue()
fieldValue61.setName("position")
fieldValue61.setValue("50 50 50")

ProtoInstance60.addFieldValue(fieldValue61)

Transform56.addChildren(ProtoInstance60)
ProtoInstance62 = x3d.ProtoInstance()
ProtoInstance62.setName("node")
ProtoInstance62.setDEF("nodeC")
fieldValue63 = x3d.fieldValue()
fieldValue63.setName("position")
fieldValue63.setValue("-50 -50 -50")

ProtoInstance62.addFieldValue(fieldValue63)

Transform56.addChildren(ProtoInstance62)
ProtoInstance64 = x3d.ProtoInstance()
ProtoInstance64.setName("node")
ProtoInstance64.setDEF("nodeD")
fieldValue65 = x3d.fieldValue()
fieldValue65.setName("position")
fieldValue65.setValue("50 50 -50")

ProtoInstance64.addFieldValue(fieldValue65)

Transform56.addChildren(ProtoInstance64)
ProtoInstance66 = x3d.ProtoInstance()
ProtoInstance66.setName("cylinder")
ProtoInstance66.setDEF("linkA")
fieldValue67 = x3d.fieldValue()
fieldValue67.setName("set_positionA")
fieldValue67.setValue("0 0 0")

ProtoInstance66.addFieldValue(fieldValue67)
fieldValue68 = x3d.fieldValue()
fieldValue68.setName("set_positionB")
fieldValue68.setValue("50 50 50")

ProtoInstance66.addFieldValue(fieldValue68)

Transform56.addChildren(ProtoInstance66)
ProtoInstance69 = x3d.ProtoInstance()
ProtoInstance69.setName("cylinder")
ProtoInstance69.setDEF("linkB")
fieldValue70 = x3d.fieldValue()
fieldValue70.setName("set_positionA")
fieldValue70.setValue("0 0 0")

ProtoInstance69.addFieldValue(fieldValue70)
fieldValue71 = x3d.fieldValue()
fieldValue71.setName("set_positionB")
fieldValue71.setValue("-50 -50 -50")

ProtoInstance69.addFieldValue(fieldValue71)

Transform56.addChildren(ProtoInstance69)
ProtoInstance72 = x3d.ProtoInstance()
ProtoInstance72.setName("cylinder")
ProtoInstance72.setDEF("linkC")
fieldValue73 = x3d.fieldValue()
fieldValue73.setName("set_positionA")
fieldValue73.setValue("50 50 50")

ProtoInstance72.addFieldValue(fieldValue73)
fieldValue74 = x3d.fieldValue()
fieldValue74.setName("set_positionB")
fieldValue74.setValue("50 50 -50")

ProtoInstance72.addFieldValue(fieldValue74)

Transform56.addChildren(ProtoInstance72)

Scene8.addChildren(Transform56)
ROUTE75 = x3d.ROUTE()
ROUTE75.setFromNode("clickGenerator")
ROUTE75.setFromField("isActive")
ROUTE75.setToNode("clickHandler")
ROUTE75.setToField("add_node")

Scene8.addChildren(ROUTE75)
ROUTE76 = x3d.ROUTE()
ROUTE76.setFromNode("nodeA")
ROUTE76.setFromField("position")
ROUTE76.setToNode("linkA")
ROUTE76.setToField("set_positionA")

Scene8.addChildren(ROUTE76)
ROUTE77 = x3d.ROUTE()
ROUTE77.setFromNode("nodeB")
ROUTE77.setFromField("position")
ROUTE77.setToNode("linkA")
ROUTE77.setToField("set_positionB")

Scene8.addChildren(ROUTE77)
ROUTE78 = x3d.ROUTE()
ROUTE78.setFromNode("nodeA")
ROUTE78.setFromField("position")
ROUTE78.setToNode("linkB")
ROUTE78.setToField("set_positionA")

Scene8.addChildren(ROUTE78)
ROUTE79 = x3d.ROUTE()
ROUTE79.setFromNode("nodeC")
ROUTE79.setFromField("position")
ROUTE79.setToNode("linkB")
ROUTE79.setToField("set_positionB")

Scene8.addChildren(ROUTE79)
ROUTE80 = x3d.ROUTE()
ROUTE80.setFromNode("nodeA")
ROUTE80.setFromField("position")
ROUTE80.setToNode("linkC")
ROUTE80.setToField("set_positionA")

Scene8.addChildren(ROUTE80)
ROUTE81 = x3d.ROUTE()
ROUTE81.setFromNode("nodeD")
ROUTE81.setFromField("position")
ROUTE81.setToNode("linkC")
ROUTE81.setToField("set_positionB")

Scene8.addChildren(ROUTE81)

X3D0.setScene(Scene8)
X3D0.toFileX3D("../data/forcenode_RoundTrip.x3d")
