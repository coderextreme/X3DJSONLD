import x3dpsail as x3d
X3D0 = x3d.X3D()
X3D0.setProfile("Immersive")
X3D0.setVersion("3.3")
head1 = x3d.head()
component2 = x3d.component()
component2.setName("Scripting")
component2.setLevel(1)

head1.addComponent(component2)
meta3 = x3d.meta()
meta3.setName("creator")
meta3.setContent("John W Carlson")

head1.addMeta(meta3)
meta4 = x3d.meta()
meta4.setName("created")
meta4.setContent("December 13 2015")

head1.addMeta(meta4)
meta5 = x3d.meta()
meta5.setName("title")
meta5.setContent("force.x3d")

head1.addMeta(meta5)
meta6 = x3d.meta()
meta6.setName("identifier")
meta6.setContent("https://coderextreme.net/X3DJSONLD/force.x3d")

head1.addMeta(meta6)
meta7 = x3d.meta()
meta7.setName("description")
meta7.setContent("beginnings of a force directed graph in 3D")

head1.addMeta(meta7)
meta8 = x3d.meta()
meta8.setName("generator")
meta8.setContent("Vim, X3D-Edit, https://savage.nps.edu/X3D-Edit")

head1.addMeta(meta8)

X3D0.setHead(head1)
Scene9 = x3d.Scene()
ProtoDeclare10 = x3d.ProtoDeclare()
ProtoDeclare10.setName("node")
ProtoInterface11 = x3d.ProtoInterface()
field12 = x3d.field()
field12.setName("position")
field12.setAccessType("inputOutput")
field12.setType("SFVec3f")
field12.setValue("0 0 0")

ProtoInterface11.addField(field12)

ProtoDeclare10.setProtoInterface(ProtoInterface11)
ProtoBody13 = x3d.ProtoBody()
Group14 = x3d.Group()
Group14.setBboxCenter([0,0,0])
Group14.setBboxSize([-1,-1,-1])
Transform15 = x3d.Transform()
Transform15.setDEF("transform")
Transform15.setBboxCenter([0,0,0])
Transform15.setBboxSize([-1,-1,-1])
IS16 = x3d.IS()
connect17 = x3d.connect()
connect17.setNodeField("translation")
connect17.setProtoField("position")

IS16.addConnect(connect17)

Transform15.setIS(IS16)
Shape18 = x3d.Shape()
Shape18.setBboxCenter([0,0,0])
Shape18.setBboxSize([-1,-1,-1])
Sphere19 = x3d.Sphere()

Shape18.setGeometry(Sphere19)
Appearance20 = x3d.Appearance()
Material21 = x3d.Material()
Material21.setDiffuseColor([1,0,0])

Appearance20.setMaterial(Material21)

Shape18.setAppearance(Appearance20)

Transform15.addChildren(Shape18)
Transform22 = x3d.Transform()
Transform22.setTranslation([1,0,0])
Transform22.setBboxCenter([0,0,0])
Transform22.setBboxSize([-1,-1,-1])
Shape23 = x3d.Shape()
Shape23.setBboxCenter([0,0,0])
Shape23.setBboxSize([-1,-1,-1])
Text24 = x3d.Text()
Text24.setString(["Node"])
FontStyle25 = x3d.FontStyle()
FontStyle25.setJustify(["MIDDLE","MIDDLE"])
FontStyle25.setSize(5)

Text24.setFontStyle(FontStyle25)

Shape23.setGeometry(Text24)
Appearance26 = x3d.Appearance()
Material27 = x3d.Material()
Material27.setDiffuseColor([0,0,1])

Appearance26.setMaterial(Material27)

Shape23.setAppearance(Appearance26)

Transform22.addChildren(Shape23)

Transform15.addChildren(Transform22)

Group14.addChildren(Transform15)
PositionInterpolator28 = x3d.PositionInterpolator()
PositionInterpolator28.setDEF("NodePosition")
PositionInterpolator28.setKey([0,1])
PositionInterpolator28.setKeyValue([0,0,0,0,5,0])

Group14.addChildren(PositionInterpolator28)
TimeSensor29 = x3d.TimeSensor()
TimeSensor29.setDEF("nodeClock")
TimeSensor29.setCycleInterval(3)
TimeSensor29.setLoop(True)

Group14.addChildren(TimeSensor29)
ROUTE30 = x3d.ROUTE()
ROUTE30.setFromNode("nodeClock")
ROUTE30.setFromField("cycleTime")
ROUTE30.setToNode("MoveBall")
ROUTE30.setToField("set_cycle")

Group14.addChildren(ROUTE30)
ROUTE31 = x3d.ROUTE()
ROUTE31.setFromNode("nodeClock")
ROUTE31.setFromField("fraction_changed")
ROUTE31.setToNode("NodePosition")
ROUTE31.setToField("set_fraction")

Group14.addChildren(ROUTE31)
ROUTE32 = x3d.ROUTE()
ROUTE32.setFromNode("MoveBall")
ROUTE32.setFromField("keyValue")
ROUTE32.setToNode("NodePosition")
ROUTE32.setToField("keyValue")

Group14.addChildren(ROUTE32)
ROUTE33 = x3d.ROUTE()
ROUTE33.setFromNode("NodePosition")
ROUTE33.setFromField("value_changed")
ROUTE33.setToNode("transform")
ROUTE33.setToField("set_translation")

Group14.addChildren(ROUTE33)
X3DScript34 = x3d.X3DScript()
X3DScript34.setDEF("MoveBall")
field35 = x3d.field()
field35.setName("translation")
field35.setAccessType("inputOutput")
field35.setType("SFVec3f")
field35.setValue("50 50 0")

X3DScript34.addField(field35)
field36 = x3d.field()
field36.setName("old")
field36.setAccessType("inputOutput")
field36.setType("SFVec3f")
field36.setValue("0 0 0")

X3DScript34.addField(field36)
field37 = x3d.field()
field37.setName("set_cycle")
field37.setAccessType("inputOnly")
field37.setType("SFTime")

X3DScript34.addField(field37)
field38 = x3d.field()
field38.setName("keyValue")
field38.setAccessType("outputOnly")
field38.setType("MFVec3f")

X3DScript34.addField(field38)

Group14.addX3DScript(X3DScript34)

ProtoBody13.addChildren(Group14)

ProtoDeclare10.setProtoBody(ProtoBody13)

Scene9.addChildren(ProtoDeclare10)
ProtoDeclare39 = x3d.ProtoDeclare()
ProtoDeclare39.setName("cylinder")
ProtoInterface40 = x3d.ProtoInterface()
field41 = x3d.field()
field41.setName("set_positionA")
field41.setAccessType("inputOnly")
field41.setType("SFVec3f")

ProtoInterface40.addField(field41)
field42 = x3d.field()
field42.setName("set_positionB")
field42.setAccessType("inputOnly")
field42.setType("SFVec3f")

ProtoInterface40.addField(field42)

ProtoDeclare39.setProtoInterface(ProtoInterface40)
ProtoBody43 = x3d.ProtoBody()
Group44 = x3d.Group()
Group44.setBboxCenter([0,0,0])
Group44.setBboxSize([-1,-1,-1])
Shape45 = x3d.Shape()
Shape45.setBboxCenter([0,0,0])
Shape45.setBboxSize([-1,-1,-1])
Extrusion46 = x3d.Extrusion()
Extrusion46.setDEF("extrusion")
Extrusion46.setCreaseAngle(0.785)
Extrusion46.setCrossSection([1,0,0.92,-0.38,0.71,-0.71,0.38,-0.92,0,-1,-0.38,-0.92,-0.71,-0.71,-0.92,-0.38,-1,0,-0.92,0.38,-0.71,0.71,-0.38,0.92,0,1,0.38,0.92,0.71,0.71,0.92,0.38,1,0])
Extrusion46.setSpine([0,-50,0,0,50,0])

Shape45.setGeometry(Extrusion46)
Appearance47 = x3d.Appearance()
Material48 = x3d.Material()
Material48.setDiffuseColor([0,1,0])

Appearance47.setMaterial(Material48)

Shape45.setAppearance(Appearance47)

Group44.addChildren(Shape45)
ROUTE49 = x3d.ROUTE()
ROUTE49.setFromNode("MoveCylinder")
ROUTE49.setFromField("spine")
ROUTE49.setToNode("extrusion")
ROUTE49.setToField("set_spine")

Group44.addChildren(ROUTE49)
X3DScript50 = x3d.X3DScript()
X3DScript50.setDEF("MoveCylinder")
field51 = x3d.field()
field51.setName("spine")
field51.setAccessType("inputOutput")
field51.setType("MFVec3f")
field51.setValue("0 -50 0 0 50 0")

X3DScript50.addField(field51)
field52 = x3d.field()
field52.setName("set_endA")
field52.setAccessType("inputOnly")
field52.setType("SFVec3f")

X3DScript50.addField(field52)
field53 = x3d.field()
field53.setName("set_endB")
field53.setAccessType("inputOnly")
field53.setType("SFVec3f")

X3DScript50.addField(field53)
IS54 = x3d.IS()
connect55 = x3d.connect()
connect55.setNodeField("set_endA")
connect55.setProtoField("set_positionA")

IS54.addConnect(connect55)
connect56 = x3d.connect()
connect56.setNodeField("set_endB")
connect56.setProtoField("set_positionB")

IS54.addConnect(connect56)

X3DScript50.setIS(IS54)

Group44.addX3DScript(X3DScript50)

ProtoBody43.addChildren(Group44)

ProtoDeclare39.setProtoBody(ProtoBody43)

Scene9.addChildren(ProtoDeclare39)
Transform57 = x3d.Transform()
Transform57.setDEF("HoldsContent")
Transform57.setScale([0.1,0.1,0.1])
Transform57.setBboxCenter([0,0,0])
Transform57.setBboxSize([-1,-1,-1])
PlaneSensor58 = x3d.PlaneSensor()
PlaneSensor58.setDEF("clickGenerator")
PlaneSensor58.setMinPosition([-50,-50])
PlaneSensor58.setMaxPosition([50,50])
PlaneSensor58.setDescription("click on background to add nodes, click on nodes to add links")

Transform57.addChildren(PlaneSensor58)
ProtoInstance59 = x3d.ProtoInstance()
ProtoInstance59.setName("node")
ProtoInstance59.setDEF("nodeA")
fieldValue60 = x3d.fieldValue()
fieldValue60.setName("position")
fieldValue60.setValue("0 0 0")

ProtoInstance59.addFieldValue(fieldValue60)

Transform57.addChildren(ProtoInstance59)
ProtoInstance61 = x3d.ProtoInstance()
ProtoInstance61.setName("node")
ProtoInstance61.setDEF("nodeB")
fieldValue62 = x3d.fieldValue()
fieldValue62.setName("position")
fieldValue62.setValue("50 50 50")

ProtoInstance61.addFieldValue(fieldValue62)

Transform57.addChildren(ProtoInstance61)
ProtoInstance63 = x3d.ProtoInstance()
ProtoInstance63.setName("node")
ProtoInstance63.setDEF("nodeC")
fieldValue64 = x3d.fieldValue()
fieldValue64.setName("position")
fieldValue64.setValue("-50 -50 -50")

ProtoInstance63.addFieldValue(fieldValue64)

Transform57.addChildren(ProtoInstance63)
ProtoInstance65 = x3d.ProtoInstance()
ProtoInstance65.setName("node")
ProtoInstance65.setDEF("nodeD")
fieldValue66 = x3d.fieldValue()
fieldValue66.setName("position")
fieldValue66.setValue("50 50 -50")

ProtoInstance65.addFieldValue(fieldValue66)

Transform57.addChildren(ProtoInstance65)
ProtoInstance67 = x3d.ProtoInstance()
ProtoInstance67.setName("cylinder")
ProtoInstance67.setDEF("linkA")
fieldValue68 = x3d.fieldValue()
fieldValue68.setName("set_positionA")
fieldValue68.setValue("0 0 0")

ProtoInstance67.addFieldValue(fieldValue68)
fieldValue69 = x3d.fieldValue()
fieldValue69.setName("set_positionB")
fieldValue69.setValue("50 50 50")

ProtoInstance67.addFieldValue(fieldValue69)

Transform57.addChildren(ProtoInstance67)
ProtoInstance70 = x3d.ProtoInstance()
ProtoInstance70.setName("cylinder")
ProtoInstance70.setDEF("linkB")
fieldValue71 = x3d.fieldValue()
fieldValue71.setName("set_positionA")
fieldValue71.setValue("0 0 0")

ProtoInstance70.addFieldValue(fieldValue71)
fieldValue72 = x3d.fieldValue()
fieldValue72.setName("set_positionB")
fieldValue72.setValue("-50 -50 -50")

ProtoInstance70.addFieldValue(fieldValue72)

Transform57.addChildren(ProtoInstance70)
ProtoInstance73 = x3d.ProtoInstance()
ProtoInstance73.setName("cylinder")
ProtoInstance73.setDEF("linkC")
fieldValue74 = x3d.fieldValue()
fieldValue74.setName("set_positionA")
fieldValue74.setValue("50 50 50")

ProtoInstance73.addFieldValue(fieldValue74)
fieldValue75 = x3d.fieldValue()
fieldValue75.setName("set_positionB")
fieldValue75.setValue("50 50 -50")

ProtoInstance73.addFieldValue(fieldValue75)

Transform57.addChildren(ProtoInstance73)

Scene9.addChildren(Transform57)
ROUTE76 = x3d.ROUTE()
ROUTE76.setFromNode("clickGenerator")
ROUTE76.setFromField("isActive")
ROUTE76.setToNode("clickHandler")
ROUTE76.setToField("add_node")

Scene9.addChildren(ROUTE76)
ROUTE77 = x3d.ROUTE()
ROUTE77.setFromNode("nodeA")
ROUTE77.setFromField("position")
ROUTE77.setToNode("linkA")
ROUTE77.setToField("set_positionA")

Scene9.addChildren(ROUTE77)
ROUTE78 = x3d.ROUTE()
ROUTE78.setFromNode("nodeB")
ROUTE78.setFromField("position")
ROUTE78.setToNode("linkA")
ROUTE78.setToField("set_positionB")

Scene9.addChildren(ROUTE78)
ROUTE79 = x3d.ROUTE()
ROUTE79.setFromNode("nodeA")
ROUTE79.setFromField("position")
ROUTE79.setToNode("linkB")
ROUTE79.setToField("set_positionA")

Scene9.addChildren(ROUTE79)
ROUTE80 = x3d.ROUTE()
ROUTE80.setFromNode("nodeC")
ROUTE80.setFromField("position")
ROUTE80.setToNode("linkB")
ROUTE80.setToField("set_positionB")

Scene9.addChildren(ROUTE80)
ROUTE81 = x3d.ROUTE()
ROUTE81.setFromNode("nodeA")
ROUTE81.setFromField("position")
ROUTE81.setToNode("linkC")
ROUTE81.setToField("set_positionA")

Scene9.addChildren(ROUTE81)
ROUTE82 = x3d.ROUTE()
ROUTE82.setFromNode("nodeD")
ROUTE82.setFromField("position")
ROUTE82.setToNode("linkC")
ROUTE82.setToField("set_positionB")

Scene9.addChildren(ROUTE82)

X3D0.setScene(Scene9)
X3D0.toFileX3D("../data/force_RoundTrip.x3d")
