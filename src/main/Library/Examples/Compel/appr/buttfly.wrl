#VRML V2.0 utf8

Group {
  children	[
    WorldInfo {
      info	[ "Created in CosmoWorlds",
	        "Packaged by CosmoPackage",
	        "Packaged by CosmoPackage" ]
    }
    DEF butterfly Group {
      children	DEF parts Transform {
	children	[
	  DEF legs Transform {
	    children	Shape {
	      appearance	Appearance {
		material	Material {
		  ambientIntensity	0.256
		  diffuseColor	0.0291577 0.0262922 0.0269642
		  specularColor	0.641609 0 0.979592
		  emissiveColor	0 0 0
		  shininess	0.0612245
		  transparency	0
		}

		texture	NULL

		textureTransform	NULL

	      }

	      geometry	IndexedFaceSet {
		coord	Coordinate {
		  point	[ 0.12595 0.0225136 3.97912,
			    0.402343 -0.327262 4.13203,
			    1.0405 -0.986083 4.64208,
			    0.363759 -0.353551 4.13203,
			    0.125364 -0.0397857 3.97912,
			    0.486733 0.264621 4.13203,
			    0.482828 0.315844 4.13203,
			    0.125272 0.0854838 3.97912,
			    1.03933 0.511772 4.64208,
			    0.12595 0.0225136 3.97912,
			    0.388219 0.594804 4.13203,
			    0.363569 0.639893 4.13203,
			    0.145635 0.180612 3.94574,
			    1.02792 0.983253 4.64208,
			    0.125272 0.0854838 3.97912,
			    -0.281768 0.266039 4.13195,
			    -0.277863 0.317262 4.13195,
			    0.0723146 0.0869024 3.97904,
			    -0.863576 0.51319 4.642,
			    0.0716361 0.0239321 3.97904,
			    -0.183254 0.596222 4.13195,
			    -0.158604 0.641311 4.13195,
			    0.0888988 0.182031 3.94566,
			    -0.852171 0.984672 4.64199,
			    0.0723146 0.0869024 3.97904,
			    -0.158794 -0.352132 4.13195,
			    -0.86475 -0.984664 4.642,
			    -0.197379 -0.325842 4.13195,
			    0.0713708 -0.0369759 3.97904,
			    0.0716361 0.0239321 3.97904 ]
		}

		color	NULL

		coordIndex	[ 3, 2, 1, -1, 1, 4, 3, -1,
			  1, 0, 4, -1, 5, 6, 7, -1,
			  5, 8, 6, -1, 7, 9, 5, -1,
			  10, 11, 12, -1, 10, 13, 11, -1,
			  12, 14, 10, -1, 15, 16, 17, -1,
			  15, 18, 16, -1, 17, 19, 15, -1,
			  20, 21, 22, -1, 20, 23, 21, -1,
			  22, 24, 20, -1, 25, 26, 27, -1,
			  27, 28, 25, -1, 27, 29, 28, -1 ]
		colorIndex	[  ]
		normal	NULL

		texCoord	NULL

		solid	FALSE
	      }

	    }

	    translation	-0.140056 3.85473 1.48309
	    rotation	1 0 0  1.90486
	    scale	0.999997 1 1
	  }
	  DEF body Transform {
	    children	Shape {
	      appearance	Appearance {
		material	Material {
		  ambientIntensity	0
		  diffuseColor	0 0 0
		  specularColor	0.293243 0.297387 0.290421
		  emissiveColor	0 0 0
		  shininess	0.0816327
		  transparency	0
		}

		texture	NULL

		textureTransform	NULL

	      }

	      geometry	IndexedFaceSet {
		coord	Coordinate {
		  point	[ 0.0289175 -8.039 0.34641,
			    0.428918 -8.039 -0.34641,
			    0.0289175 -2.02421 0.866025,
			    1.02888 -2.01588 -0.866025,
			    -0.371082 -8.039 -0.34641,
			    -0.971048 -2.03254 -0.866025,
			    -0.0289171 -1.09886 0.34641,
			    0.371042 -1.09315 -0.34641,
			    -0.428876 -1.10457 -0.34641,
			    0.749914 -0.0114202 0.433011,
			    -0.249974 0.00380677 -1.29904,
			    -1.24985 0.0190336 0.433016,
			    0 0.8 0 ]
		}

		color	NULL

		coordIndex	[ 0, 1, 2, -1, 2, 1, 3, -1,
			  1, 4, 3, -1, 3, 4, 5, -1,
			  4, 0, 5, -1, 5, 0, 2, -1,
			  2, 3, 6, -1, 6, 3, 7, -1,
			  3, 5, 7, -1, 7, 5, 8, -1,
			  5, 2, 8, -1, 8, 2, 6, -1,
			  6, 7, 9, -1, 9, 7, 10, -1,
			  7, 8, 10, -1, 10, 8, 11, -1,
			  8, 6, 11, -1, 11, 6, 9, -1,
			  9, 10, 12, -1, 10, 11, 12, -1,
			  11, 9, 12, -1, 0, 1, 4, -1 ]
		normal	NULL

		texCoord	NULL

		solid	FALSE
		creaseAngle	3.14159
	      }

	    }

	    translation	-0.0462204 0.222727 0.947726
	    rotation	1.18669e-06 0.707107 0.707107  3.14159
	    scale	0.206127 0.206127 0.20501
	    scaleOrientation	5.4848e-06 5.48477e-06 1  4.71239
	  }
	  DEF wings Transform {
	    children	[
	      DEF flutterScript Script {
		eventOut		SFRotation		rotLeft
		eventOut		SFRotation		rotRight
		eventIn		SFFloat		fractionIn
		url	"vrmlscript:

function fractionIn(value, time)
{
    startRotation = 0.47;
    maxRotation = 1.0708;

    timePhased = time * (0.07/0.05);

    r = ((0.9 + Math.sin(time))/1.9) + 
        ((0.9 + Math.cos(timePhased))/1.9);
    if (r > 1.0) r = 1.0;
    if (r < 0.01) r = 0.01;
    r = 1.0 - r;	// invert so wings are mostly opened, less shut
    rotLeft[0] = 0;
    rotLeft[1] = 0;
    rotLeft[2] = 1;
    rotLeft[3]  = startRotation + (r * maxRotation);
    rotRight[0] = 0;
    rotRight[1] = 0;
    rotRight[2] = 1;
    rotRight[3] = -1 * rotLeft[3];
}
"
	      }
	      DEF wing1 Transform {
		children	Shape {
		  appearance	Appearance {
		    material	DEF _v2%0 Material {
		      diffuseColor	1 1 1
		      emissiveColor	0 0 1
		    }

		    texture	DEF _v2%1_3 ImageTexture {
		      url	"buttfly.gif"
		    }

		    textureTransform	NULL

		  }

		  geometry	IndexedFaceSet {
		    coord	Coordinate {
		      point	[ 3 0 1.5,
			        0 0 1.5,
			        0 0 -1.5,
			        3 0 -1.5 ]
		    }

		    color	NULL

		    coordIndex	[ 0, 1, 2, 3, -1 ]
		    normal	NULL

		    texCoord	TextureCoordinate {
		      point	[ 0 0.37,
			        0.52 0.37,
			        0.52 1,
			        0 1 ]
		    }

		    solid	FALSE
		    creaseAngle	0.5
		  }

		}

		rotation	0 0 -1  0.5
	      }
	      DEF wing2 Transform {
		children	Shape {
		  appearance	Appearance {
		    material	USE _v2%0

		    texture	USE _v2%1_3

		    textureTransform	NULL

		  }

		  geometry	IndexedFaceSet {
		    coord	Coordinate {
		      point	[ 0 0 1.5,
			        -3 0 1.5,
			        -3 0 -1.5,
			        0 0 -1.5 ]
		    }

		    color	NULL

		    coordIndex	[ 0, 1, 2, 3, -1 ]
		    normal	NULL

		    texCoord	TextureCoordinate {
		      point	[ 0.52 0.37,
			        1 0.37,
			        1 1,
			        0.52 1 ]
		    }

		    solid	FALSE
		    creaseAngle	0.5
		  }

		}

		rotation	0 0 1  0.5
	      }
	    ]
	    translation	-0.0315492 0.206392 -5.96046e-07
	    rotation	1 0 0  3.14159
	    scale	1 1 1
	  }
	]
	translation	0 -0.5 -0.5
	rotation	-1 0 0  0.33
	scale	1 1 1
      }

    }
    DEF _5 TimeSensor {
      loop	TRUE
      startTime	1
    }
  ]
}
ROUTE _5.fraction_changed TO flutterScript.fractionIn
ROUTE flutterScript.rotRight TO wing1.set_rotation
ROUTE flutterScript.rotLeft TO wing2.set_rotation
