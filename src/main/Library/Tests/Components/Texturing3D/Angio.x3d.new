<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE X3D PUBLIC "ISO//Web3D//DTD X3D 3.3//EN" "https://www.web3d.org/specifications/x3d-3.3.dtd">
<X3D xmlns:xsd="http://www.w3.org/2001/XMLSchema-instance" profile="Immersive" version="3.3" xsd:noNamespaceSchemaLocation="http://www.web3d.org/specifications/x3d-3.3.xsd" ><head><component name="EnvironmentalEffects" level="3"></component>
<component name="Texturing3D" level="2"></component>
<meta name="comment" content="World of Titania"></meta>
<meta name="created" content="Thu, 09 May 2019 11:59:27 GMT"></meta>
<meta name="creator" content="Holger Seelig"></meta>
<meta name="generator" content="Titania V4.6.3, http://titania.create3000.de"></meta>
<meta name="identifier" content="file:///home/holger/Projekte/Library/Tests/Components/Texturing3D/Angio.x3d"></meta>
<meta name="modified" content="Fri, 25 Oct 2019 07:01:34 GMT"></meta>
</head>
<Scene><ExternProtoDeclare name="Volume" url="&quot;, &quot; &quot;Volume.x3d#Volumefile:///home/holger/Projekte/Library/Tests/Components/Texturing3D/Volume.x3d#Volume&quot;"><field name="dimensions" accessType="inputOutput" type="SFVec3f"></field>
<field name="voxels" accessType="inputOutput" type="SFNode"></field>
</ExternProtoDeclare>
<WorldInfo><MetadataSet containerField="metadata" name="Titania" DEF="Titania" reference="http://titania.create3000.de"><MetadataSet name="AngleGrid" DEF="AngleGrid" reference="http://titania.create3000.de" containerField="value"><MetadataBoolean name="enabled" DEF="enabled" reference="http://titania.create3000.de" value="false" containerField="value"></MetadataBoolean>
</MetadataSet>
<MetadataSet name="Grid" DEF="Grid" reference="http://titania.create3000.de"><MetadataBoolean name="enabled" DEF="enabled_1" reference="http://titania.create3000.de" value="true" containerField="value"></MetadataBoolean>
</MetadataSet>
<MetadataSet name="Selection" DEF="Selection" reference="http://titania.create3000.de"><MetadataBoolean name="selectGeometry" DEF="selectGeometry" reference="http://titania.create3000.de" value="false" containerField="value"></MetadataBoolean>
<MetadataSet name="nodes" DEF="nodes" reference="http://titania.create3000.de"><ImageTexture3D DEF="_2" url="&quot;Angio.nrrd&quot;" repeatS="true" repeatT="true" repeatR="true" containerField="value"></ImageTexture3D>
</MetadataSet>
</MetadataSet>
<MetadataSet name="BrowserPanel" DEF="BrowserPanel" reference="http://titania.create3000.de"><MetadataString name="type" DEF="type_3" reference="http://titania.create3000.de" value="&quot;, &quot; &quot;TOP_VIEW, &quot; &quot;MAIN_VIEW, &quot; &quot;PERSPECTIVE_VIEWFRONT_VIEW&quot;" containerField="value"></MetadataString>
<MetadataSet name="viewpoints" DEF="viewpoints" reference="http://titania.create3000.de"><MetadataSet name="PerspectiveViewpoint" DEF="PerspectiveViewpoint" reference="http://titania.create3000.de" containerField="value"><MetadataDouble name="position" DEF="position_4" reference="http://titania.create3000.de" value="5.87788534164429 6.46984958648682 13.8524446487427" containerField="value"></MetadataDouble>
<MetadataDouble name="orientation" DEF="orientation_5" reference="http://titania.create3000.de" value="-0.704047462871212 0.695566762376517 0.143192350010952 0.568941727555854"></MetadataDouble>
<MetadataDouble name="centerOfRotation" DEF="centerOfRotation_6" reference="http://titania.create3000.de" value="0 0 0"></MetadataDouble>
<MetadataDouble name="fieldOfViewScale" DEF="fieldOfViewScale" reference="http://titania.create3000.de" value="1"></MetadataDouble>
</MetadataSet>
<MetadataSet name="TopViewpoint" DEF="TopViewpoint" reference="http://titania.create3000.de"><MetadataDouble name="position" DEF="position_7" reference="http://titania.create3000.de" value="0 10000 0" containerField="value"></MetadataDouble>
<MetadataDouble name="orientation" DEF="orientation_8" reference="http://titania.create3000.de" value="1 0 0 4.71238898038469"></MetadataDouble>
<MetadataDouble name="centerOfRotation" DEF="centerOfRotation_9" reference="http://titania.create3000.de" value="-0.0320612526145463 0 0.0937320149966475"></MetadataDouble>
<MetadataDouble name="fieldOfViewScale" DEF="fieldOfViewScale_10" reference="http://titania.create3000.de" value="1.21023944190259"></MetadataDouble>
</MetadataSet>
<MetadataSet name="FrontViewpoint" DEF="FrontViewpoint" reference="http://titania.create3000.de"><MetadataDouble name="position" DEF="position_11" reference="http://titania.create3000.de" value="0 0 10000" containerField="value"></MetadataDouble>
<MetadataDouble name="orientation" DEF="orientation_12" reference="http://titania.create3000.de" value="0 0 1 0"></MetadataDouble>
<MetadataDouble name="centerOfRotation" DEF="centerOfRotation_13" reference="http://titania.create3000.de" value="-0.00884759203065143 0.0177734813359099 0"></MetadataDouble>
<MetadataDouble name="fieldOfViewScale" DEF="fieldOfViewScale_14" reference="http://titania.create3000.de" value="1.212467484375"></MetadataDouble>
</MetadataSet>
</MetadataSet>
</MetadataSet>
<MetadataSet name="Page" DEF="Page" reference="http://titania.create3000.de"><MetadataInteger name="activeView" DEF="activeView" reference="http://titania.create3000.de" value="1" containerField="value"></MetadataInteger>
<MetadataInteger name="multiView" DEF="multiView" reference="http://titania.create3000.de" value="0"></MetadataInteger>
</MetadataSet>
<MetadataSet name="Prototype" DEF="Prototype" reference="http://titania.create3000.de"><MetadataString name="path" DEF="path" reference="http://titania.create3000.de" value="&quot;Volume&quot;" containerField="value"></MetadataString>
</MetadataSet>
</MetadataSet>
</WorldInfo>
<Background skyColor="0.4 0.4 0.4"></Background>
<Viewpoint description="Home" position="0 0 5"></Viewpoint>
<Transform DEF="VisibleClipPlane"><PlaneSensor DEF="PlaneSensor" axisRotation="0 1 0 1.5708" offset="0.00000291112 0 0.799866" maxPosition="-1 0"></PlaneSensor>
<Transform DEF="Rectangle2D" translation="0.00000291112 0 0.799866" scale="0.5 0.5 1"><Shape><Appearance><Material transparency="1"></Material>
</Appearance>
<Rectangle2D containerField="geometry"></Rectangle2D>
</Shape>
<Shape><Appearance><Material></Material>
</Appearance>
<IndexedLineSet containerField="geometry" coordIndex="0 1 2 3 0"><Coordinate containerField="coord" point="-1 -1 0 1 -1 0 1 1 0 -1 1 0"></Coordinate>
</IndexedLineSet>
</Shape>
</Transform>
<Script DEF="ClipPlaneScript"><field name="set_translation" accessType="inputOnly" type="SFVec3f"></field>
<field name="plane_changed" accessType="outputOnly" type="SFVec4f"></field>
<![CDATA[vrmlscript:
function set_translation (value)
{
	var distanceFromOrigin = new SFVec3f (0, 0, -1) .dot (value);

	plane_changed = new SFVec4f (0,0,-1, -distanceFromOrigin);
}]]></Script>
</Transform>
<Transform DEF="Volume_15"><ProtoInstance name="Volume" DEF="Volume"><fieldValue name="voxels"><ImageTexture3D USE="_2"></ImageTexture3D>
</fieldValue>
</ProtoInstance>
<ClipPlane DEF="_16" plane="0 0 -1 0.799866"></ClipPlane>
</Transform>
<ROUTE fromNode="ClipPlaneScript" fromField="plane_changed" toNode="_16" toField="set_plane"></ROUTE>
<ROUTE fromNode="PlaneSensor" fromField="translation_changed" toNode="ClipPlaneScript" toField="set_translation"></ROUTE>
<ROUTE fromNode="PlaneSensor" fromField="translation_changed" toNode="Rectangle2D" toField="set_translation"></ROUTE>
</Scene>
</X3D>