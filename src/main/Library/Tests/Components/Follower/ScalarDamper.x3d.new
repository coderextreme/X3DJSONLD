<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE X3D PUBLIC "ISO//Web3D//DTD X3D 3.3//EN" "https://www.web3d.org/specifications/x3d-3.3.dtd">
<X3D xmlns:xsd="http://www.w3.org/2001/XMLSchema-instance" profile="Full" version="3.3" xsd:noNamespaceSchemaLocation="http://www.web3d.org/specifications/x3d-3.3.xsd" ><head><meta name="comment" content="World of Titania"></meta>
<meta name="created" content="Sun, 03 Jan 2016 08:35:00 GMT"></meta>
<meta name="creator" content="Holger Seelig"></meta>
<meta name="generator" content="Titania V4.0.6a, http://titania.create3000.de"></meta>
<meta name="identifier" content="file:///home/holger/Projekte/Library/Tests/Components/Follower/ScalarDamper.x3d"></meta>
<meta name="modified" content="Thu, 08 Mar 2018 09:21:55 GMT"></meta>
</head>
<Scene><ExternProtoDeclare name="LineTrail" url="&quot;LineTrail.x3dv&quot;"><field name="enabled" accessType="inputOutput" type="SFBool"></field>
<field name="cycleInterval" accessType="inputOutput" type="SFTime"></field>
<field name="resetTime" accessType="inputOutput" type="SFTime"></field>
<field name="point" accessType="inputOutput" type="SFVec3f"></field>
<field name="dimension" accessType="initializeOnly" type="SFInt32"></field>
</ExternProtoDeclare>
<ExternProtoDeclare name="SFFloat" url="&quot;SFFloat.x3dv&quot;"><field name="set_triggerTime" accessType="inputOnly" type="SFTime"></field>
<field name="keyValue" accessType="inputOutput" type="SFFloat"></field>
<field name="value_changed" accessType="outputOnly" type="SFFloat"></field>
</ExternProtoDeclare>
<WorldInfo title="PositionDamper2D"><MetadataSet containerField="metadata" name="Titania" DEF="Titania" reference="http://titania.create3000.de"><MetadataSet name="NavigationInfo" DEF="NavigationInfo" reference="http://titania.create3000.de" containerField="value"><MetadataString name="type" DEF="type" reference="http://titania.create3000.de" value="&quot;NONE&quot;" containerField="value"></MetadataString>
</MetadataSet>
<MetadataSet name="Viewpoint" DEF="Viewpoint" reference="http://titania.create3000.de"><MetadataDouble name="position" DEF="position" reference="http://titania.create3000.de" value="0 0 10" containerField="value"></MetadataDouble>
<MetadataDouble name="orientation" DEF="orientation" reference="http://titania.create3000.de" value="0 0 1 0"></MetadataDouble>
<MetadataDouble name="centerOfRotation" DEF="centerOfRotation" reference="http://titania.create3000.de" value="0 0 0"></MetadataDouble>
</MetadataSet>
<MetadataSet name="Selection" DEF="Selection" reference="http://titania.create3000.de"><MetadataBoolean name="selectGeometry" DEF="selectGeometry" reference="http://titania.create3000.de" value="false" containerField="value"></MetadataBoolean>
<MetadataSet name="nodes" DEF="nodes" reference="http://titania.create3000.de"><Transform DEF="ResetBox_1" translation="4.43603 -0.67719 0" scale="0.167946 0.167946 0.167946" containerField="value"><Shape><Appearance><Material></Material>
</Appearance>
<Box containerField="geometry"></Box>
</Shape>
<TouchSensor DEF="ResetTouch_2"></TouchSensor>
<ProtoInstance name="SFFloat" DEF="_3"><fieldValue name="keyValue" value="1"></fieldValue>
</ProtoInstance>
</Transform>
</MetadataSet>
</MetadataSet>
<MetadataSet name="Page" DEF="Page" reference="http://titania.create3000.de"><MetadataInteger name="activeView" DEF="activeView" reference="http://titania.create3000.de" value="1" containerField="value"></MetadataInteger>
<MetadataInteger name="multiView" DEF="multiView" reference="http://titania.create3000.de" value="0"></MetadataInteger>
</MetadataSet>
</MetadataSet>
</WorldInfo>
<NavigationInfo type="&quot;, &quot; &quot;NONEANY&quot;"></NavigationInfo>
<Background skyColor="0.2 0.2 0.2"></Background>
<Transform DEF="Plane"><TouchSensor DEF="Touch"></TouchSensor>
<Transform DEF="Rectangle2D" scale="4 4 1"><Shape><Appearance><Material diffuseColor="0.5 0 0.5" transparency="0.5"></Material>
</Appearance>
<Rectangle2D containerField="geometry"></Rectangle2D>
</Shape>
</Transform>
</Transform>
<Script DEF="DecomposeXYScript"><field name="set_xy" accessType="inputOnly" type="SFVec2f"></field>
<field name="x_changed" accessType="outputOnly" type="SFFloat"></field>
<field name="y_changed" accessType="outputOnly" type="SFFloat"></field>
<![CDATA[ecmascript:

function set_xy (value)
{
	x_changed = value .x;
	y_changed = value .y;
}]]></Script>
<ScalarDamper DEF="X" initialValue="2" initialDestination="-2"></ScalarDamper>
<ScalarDamper DEF="Y" initialValue="2" initialDestination="-2"></ScalarDamper>
<Script DEF="ComposeXYScript"><field name="set_x" accessType="inputOnly" type="SFFloat"></field>
<field name="set_y" accessType="inputOnly" type="SFFloat"></field>
<field name="xy_changed" accessType="outputOnly" type="SFVec2f"></field>
<![CDATA[ecmascript:

function set_x (value)
{
	xy_changed .x = value;
}

function set_y (value)
{
	xy_changed .y = value;
}]]></Script>
<Transform DEF="Sphere" translation="-1.9999 -1.9999 0" scale="0.192862 0.192862 0.192862"><Shape><Appearance><Material DEF="SphereMaterial"></Material>
</Appearance>
<Sphere containerField="geometry"></Sphere>
</Shape>
</Transform>
<Shape DEF="LineTrail"><Appearance><Material emissiveColor="0 0.8 0.8"></Material>
</Appearance>
<ProtoInstance containerField="geometry" name="LineTrail" DEF="Trail"><fieldValue name="enabled" value="false"></fieldValue>
<fieldValue name="cycleInterval" value="0.1"></fieldValue>
<fieldValue name="point" value="-1.9999 -1.9999 0"></fieldValue>
<fieldValue name="dimension" value="200"></fieldValue>
</ProtoInstance>
</Shape>
<Script DEF="FollowerScript"><field name="set_time" accessType="inputOnly" type="SFTime"></field>
<field name="set_value" accessType="inputOnly" type="SFVec2f"></field>
<field name="set_active" accessType="inputOnly" type="SFBool"></field>
<field name="color_changed" accessType="outputOnly" type="SFColor"></field>
<field name="destination_changed" accessType="outputOnly" type="SFVec2f"></field>
<field name="value_changed" accessType="outputOnly" type="SFVec3f"></field>
<field name="touchSensor" accessType="initializeOnly" type="SFNode"><TouchSensor USE="Touch"></TouchSensor>
</field>
<![CDATA[vrmlscript:
function set_time ()
{
	destination_changed = new SFVec2f (touchSensor .hitPoint_changed .x, touchSensor .hitPoint_changed .y);
}

function set_value (value)
{
	value_changed = new SFVec3f (value .x, value .y, 0);
}

function set_active (value)
{
	if (value)
		color_changed = new SFColor (0.8, 0, 0);
	
	else
		color_changed = new SFColor (0.8, 0.8, 0.8);
}]]></Script>
<Transform DEF="ResetBox" translation="4.43603 0 0" scale="0.167946 0.167946 0.167946"><Shape><Appearance><Material></Material>
</Appearance>
<Box containerField="geometry"></Box>
</Shape>
<TouchSensor DEF="ResetTouch"></TouchSensor>
<ProtoInstance name="SFFloat"></ProtoInstance>
</Transform>
<Transform USE="ResetBox_1"></Transform>
<ROUTE fromNode="Touch" fromField="touchTime" toNode="FollowerScript" toField="set_time"></ROUTE>
<ROUTE fromNode="FollowerScript" fromField="color_changed" toNode="SphereMaterial" toField="set_diffuseColor"></ROUTE>
<ROUTE fromNode="FollowerScript" fromField="value_changed" toNode="Sphere" toField="set_translation"></ROUTE>
<ROUTE fromNode="FollowerScript" fromField="value_changed" toNode="Trail" toField="set_point"></ROUTE>
<ROUTE fromNode="FollowerScript" fromField="destination_changed" toNode="DecomposeXYScript" toField="set_xy"></ROUTE>
<ROUTE fromNode="X" fromField="isActive" toNode="Trail" toField="set_enabled"></ROUTE>
<ROUTE fromNode="X" fromField="isActive" toNode="FollowerScript" toField="set_active"></ROUTE>
<ROUTE fromNode="X" fromField="value_changed" toNode="ComposeXYScript" toField="set_x"></ROUTE>
<ROUTE fromNode="ComposeXYScript" fromField="xy_changed" toNode="FollowerScript" toField="set_value"></ROUTE>
<ROUTE fromNode="DecomposeXYScript" fromField="x_changed" toNode="X" toField="set_destination"></ROUTE>
<ROUTE fromNode="Y" fromField="value_changed" toNode="ComposeXYScript" toField="set_y"></ROUTE>
<ROUTE fromNode="DecomposeXYScript" fromField="y_changed" toNode="Y" toField="set_destination"></ROUTE>
<ROUTE fromNode="ResetTouch_2" fromField="touchTime" toNode="_3" toField="set_triggerTime"></ROUTE>
<ROUTE fromNode="_3" fromField="value_changed" toNode="X" toField="set_value"></ROUTE>
<ROUTE fromNode="_3" fromField="value_changed" toNode="Y" toField="set_value"></ROUTE>
</Scene>
</X3D>