<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE X3D PUBLIC "ISO//Web3D//DTD X3D 3.3//EN" "https://www.web3d.org/specifications/x3d-3.3.dtd">
<X3D xmlns:xsd="http://www.w3.org/2001/XMLSchema-instance" profile="Immersive" version="3.3" xsd:noNamespaceSchemaLocation="http://www.web3d.org/specifications/x3d-3.3.xsd" ><head><component name="EnvironmentalEffects" level="3"></component>
<component name="RigidBodyPhysics" level="1"></component>
<component name="Shape" level="4"></component>
<component name="Time" level="2"></component>
<unit name="degree" category="angle" conversionFactor="0.017453292519943295"></unit>
<meta name="comment" content="World of Titania"></meta>
<meta name="created" content="1 January 2008"></meta>
<meta name="creator" content="Alan Hudson and Justin Couch"></meta>
<meta name="description" content="Example scene for RigidBodyPhysics component"></meta>
<meta name="generator" content="Titania V4.4.5, http://titania.create3000.de"></meta>
<meta name="identifier" content="file:///home/holger/Projekte/Library/Tests/Components/RigidBodyPhysics/Ball.x3d"></meta>
<meta name="license" content="../license.html"></meta>
<meta name="modified" content="Fri, 29 Mar 2019 10:45:13 GMT"></meta>
<meta name="reference" content="http://www.xj3d.org/extensions/index.html#Physics"></meta>
<meta name="reference" content="originals/ball_bounce.x3dv"></meta>
<meta name="reference" content="http://www.web3d.org/x3d/specifications/ISO-IEC-FDIS-19775-1.2-X3D-AbstractSpecification/Part01/components/rigid_physics.html"></meta>
<meta name="titania-add-metadata" content="true"></meta>
<meta name="title" content="BallBounce.x3d"></meta>
<meta name="translated" content="26 December 2008"></meta>
<meta name="translator" content="Don Brutzman"></meta>
<meta name="warning" content="under development"></meta>
</head>
<Scene><ExternProtoDeclare name="SFVec3f" url="&quot;, &quot; &quot;https://cdn.rawgit.com/create3000/Library/1.0.3/Prototypes/Fields/SFVec3f.x3d, &quot; &quot;http://cdn.rawgit.com/create3000/Library/1.0.3/Prototypes/Fields/SFVec3f.x3d, &quot; &quot;https://rawgit.com/create3000/Library/1.0.3/Prototypes/Fields/SFVec3f.x3dhttp://rawgit.com/create3000/Library/1.0.3/Prototypes/Fields/SFVec3f.x3d&quot;"><field name="set_triggerTime" accessType="inputOnly" type="SFTime"></field>
<field name="keyValue" accessType="inputOutput" type="SFVec3f"></field>
<field name="value_changed" accessType="outputOnly" type="SFVec3f"></field>
</ExternProtoDeclare>
<ExternProtoDeclare name="SFRotation" url="&quot;, &quot; &quot;https://cdn.rawgit.com/create3000/Library/1.0.4/Prototypes/Fields/SFRotation.x3d, &quot; &quot;http://cdn.rawgit.com/create3000/Library/1.0.4/Prototypes/Fields/SFRotation.x3d, &quot; &quot;https://rawgit.com/create3000/Library/1.0.4/Prototypes/Fields/SFRotation.x3dhttp://rawgit.com/create3000/Library/1.0.4/Prototypes/Fields/SFRotation.x3d&quot;"><field name="set_triggerTime" accessType="inputOnly" type="SFTime"></field>
<field name="keyValue" accessType="inputOutput" type="SFRotation"></field>
<field name="value_changed" accessType="outputOnly" type="SFRotation"></field>
</ExternProtoDeclare>
<ExternProtoDeclare name="BooleanSwitch" url="&quot;, &quot; &quot;https://cdn.rawgit.com/create3000/Library/1.0.4/Prototypes/Grouping/BooleanSwitch.x3d, &quot; &quot;http://cdn.rawgit.com/create3000/Library/1.0.4/Prototypes/Grouping/BooleanSwitch.x3d, &quot; &quot;https://rawgit.com/create3000/Library/1.0.4/Prototypes/Grouping/BooleanSwitch.x3dhttp://rawgit.com/create3000/Library/1.0.4/Prototypes/Grouping/BooleanSwitch.x3d&quot;"><field name="whichChoice" accessType="inputOutput" type="SFBool"></field>
<field name="bboxSize" accessType="initializeOnly" type="SFVec3f"></field>
<field name="bboxCenter" accessType="initializeOnly" type="SFVec3f"></field>
<field name="addChildren" accessType="inputOnly" type="MFNode"></field>
<field name="removeChildren" accessType="inputOnly" type="MFNode"></field>
<field name="children" accessType="inputOutput" type="MFNode"></field>
</ExternProtoDeclare>
<WorldInfo title="Ball"><MetadataSet containerField="metadata" name="Titania" DEF="Titania" reference="http://titania.create3000.de"><MetadataSet name="Page" DEF="Page" reference="http://titania.create3000.de" containerField="value"><MetadataInteger name="activeView" DEF="activeView" reference="http://titania.create3000.de" value="1" containerField="value"></MetadataInteger>
<MetadataInteger name="multiView" DEF="multiView" reference="http://titania.create3000.de" value="1"></MetadataInteger>
</MetadataSet>
<MetadataSet name="Selection" DEF="Selection" reference="http://titania.create3000.de"><MetadataBoolean name="selectGeometry" DEF="selectGeometry" reference="http://titania.create3000.de" value="false" containerField="value"></MetadataBoolean>
<MetadataSet name="nodes" DEF="nodes" reference="http://titania.create3000.de"></MetadataSet>
</MetadataSet>
<MetadataSet name="BrowserPanel" DEF="BrowserPanel" reference="http://titania.create3000.de"><MetadataInteger name="layerNumber" DEF="layerNumber" reference="http://titania.create3000.de" value="-1 -1 0 0 0 -1 -1 -1" containerField="value"></MetadataInteger>
<MetadataSet name="viewpoints" DEF="viewpoints" reference="http://titania.create3000.de"><MetadataSet name="FrontViewpoint" DEF="FrontViewpoint" reference="http://titania.create3000.de" containerField="value"><MetadataDouble name="position" DEF="position" reference="http://titania.create3000.de" value="1.00626283971292 0.0640694617920991 10000" containerField="value"></MetadataDouble>
<MetadataDouble name="orientation" DEF="orientation" reference="http://titania.create3000.de" value="0 0 1 0"></MetadataDouble>
<MetadataDouble name="centerOfRotation" DEF="centerOfRotation" reference="http://titania.create3000.de" value="1.00626283971292 0.0640694617920991 0"></MetadataDouble>
<MetadataDouble name="fieldOfViewScale" DEF="fieldOfViewScale" reference="http://titania.create3000.de" value="0.418120335219177"></MetadataDouble>
</MetadataSet>
<MetadataSet name="RightViewpoint" DEF="RightViewpoint" reference="http://titania.create3000.de"><MetadataDouble name="position" DEF="position_1" reference="http://titania.create3000.de" value="10000 0.835422415145837 -0.255489969196878" containerField="value"></MetadataDouble>
<MetadataDouble name="orientation" DEF="orientation_2" reference="http://titania.create3000.de" value="0 1 0 1.5707963267949"></MetadataDouble>
<MetadataDouble name="centerOfRotation" DEF="centerOfRotation_3" reference="http://titania.create3000.de" value="0 0.835422415145837 -0.255489969196878"></MetadataDouble>
<MetadataDouble name="fieldOfViewScale" DEF="fieldOfViewScale_4" reference="http://titania.create3000.de" value="0.513342083279505"></MetadataDouble>
</MetadataSet>
<MetadataSet name="TopViewpoint" DEF="TopViewpoint" reference="http://titania.create3000.de"><MetadataDouble name="position" DEF="position_5" reference="http://titania.create3000.de" value="-0.12322520380435 10000 0.0600833616394929" containerField="value"></MetadataDouble>
<MetadataDouble name="orientation" DEF="orientation_6" reference="http://titania.create3000.de" value="1 0 0 4.71238898038469"></MetadataDouble>
<MetadataDouble name="centerOfRotation" DEF="centerOfRotation_7" reference="http://titania.create3000.de" value="-0.12322520380435 0 0.0600833616394929"></MetadataDouble>
<MetadataDouble name="fieldOfViewScale" DEF="fieldOfViewScale_8" reference="http://titania.create3000.de" value="1.1025"></MetadataDouble>
</MetadataSet>
</MetadataSet>
</MetadataSet>
<MetadataSet name="RouteGraph" DEF="RouteGraph" reference="http://titania.create3000.de"><MetadataSet name="pages" DEF="pages" reference="http://titania.create3000.de" containerField="value"><MetadataSet name="Page0" DEF="Page0" reference="http://titania.create3000.de" containerField="value"><MetadataString name="pageName" DEF="pageName" reference="http://titania.create3000.de" value="&quot;Logic&quot;" containerField="value"></MetadataString>
<MetadataDouble name="scrollPosition" DEF="scrollPosition" reference="http://titania.create3000.de" value="0 0"></MetadataDouble>
<MetadataDouble name="nodePositions" DEF="nodePositions" reference="http://titania.create3000.de" value="583 24 242 20"></MetadataDouble>
<MetadataSet name="nodes" DEF="nodes_9" reference="http://titania.create3000.de"><Script DEF="CollisionsScript" containerField="value"><field name="set_active" accessType="inputOnly" type="SFBool"></field>
<field name="set_intersections" accessType="inputOnly" type="MFNode"></field>
<field name="set_contacts" accessType="inputOnly" type="MFNode"></field>
<![CDATA[ecmascript:

function set_active (value, time)
{
	//print (time, " ", value);
}

function set_intersections (value, time)
{
	
}

function set_contacts (value, time)
{

}]]></Script>
<CollisionSensor DEF="_10"><CollisionCollection containerField="collider" DEF="_11" appliedParameters="&quot;, &quot; &quot;BOUNCEFRICTION_COEFFICIENT_2&quot;" bounce="0.6" frictionCoefficients="0.5 0" surfaceSpeed="1 0"><CollisionSpace><CollidableShape DEF="Ball" translation="3.6998 0.318065 0" rotation="0 0 0.999999900844977 98.6990804311279"><Shape><Sphere containerField="geometry" DEF="_12" radius="0.3"></Sphere>
</Shape>
</CollidableShape>
</CollisionSpace>
</CollisionCollection>
</CollisionSensor>
</MetadataSet>
</MetadataSet>
</MetadataSet>
</MetadataSet>
<MetadataSet name="Grid" DEF="Grid" reference="http://titania.create3000.de"><MetadataBoolean name="enabled" DEF="enabled" reference="http://titania.create3000.de" value="true" containerField="value"></MetadataBoolean>
<MetadataInteger name="dimension" DEF="dimension" reference="http://titania.create3000.de" value="12 10 12"></MetadataInteger>
</MetadataSet>
</MetadataSet>
</WorldInfo>
<Background skyAngle="90.0002" skyColor="0.023 0.023 0.023 0.123 0.123 0.123" groundAngle="90.0002" groundColor="0.644 0.644 0.644 0.123 0.123 0.123"></Background>
<NavigationInfo headlight="false"></NavigationInfo>
<Viewpoint position="1.10696 4.21881 9.93518" orientation="-0.968076678053831 0.243713944540765 0.0585752391769834 27.8857969846202" centerOfRotation="-0.0471507 -0.664379 0.433086"></Viewpoint>
<DirectionalLight direction="-0.333952 -0.752192 -0.568052"><MetadataSet containerField="metadata" name="DirectionalLight" DEF="DirectionalLight" reference="http://titania.create3000.de"><MetadataFloat name="location" DEF="location" reference="http://titania.create3000.de" value="0 2.27923 0" containerField="value"></MetadataFloat>
</MetadataSet>
</DirectionalLight>
<Group DEF="ResetButton"><TimeSensor DEF="_13" cycleInterval="5" loop="true"></TimeSensor>
<TouchSensor DEF="_14" description="Reset Button"></TouchSensor>
<ProtoInstance name="SFVec3f" DEF="Position"><fieldValue name="keyValue" value="0 2 0"></fieldValue>
</ProtoInstance>
<ProtoInstance name="SFVec3f" DEF="LinearVelocity"><fieldValue name="keyValue" value="2 0 0"></fieldValue>
</ProtoInstance>
<ProtoInstance name="SFRotation" DEF="Orientation"></ProtoInstance>
<ProtoInstance name="SFVec3f" DEF="AngularVelocity"></ProtoInstance>
<Transform DEF="Box" translation="4.57154 0.832898 0" scale="0.108593 0.108593 0.108593"><Shape><Appearance><Material></Material>
</Appearance>
<Box containerField="geometry"></Box>
</Shape>
</Transform>
</Group>
<Group DEF="Collidables"><Transform DEF="Sphere" translation="3.6998 0.318065 0" rotation="0 0 0.999999900844977 98.6990804311279"><ProtoInstance name="BooleanSwitch" DEF="_15"><fieldValue name="whichChoice" value="true"></fieldValue>
<fieldValue name="children"><Shape DEF="_16"><Appearance><ImageTexture containerField="texture" url="&quot;pattern-blue.png&quot;"></ImageTexture>
</Appearance>
<Sphere containerField="geometry" USE="_12"></Sphere>
</Shape>
<Shape DEF="_17"><Appearance><ImageTexture containerField="texture" url="&quot;pattern-red.png&quot;"></ImageTexture>
</Appearance>
<Sphere containerField="geometry" USE="_12"></Sphere>
</Shape>
</fieldValue>
</ProtoInstance>
</Transform>
<CollidableShape DEF="Ground"><Shape><Appearance><Material DEF="Neon12" ambientIntensity="0.341463" diffuseColor="0.248138 0.248138 0.248138" specularColor="0.661 0.661 0.661" shininess="0.0284553"></Material>
</Appearance>
<IndexedFaceSet containerField="geometry" coordIndex="4 0 7 -1 7 0 3 -1 0 4 5 -1 1 0 5 -1 4 7 5 -1 5 7 6 -1 13 15 6 -1 12 3 2 -1 7 3 12 -1 14 12 2 -1 7 12 13 -1 7 13 6 -1 6 15 2 -1 15 14 2 -1 3 0 1 -1 2 3 1 -1 1 5 6 -1 2 1 6 -1 13 12 8 -1 10 13 8 -1 14 9 12 -1 12 9 8 -1 14 15 9 -1 9 15 11 -1 11 15 13 -1 10 11 13 -1 9 11 8 -1 8 11 10 -1"><Coordinate containerField="coord" point="-5 -0.51 5 5 -0.51 5 5 0.51 5 -5 0.51 5 -5 -0.51 -5 5 -0.51 -5 5 0.51 -5 -5 0.51 -5 -4 0.0180644 4 4 0.0180644 4 -4 0.0180644 -4 4 0.0180644 -4 -4 0.51 4 -4 0.51 -4 4 0.51 4 4 0.51 -4"></Coordinate>
</IndexedFaceSet>
</Shape>
</CollidableShape>
<Group DEF="BoxSlider"><PlaneSensor DEF="_18" description="Drag to move." axisRotation="1 0 0 270" offset="-1 2.35918e-15 1" minPosition="-1 -1" maxPosition="1 1"></PlaneSensor>
<CollidableOffset DEF="Box_19"><CollidableShape containerField="collidable" DEF="_20" translation="-1 2.35918e-15 1"><Shape><Appearance><Material DEF="Neon12_21" ambientIntensity="0.341463" diffuseColor="0.16 0.16 0.16" specularColor="0.661 0.661 0.661" shininess="0.0284553"></Material>
</Appearance>
<Box containerField="geometry" size="4 1 4"></Box>
</Shape>
</CollidableShape>
</CollidableOffset>
</Group>
</Group>
<RigidBodyCollection><CollisionCollection containerField="collider" USE="_11"></CollisionCollection>
<RigidBody DEF="Ball_22" position="3.6998 0.318065 0" orientation="0 0 0.999999900844977 98.6990804311279" linearVelocity="-0.000286878 9.38773e-7 0" angularVelocity="0 0 0.0547897"><CollidableShape containerField="geometry" USE="Ball"></CollidableShape>
</RigidBody>
<RigidBody DEF="Ground_23" fixed="true"><CollidableShape containerField="geometry" USE="Ground"></CollidableShape>
</RigidBody>
<RigidBody DEF="Box_24" fixed="true" linearVelocity="0.5 0.006 0"><CollidableOffset containerField="geometry" USE="Box_19"></CollidableOffset>
</RigidBody>
</RigidBodyCollection>
<CollisionSensor USE="_10"></CollisionSensor>
<Script USE="CollisionsScript"></Script>
<ROUTE fromNode="Position" fromField="value_changed" toNode="Ball_22" toField="set_position"></ROUTE>
<ROUTE fromNode="LinearVelocity" fromField="value_changed" toNode="Ball_22" toField="set_linearVelocity"></ROUTE>
<ROUTE fromNode="_14" fromField="touchTime" toNode="Position" toField="set_triggerTime"></ROUTE>
<ROUTE fromNode="_14" fromField="touchTime" toNode="LinearVelocity" toField="set_triggerTime"></ROUTE>
<ROUTE fromNode="_14" fromField="touchTime" toNode="Orientation" toField="set_triggerTime"></ROUTE>
<ROUTE fromNode="_14" fromField="touchTime" toNode="AngularVelocity" toField="set_triggerTime"></ROUTE>
<ROUTE fromNode="AngularVelocity" fromField="value_changed" toNode="Ball_22" toField="set_angularVelocity"></ROUTE>
<ROUTE fromNode="Orientation" fromField="value_changed" toNode="Ball_22" toField="set_orientation"></ROUTE>
<ROUTE fromNode="_13" fromField="cycleTime" toNode="Position" toField="set_triggerTime"></ROUTE>
<ROUTE fromNode="_13" fromField="cycleTime" toNode="LinearVelocity" toField="set_triggerTime"></ROUTE>
<ROUTE fromNode="_13" fromField="cycleTime" toNode="Orientation" toField="set_triggerTime"></ROUTE>
<ROUTE fromNode="_13" fromField="cycleTime" toNode="AngularVelocity" toField="set_triggerTime"></ROUTE>
<ROUTE fromNode="_18" fromField="translation_changed" toNode="_20" toField="set_translation"></ROUTE>
<ROUTE fromNode="_10" fromField="contacts" toNode="CollisionsScript" toField="set_contacts"></ROUTE>
<ROUTE fromNode="_10" fromField="intersections" toNode="CollisionsScript" toField="set_intersections"></ROUTE>
<ROUTE fromNode="_10" fromField="isActive" toNode="CollisionsScript" toField="set_active"></ROUTE>
<ROUTE fromNode="Ball_22" fromField="position_changed" toNode="Sphere" toField="set_translation"></ROUTE>
<ROUTE fromNode="Ball_22" fromField="orientation_changed" toNode="Sphere" toField="set_rotation"></ROUTE>
<ROUTE fromNode="_10" fromField="isActive" toNode="_15" toField="set_whichChoice"></ROUTE>
</Scene>
</X3D>