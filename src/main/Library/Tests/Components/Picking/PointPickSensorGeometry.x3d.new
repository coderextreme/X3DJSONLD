<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE X3D PUBLIC "ISO//Web3D//DTD X3D 3.3//EN" "https://www.web3d.org/specifications/x3d-3.3.dtd">
<X3D xmlns:xsd="http://www.w3.org/2001/XMLSchema-instance" profile="Immersive" version="3.3" xsd:noNamespaceSchemaLocation="http://www.web3d.org/specifications/x3d-3.3.xsd" ><head><component name="Picking" level="1"></component>
<component name="Shape" level="4"></component>
<meta name="comment" content="World of Titania"></meta>
<meta name="created" content="Thu, 21 Feb 2019 11:43:42 GMT"></meta>
<meta name="creator" content="Holger Seelig"></meta>
<meta name="generator" content="Titania V4.4.4, http://titania.create3000.de"></meta>
<meta name="identifier" content="file:///home/holger/Projekte/Library/Tests/Components/Picking/PointPickSensorGeometry.x3d"></meta>
<meta name="modified" content="Sun, 24 Mar 2019 08:24:18 GMT"></meta>
</head>
<Scene><WorldInfo><MetadataSet containerField="metadata" name="Titania" DEF="Titania" reference="http://titania.create3000.de"><MetadataSet name="AngleGrid" DEF="AngleGrid" reference="http://titania.create3000.de" containerField="value"><MetadataBoolean name="enabled" DEF="enabled" reference="http://titania.create3000.de" value="false" containerField="value"></MetadataBoolean>
</MetadataSet>
<MetadataSet name="Grid" DEF="Grid" reference="http://titania.create3000.de"><MetadataBoolean name="enabled" DEF="enabled_1" reference="http://titania.create3000.de" value="true" containerField="value"></MetadataBoolean>
</MetadataSet>
<MetadataSet name="Selection" DEF="Selection" reference="http://titania.create3000.de"><MetadataBoolean name="selectGeometry" DEF="selectGeometry" reference="http://titania.create3000.de" value="false" containerField="value"></MetadataBoolean>
<MetadataSet name="nodes" DEF="nodes" reference="http://titania.create3000.de"></MetadataSet>
</MetadataSet>
<MetadataSet name="BrowserPanel" DEF="BrowserPanel" reference="http://titania.create3000.de"><MetadataString name="type" DEF="type_2" reference="http://titania.create3000.de" value="&quot;, &quot; &quot;TOP_VIEW, &quot; &quot;MAIN_VIEW, &quot; &quot;PERSPECTIVE_VIEWFRONT_VIEW&quot;" containerField="value"></MetadataString>
<MetadataSet name="viewpoints" DEF="viewpoints" reference="http://titania.create3000.de"><MetadataSet name="PerspectiveViewpoint" DEF="PerspectiveViewpoint" reference="http://titania.create3000.de" containerField="value"><MetadataDouble name="position" DEF="position_3" reference="http://titania.create3000.de" value="5.87788534164429 6.46984958648682 13.8524446487427" containerField="value"></MetadataDouble>
<MetadataDouble name="orientation" DEF="orientation_4" reference="http://titania.create3000.de" value="-0.704047462871212 0.695566762376517 0.143192350010952 0.568941727555854"></MetadataDouble>
<MetadataDouble name="centerOfRotation" DEF="centerOfRotation_5" reference="http://titania.create3000.de" value="0 0 0"></MetadataDouble>
<MetadataDouble name="fieldOfViewScale" DEF="fieldOfViewScale" reference="http://titania.create3000.de" value="1"></MetadataDouble>
</MetadataSet>
<MetadataSet name="TopViewpoint" DEF="TopViewpoint" reference="http://titania.create3000.de"><MetadataDouble name="position" DEF="position_6" reference="http://titania.create3000.de" value="0 10000 0" containerField="value"></MetadataDouble>
<MetadataDouble name="orientation" DEF="orientation_7" reference="http://titania.create3000.de" value="1 0 0 4.71238898038469"></MetadataDouble>
<MetadataDouble name="centerOfRotation" DEF="centerOfRotation_8" reference="http://titania.create3000.de" value="-0.0320612526145463 0 0.0937320149966475"></MetadataDouble>
<MetadataDouble name="fieldOfViewScale" DEF="fieldOfViewScale_9" reference="http://titania.create3000.de" value="1.21023944190259"></MetadataDouble>
</MetadataSet>
<MetadataSet name="FrontViewpoint" DEF="FrontViewpoint" reference="http://titania.create3000.de"><MetadataDouble name="position" DEF="position_10" reference="http://titania.create3000.de" value="0 0 10000" containerField="value"></MetadataDouble>
<MetadataDouble name="orientation" DEF="orientation_11" reference="http://titania.create3000.de" value="0 0 1 0"></MetadataDouble>
<MetadataDouble name="centerOfRotation" DEF="centerOfRotation_12" reference="http://titania.create3000.de" value="-0.00884759203065143 0.0177734813359099 0"></MetadataDouble>
<MetadataDouble name="fieldOfViewScale" DEF="fieldOfViewScale_13" reference="http://titania.create3000.de" value="1.212467484375"></MetadataDouble>
</MetadataSet>
</MetadataSet>
</MetadataSet>
<MetadataSet name="Page" DEF="Page" reference="http://titania.create3000.de"><MetadataInteger name="activeView" DEF="activeView" reference="http://titania.create3000.de" value="1" containerField="value"></MetadataInteger>
<MetadataInteger name="multiView" DEF="multiView" reference="http://titania.create3000.de" value="0"></MetadataInteger>
</MetadataSet>
</MetadataSet>
</WorldInfo>
<Viewpoint description="Front view" position="0 0 16.4061"></Viewpoint>
<Transform DEF="Text" translation="0 -5 0"><Shape><Appearance><Material></Material>
</Appearance>
<Text containerField="geometry" string="&quot;Drag and intersect orange box with lila box.&quot;" solid="true"><FontStyle family="&quot;SANS&quot;" size="0.45" justify="&quot;, &quot; &quot;MIDDLEMIDDLE&quot;"></FontStyle>
</Text>
</Shape>
</Transform>
<Transform DEF="DefaultBox" translation="-3 0 0"><Shape><Appearance><Material></Material>
</Appearance>
<Box containerField="geometry"></Box>
</Shape>
</Transform>
<PickableGroup DEF="PickableGroup" objectType="&quot;BOX&quot;"><Transform DEF="NoneTargetBox" translation="0 -3 0"><Shape><Appearance><Material DEF="Rococo10" ambientIntensity="0.226102" diffuseColor="0.904409 0.292353 0.22993" specularColor="0.0955906 0.0955906 0.0955906" shininess="0.078125"></Material>
</Appearance>
<Box containerField="geometry"></Box>
</Shape>
</Transform>
<Group DEF="DragableTarget"><Transform DEF="TargetBox" translation="-0.129942 0.377008 0"><Shape><Appearance><Material DEF="Rococo6" ambientIntensity="0.226102" diffuseColor="0.904409 0.549305 0.224283" specularColor="0.0955906 0.0955906 0.0955906" shininess="0.078125"></Material>
</Appearance>
<Cone containerField="geometry"></Cone>
</Shape>
<Shape><IndexedLineSet containerField="geometry" coordIndex="0 1 2 3 0 -1 5 4 7 6 5 -1 2 6 -1 7 3 -1 5 1 -1 0 4 -1"><Coordinate containerField="coord" point="-1 -1 1 1 -1 1 1 1 1 -1 1 1 -1 -1 -1 1 -1 -1 1 1 -1 -1 1 -1"></Coordinate>
</IndexedLineSet>
</Shape>
</Transform>
<PlaneSensor DEF="_14" offset="-0.129942 0.377008 0"></PlaneSensor>
</Group>
<Transform DEF="Target2" translation="0 3 0"><Group USE="DragableTarget"></Group>
</Transform>
</PickableGroup>
<Transform DEF="Sensor" translation="3 0 0"><Shape DEF="_15"><Appearance><LineProperties linewidthScaleFactor="20"></LineProperties>
<Material emissiveColor="1 0 0"></Material>
</Appearance>
<PointSet containerField="geometry" DEF="_16"><Coordinate containerField="coord" point="-1 0 0 1 0 0"></Coordinate>
</PointSet>
</Shape>
<PointPickSensor DEF="_17" objectType="&quot;BOX&quot;" intersectionType="GEOMETRY" sortOrder="ALL_SORTED"><PointSet containerField="pickingGeometry" USE="_16"></PointSet>
<Transform USE="TargetBox"></Transform>
</PointPickSensor>
</Transform>
<Transform DEF="Sensor_18" translation="6 0 0" scale="0.5 0.5 0.5"><Shape USE="_15"></Shape>
<PointPickSensor USE="_17"></PointPickSensor>
</Transform>
<Script DEF="DebugScript"><field name="set_active" accessType="inputOnly" type="SFBool"></field>
<field name="set_pickedPoint" accessType="inputOnly" type="MFVec3f"></field>
<field name="set_pickedGeometry" accessType="inputOnly" type="MFNode"></field>
<field name="translation_changed" accessType="outputOnly" type="SFVec3f"></field>
<![CDATA[ecmascript:

function initialize ()
{
	translation_changed = new SFVec3f ();
}

function set_active (value, time)
{
	print ("isActive: ", value);
}

function set_pickedPoint (value, time)
{
	print ("pickedPoint: ", value);
}

function set_pickedGeometry (value, time)
{
	print ("pickedGeometry: ", value);
}]]></Script>
<ROUTE fromNode="_14" fromField="translation_changed" toNode="TargetBox" toField="set_translation"></ROUTE>
<ROUTE fromNode="DebugScript" fromField="translation_changed" toNode="_14" toField="set_offset"></ROUTE>
<ROUTE fromNode="DebugScript" fromField="translation_changed" toNode="TargetBox" toField="set_translation"></ROUTE>
<ROUTE fromNode="_17" fromField="isActive" toNode="DebugScript" toField="set_active"></ROUTE>
<ROUTE fromNode="_17" fromField="pickedGeometry" toNode="DebugScript" toField="set_pickedGeometry"></ROUTE>
<ROUTE fromNode="_17" fromField="pickedPoint" toNode="DebugScript" toField="set_pickedPoint"></ROUTE>
</Scene>
</X3D>