<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE X3D PUBLIC "ISO//Web3D//DTD X3D 3.3//EN" "https://www.web3d.org/specifications/x3d-3.3.dtd">
<X3D xmlns:xsd="http://www.w3.org/2001/XMLSchema-instance" profile="Full" version="3.3" xsd:noNamespaceSchemaLocation="http://www.web3d.org/specifications/x3d-3.3.xsd" ><head><meta name="comment" content="World of Titania"></meta>
<meta name="created" content="Mon, 18 Apr 2016 18:51:12 GMT"></meta>
<meta name="creator" content="Holger Seelig"></meta>
<meta name="generator" content="Titania V1.4.1, http://titania.create3000.de"></meta>
<meta name="identifier" content="file:///home/holger/Projekte/Cobweb/excite/tests/Components/ParticleSystems/PointEmitter.x3d"></meta>
<meta name="modified" content="Wed, 20 Apr 2016 01:44:22 GMT"></meta>
</head>
<Scene><ExternProtoDeclare name="Grid" url="&quot;, &quot; &quot;GridTool.x3dv#Gridfile:///home/holger/Projekte/Cobweb/excite/tests/Components/ParticleSystems/GridTool.x3dv#Grid&quot;"><field name="translation" accessType="inputOutput" type="SFVec3f"></field>
<field name="rotation" accessType="inputOutput" type="SFRotation"></field>
<field name="scale" accessType="inputOutput" type="SFVec3f"></field>
<field name="dimension" accessType="inputOutput" type="MFInt32"></field>
<field name="majorLineEvery" accessType="inputOutput" type="MFInt32"></field>
<field name="majorLineOffset" accessType="inputOutput" type="MFInt32"></field>
<field name="color" accessType="inputOutput" type="SFColor"></field>
<field name="transparency" accessType="inputOutput" type="SFFloat"></field>
<field name="lineColor" accessType="inputOutput" type="SFColor"></field>
<field name="lineTransparency" accessType="inputOutput" type="SFFloat"></field>
<field name="majorLineColor" accessType="inputOutput" type="SFColor"></field>
<field name="majorLineTransparency" accessType="inputOutput" type="SFFloat"></field>
<field name="solid" accessType="initializeOnly" type="SFBool"></field>
</ExternProtoDeclare>
<WorldInfo><MetadataSet containerField="metadata" name="Titania" DEF="Titania" reference="http://titania.create3000.de"><MetadataSet name="AngleGrid" DEF="AngleGrid" reference="http://titania.create3000.de" containerField="value"><MetadataBoolean name="enabled" DEF="enabled" reference="http://titania.create3000.de" value="false" containerField="value"></MetadataBoolean>
</MetadataSet>
<MetadataSet name="Grid" DEF="Grid" reference="http://titania.create3000.de"><MetadataBoolean name="enabled" DEF="enabled_1" reference="http://titania.create3000.de" value="false" containerField="value"></MetadataBoolean>
</MetadataSet>
<MetadataSet name="NavigationInfo" DEF="NavigationInfo" reference="http://titania.create3000.de"><MetadataString name="type" DEF="type" reference="http://titania.create3000.de" value="&quot;EXAMINE&quot;" containerField="value"></MetadataString>
</MetadataSet>
<MetadataSet name="Viewpoint" DEF="Viewpoint" reference="http://titania.create3000.de"><MetadataDouble name="position" DEF="position" reference="http://titania.create3000.de" value="6.95441767781059 -10.9455192646649 38.1205570962763" containerField="value"></MetadataDouble>
<MetadataDouble name="orientation" DEF="orientation" reference="http://titania.create3000.de" value="0.267526168119517 0.886841256272589 -0.376752353070482 0.231331896046484"></MetadataDouble>
<MetadataDouble name="centerOfRotation" DEF="centerOfRotation" reference="http://titania.create3000.de" value="-0.49056801199913 -8.33930015563965 1.86343002319336"></MetadataDouble>
</MetadataSet>
<MetadataSet name="Selection" DEF="Selection" reference="http://titania.create3000.de"><MetadataSet name="previous" DEF="previous" reference="http://titania.create3000.de" containerField="value"></MetadataSet>
<MetadataSet name="children" DEF="children" reference="http://titania.create3000.de"><Transform DEF="TransparencyText" translation="1.675 -0.95 -0.00000349096" scale="0.0672307 0.0672307 0.0672307" containerField="value"><Shape><Appearance><Material emissiveColor="1 1 1"></Material>
</Appearance>
<Text containerField="geometry" DEF="_1" string="&quot;numParticles 2337&quot;" solid="true"><FontStyle DEF="_2" family="&quot;SANS&quot;" justify="&quot;END&quot;"></FontStyle>
</Text>
</Shape>
</Transform>
</MetadataSet>
</MetadataSet>
<MetadataSet name="LayerSet" DEF="LayerSet" reference="http://titania.create3000.de"><MetadataInteger name="activeLayer" DEF="activeLayer" reference="http://titania.create3000.de" value="1" containerField="value"></MetadataInteger>
</MetadataSet>
</MetadataSet>
</WorldInfo>
<LayerSet activeLayer="1" order="0 1 2 3"><Layer><Viewpoint description="Home" position="10.1059 -0.348535 36.514" orientation="-0.589527441120123 0.804383826489013 0.0736481897214987 0.36678659778641" centerOfRotation="-0.490568 -8.3393 1.86343"></Viewpoint>
<ParticleSystem DEF="Fountain" geometryType="SPRITE" maxParticles="2337" particleLifetime="2" lifetimeVariation="0.1" particleSize="1 1" colorKey="0 0.1 0.4 1" bboxSize="65.18 52.41 52.41" bboxCenter="0 -16.74 0"><PointEmitter containerField="emitter" direction="0 0 0" speed="10" variation="0.01" mass="0.01" surfaceArea="0.1"></PointEmitter>
<ForcePhysicsModel force="0 -0.098 0"></ForcePhysicsModel>
<WindPhysicsModel speed="0.8" gustiness="0.8" turbulence="2"></WindPhysicsModel>
<WindPhysicsModel direction="0 0 -1" speed="0.6" gustiness="1"></WindPhysicsModel>
<ColorRGBA containerField="colorRamp" color="0 0.38 1 0 0.06 0.58 1 0.1 0 0.37 1 0.2 0 0.05 1 0.2"></ColorRGBA>
<Appearance><LineProperties linewidthScaleFactor="4"></LineProperties>
</Appearance>
</ParticleSystem>
<ProtoInstance name="Grid"></ProtoInstance>
</Layer>
<LayoutLayer></LayoutLayer>
<Layer><OrthoViewpoint></OrthoViewpoint>
<Transform USE="TransparencyText"></Transform>
<Transform DEF="TransparancySlider" translation="0.025 -0.923 -0.00000349096" center="0 -0.027 0"><Transform DEF="IndexedLineSet"><Shape><Appearance><LineProperties linewidthScaleFactor="2"></LineProperties>
<Material DEF="Artdeco31" emissiveColor="1 1 1"></Material>
</Appearance>
<IndexedLineSet containerField="geometry" colorPerVertex="false" coordIndex="0 1 -1"><Coordinate containerField="coord" point="0 0 0 1 0 0"></Coordinate>
</IndexedLineSet>
</Shape>
</Transform>
<Transform><Transform DEF="Rectangle2D" translation="0.0584318 0 0" scale="0.027 0.0267372 0.0267372"><Shape><Appearance><Material emissiveColor="1 1 1"></Material>
</Appearance>
<Disk2D containerField="geometry"></Disk2D>
</Shape>
</Transform>
<PlaneSensor DEF="_3" offset="0.0584318 0 0" maxPosition="1 0"></PlaneSensor>
</Transform>
<Group><Group DEF="Animation"><MetadataSet containerField="metadata" name="Animation" DEF="Animation_1" reference="http://titania.create3000.de"><MetadataInteger name="duration" DEF="duration" reference="http://titania.create3000.de" value="68" containerField="value"></MetadataInteger>
<MetadataInteger name="framesPerSecond" DEF="framesPerSecond" reference="http://titania.create3000.de" value="10"></MetadataInteger>
</MetadataSet>
<TimeSensor DEF="_4" cycleInterval="6.8" loop="true" startTime="1451028308.5169" resumeTime="1451028223.75739" pauseTime="1451028247.50596" stopTime="1451028309.80616"></TimeSensor>
<PositionInterpolator DEF="pointSizeScriptSet_translationInterpolator" key="0 0.0147059 0.0294118 0.0441176 0.0588235 0.0735294 0.0882353 0.102941 0.117647 0.132353 0.147059 0.161765 0.176471 0.191176 0.205882 0.220588 0.235294 0.25 0.264706 0.279412 0.294118 0.308824 0.323529 0.338235 0.352941 0.367647 0.382353 0.397059 0.411765 0.426471 0.441176 0.455882 0.470588 0.485294 0.5 0.514706 0.529412 0.544118 0.558824 0.573529 0.588235 0.602941 0.617647 0.632353 0.647059 0.661765 0.676471 0.691176 0.705882 0.720588 0.735294 0.75 0.764706 0.779412 0.794118 0.808824 0.823529 0.838235 0.852941 0.867647 0.882353 0.897059 0.911765 0.926471 0.941176 0.955882 0.970588 0.985294 1" keyValue="0.200605 0 0 0.202642 0 0 0.208588 0 0 0.2182 0 0 0.231232 0 0 0.247441 0 0 0.266581 0 0 0.288408 0 0 0.312679 0 0 0.339147 0 0 0.367569 0 0 0.3977 0 0 0.429295 0 0 0.462111 0 0 0.495902 0 0 0.530424 0 0 0.565432 0 0 0.600683 0 0 0.63593 0 0 0.670931 0 0 0.70544 0 0 0.739212 0 0 0.772004 0 0 0.803571 0 0 0.833668 0 0 0.86205 0 0 0.888474 0 0 0.912694 0 0 0.934466 0 0 0.953546 0 0 0.969689 0 0 0.98265 0 0 0.992186 0 0 0.99805 0 0 1 0 0 0.997866 0 0 0.991808 0 0 0.982071 0 0 0.968899 0 0 0.95254 0 0 0.933237 0 0 0.911238 0 0 0.886786 0 0 0.860128 0 0 0.831508 0 0 0.801174 0 0 0.769369 0 0 0.736339 0 0 0.70233 0 0 0.667588 0 0 0.632357 0 0 0.596883 0 0 0.561412 0 0 0.526189 0 0 0.49146 0 0 0.457469 0 0 0.424463 0 0 0.392687 0 0 0.362387 0 0 0.333807 0 0 0.307193 0 0 0.282792 0 0 0.260847 0 0 0.241605 0 0 0.225311 0 0 0.212211 0 0 0.20255 0 0 0.196573 0 0 0.194526 0 0"><MetadataSet containerField="metadata" name="Interpolator" DEF="Interpolator" reference="http://titania.create3000.de"><MetadataInteger name="key" DEF="key" reference="http://titania.create3000.de" value="0 34 68" containerField="value"></MetadataInteger>
<MetadataDouble name="keyValue" DEF="keyValue" reference="http://titania.create3000.de" value="0.20060533285141 0 0 1 0 0 0.194526299834251 0 0"></MetadataDouble>
<MetadataString name="keyType" DEF="keyType" reference="http://titania.create3000.de" value="&quot;, &quot; &quot;SPLINE, &quot; &quot;SPLINESPLINE&quot;"></MetadataString>
</MetadataSet>
</PositionInterpolator>
</Group>
<Script DEF="NumParticlesyScript"><field name="set_translation" accessType="inputOnly" type="SFVec3f"></field>
<field name="description" accessType="inputOutput" type="SFString" value="numParticles"></field>
<field name="minValue" accessType="inputOutput" type="SFInt32"></field>
<field name="maxValue" accessType="inputOutput" type="SFInt32" value="40000"></field>
<field name="value_changed" accessType="outputOnly" type="SFInt32"></field>
<field name="string_changed" accessType="outputOnly" type="MFString"></field>
<field name="currentValue" accessType="initializeOnly" type="SFInt32" value="2337"></field>
<![CDATA[ecmascript:

function initialized ()
{
	set_value (value);
}

function set_translation (value)
{
	set_value (minValue + (value .x * (maxValue - minValue)));
}

function set_value (value)
{
	var rounded = value .toFixed (0);

	if (rounded == currentValue)
		return;

	currentValue       = rounded;
	string_changed [0] = description + " " + rounded;
	value_changed      = rounded;
}]]></Script>
</Group>
<Switch whichChoice="-1"><Transform DEF="Rectangle2D_1" translation="-0.075 0 0" scale="0.025 0.0247567 0.0247567"><Shape><Appearance><Material emissiveColor="1 1 1"></Material>
</Appearance>
<Rectangle2D containerField="geometry"></Rectangle2D>
</Shape>
<TouchSensor DEF="_5" description="Toggle Animation"></TouchSensor>
<Script DEF="ToggleTransparencyAnim"><field name="set_touchTime" accessType="inputOnly" type="SFTime"></field>
<field name="timer" accessType="initializeOnly" type="SFNode"><TimeSensor USE="_4"></TimeSensor>
</field>
<![CDATA[ecmascript:

function set_touchTime (value, time)
{
	if (timer .isActive)
	{
		if (timer .isPaused)
			timer .resumeTime = time;
		else
			timer .pauseTime = time;
	}
	else
		timer .startTime = time;
}]]></Script>
</Transform>
</Switch>
</Transform>
</Layer>
</LayerSet>
<ROUTE fromNode="_5" fromField="touchTime" toNode="ToggleTransparencyAnim" toField="set_touchTime"></ROUTE>
<ROUTE fromNode="_3" fromField="translation_changed" toNode="Rectangle2D" toField="set_translation"></ROUTE>
<ROUTE fromNode="NumParticlesyScript" fromField="string_changed" toNode="_1" toField="set_string"></ROUTE>
<ROUTE fromNode="_3" fromField="translation_changed" toNode="NumParticlesyScript" toField="set_translation"></ROUTE>
<ROUTE fromNode="pointSizeScriptSet_translationInterpolator" fromField="value_changed" toNode="Rectangle2D" toField="set_translation"></ROUTE>
<ROUTE fromNode="pointSizeScriptSet_translationInterpolator" fromField="value_changed" toNode="NumParticlesyScript" toField="set_translation"></ROUTE>
<ROUTE fromNode="pointSizeScriptSet_translationInterpolator" fromField="value_changed" toNode="_3" toField="set_offset"></ROUTE>
<ROUTE fromNode="_4" fromField="fraction_changed" toNode="pointSizeScriptSet_translationInterpolator" toField="set_fraction"></ROUTE>
<ROUTE fromNode="NumParticlesyScript" fromField="value_changed" toNode="Fountain" toField="set_maxParticles"></ROUTE>
</Scene>
</X3D>