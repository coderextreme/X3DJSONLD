{ "X3D": {
    "encoding":"UTF-8",
    "@profile":"Full",
    "@version":"3.3",
    "@xsd:noNamespaceSchemaLocation":"http://www.web3d.org/specifications/x3d-3.3.xsd",
    "JSON schema":"https://www.web3d.org/specifications/x3d-3.3-JSONSchema.json",
    "head": {
        "meta": [
          {
            "@name":"comment",
            "@content":"World of Titania"
          },
          {
            "@name":"created",
            "@content":"Thu, 10 Jan 2019 13:46:10 GMT"
          },
          {
            "@name":"creator",
            "@content":"Holger Seelig"
          },
          {
            "@name":"generator",
            "@content":"Titania V4.3.10, http://titania.create3000.de"
          },
          {
            "@name":"identifier",
            "@content":"file:///home/holger/Projekte/Library/Tests/Components/NURBS/torus.x3d"
          },
          {
            "@name":"modified",
            "@content":"Sat, 19 Jan 2019 01:13:13 GMT"
          },
          {
            "@name":"translated",
            "@content":"06 September 2021"
          },
          {
            "@name":"generator",
            "@content":"X3dToJson.xslt, https://www.web3d.org/x3d/stylesheets/X3dToJson.html"
          },
          {
            "@name":"reference",
            "@content":"X3D JSON encoding: https://www.web3d.org/wiki/index.php/X3D_JSON_Encoding"
          }
        ]
    },
    "Scene": {
        "-children":[
          { "ProtoDeclare":
            {
              "@name":"NurbsTorus",
              "ProtoInterface": {
                  "field": [
                    {
                      "@name":"uOrder",
                      "@accessType":"inputOutput",
                      "@type":"SFInt32",
                      "@value":3
                    },
                    {
                      "@name":"vOrder",
                      "@accessType":"inputOutput",
                      "@type":"SFInt32",
                      "@value":3
                    },
                    {
                      "@name":"uPoints",
                      "@accessType":"inputOutput",
                      "@type":"SFInt32",
                      "@value":6
                    },
                    {
                      "@name":"vPoints",
                      "@accessType":"inputOutput",
                      "@type":"SFInt32",
                      "@value":6
                    },
                    {
                      "@name":"uClosed",
                      "@accessType":"inputOutput",
                      "@type":"SFBool",
                      "@value":true
                    },
                    {
                      "@name":"vClosed",
                      "@accessType":"inputOutput",
                      "@type":"SFBool",
                      "@value":true
                    },
                    {
                      "@name":"minorRadius",
                      "@accessType":"inputOutput",
                      "@type":"SFFloat",
                      "@value":1
                    },
                    {
                      "@name":"majorRadius",
                      "@accessType":"inputOutput",
                      "@type":"SFFloat",
                      "@value":3
                    },
                    {
                      "@name":"uFrequency",
                      "@accessType":"inputOutput",
                      "@type":"SFFloat",
                      "@value":4
                    },
                    {
                      "@name":"vFrequency",
                      "@accessType":"inputOutput",
                      "@type":"SFFloat",
                      "@value":4
                    },
                    {
                      "@name":"twist",
                      "@accessType":"inputOutput",
                      "@type":"SFFloat"
                    },
                    {
                      "@name":"weightStrength",
                      "@accessType":"inputOutput",
                      "@type":"SFFloat"
                    }
                  ]
              },
              "ProtoBody": {
                  "-children":[
                    { "NurbsPatchSurface":
                      {
                        "@DEF":"_1",
                        "@solid":false,
                        "@uTessellation":30,
                        "@vTessellation":90,
                        "@uClosed":true,
                        "@vClosed":true,
                        "@uDimension":7,
                        "@vDimension":7,
                        "@weight":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
                        "-texCoord":
                          { "TextureCoordinate3D":
                            {
                            }
                          },
                        "-controlPoint":
                          { "CoordinateDouble":
                            {
                            }
                          }
                      }
                    },
                    { "Script":
                      {
                        "@DEF":"NurbsTorusScript",
                        "@directOutput":true,
                        "field": [
                          {
                            "@name":"uOrder",
                            "@accessType":"inputOutput",
                            "@type":"SFInt32"
                          },
                          {
                            "@name":"vOrder",
                            "@accessType":"inputOutput",
                            "@type":"SFInt32"
                          },
                          {
                            "@name":"uPoints",
                            "@accessType":"inputOutput",
                            "@type":"SFInt32"
                          },
                          {
                            "@name":"vPoints",
                            "@accessType":"inputOutput",
                            "@type":"SFInt32"
                          },
                          {
                            "@name":"uClosed",
                            "@accessType":"inputOutput",
                            "@type":"SFBool"
                          },
                          {
                            "@name":"vClosed",
                            "@accessType":"inputOutput",
                            "@type":"SFBool"
                          },
                          {
                            "@name":"minorRadius",
                            "@accessType":"inputOutput",
                            "@type":"SFFloat"
                          },
                          {
                            "@name":"majorRadius",
                            "@accessType":"inputOutput",
                            "@type":"SFFloat"
                          },
                          {
                            "@name":"uFrequency",
                            "@accessType":"inputOutput",
                            "@type":"SFFloat"
                          },
                          {
                            "@name":"vFrequency",
                            "@accessType":"inputOutput",
                            "@type":"SFFloat"
                          },
                          {
                            "@name":"twist",
                            "@accessType":"inputOutput",
                            "@type":"SFFloat"
                          },
                          {
                            "@name":"weightStrength",
                            "@accessType":"inputOutput",
                            "@type":"SFFloat"
                          },
                          {
                            "@name":"geometry",
                            "@accessType":"initializeOnly",
                            "@type":"SFNode",
                            "-children":[
                              { "NurbsPatchSurface":
                                {
                                  "@USE":"_1"
                                }
                              }
                            ]
                          }
                        ],
                        "IS": {
                            "connect": [
                              {
                                "@nodeField":"uOrder",
                                "@protoField":"uOrder"
                              },
                              {
                                "@nodeField":"vOrder",
                                "@protoField":"vOrder"
                              },
                              {
                                "@nodeField":"uPoints",
                                "@protoField":"uPoints"
                              },
                              {
                                "@nodeField":"vPoints",
                                "@protoField":"vPoints"
                              },
                              {
                                "@nodeField":"uClosed",
                                "@protoField":"uClosed"
                              },
                              {
                                "@nodeField":"vClosed",
                                "@protoField":"vClosed"
                              },
                              {
                                "@nodeField":"minorRadius",
                                "@protoField":"minorRadius"
                              },
                              {
                                "@nodeField":"majorRadius",
                                "@protoField":"majorRadius"
                              },
                              {
                                "@nodeField":"uFrequency",
                                "@protoField":"uFrequency"
                              },
                              {
                                "@nodeField":"vFrequency",
                                "@protoField":"vFrequency"
                              },
                              {
                                "@nodeField":"twist",
                                "@protoField":"twist"
                              },
                              {
                                "@nodeField":"weightStrength",
                                "@protoField":"weightStrength"
                              }
                            ]
                        },
                        "#sourceText":[
"",
"ecmascript:",
"",
"function initialize ()",
"{",
"\teventsProcessed ();",
"}",
"",
"function eventsProcessed ()",
"{",
"\tvar",
"\t\tweight   = geometry .weight,",
"\t\tpoint    = geometry .controlPoint .point;",
"",
"\tgeometry .uOrder     = Math .min (uOrder, uPoints);",
"\tgeometry .vOrder     = Math .min (vOrder, vPoints);",
"\tgeometry .uDimension = uPoints + uClosed;",
"\tgeometry .vDimension = vPoints + vClosed;",
"",
"\tweight .length = 0;",
"\tpoint  .length = 0;",
"",
"\tfor (v = 0; v < vPoints; ++ v)",
"\t{",
"\t\tfor (u = 0; u < uPoints; ++ u)",
"\t\t{",
"\t\t\tvar",
"\t\t\t\ttheta2 = v / vPoints * Math .PI * 2,",
"\t\t\t\ttheta1 = (u + 0.5) / uPoints * Math .PI * 2 + (theta2 - Math .PI) * twist,",
"\t\t\t\tr2     = minorRadius * (1 + 0.5 * Math .cos (theta1 * uFrequency) * Math .sin (theta2 * vFrequency)),",
"\t\t\t\ta      = majorRadius + r2 * Math .cos (theta1);",
"",
"\t\t\tweight .push (1 / (1 + 0.99 * weightStrength * Math .cos (theta2) * Math .sin (theta1)));",
"",
"\t\t\tpoint .push (new SFVec3d (a  * Math .cos (theta2),",
"\t\t\t                          r2 * Math .sin (theta1),",
"\t\t\t                          a  * Math .sin (theta2)));",
"\t\t}",
"",
"\t\tif (uClosed)",
"\t\t{",
"\t\t\tweight .push (weight [weight .length - uPoints]);",
"\t\t\tpoint  .push (point  [point  .length - uPoints]);",
"\t\t}",
"\t}",
"",
"\tif (vClosed)",
"\t{",
"\t\tfor (var i = 0, length = uPoints + uClosed; i < length; ++ i)",
"\t\t{",
"\t\t\tweight .push (weight [i]);",
"\t\t\tpoint  .push (point [i]);",
"\t\t}",
"\t}",
"",
"\t// Provide some tex coords.",
"",
"\tvar texCoord = geometry .texCoord .point;",
"",
"\ttexCoord .length = 0;",
"",
"\tfor (var i = 0, length = point .length; i < length; ++ i)",
"\t{",
"\t\tvar p = point [i];",
"\t\ttexCoord .push (new SFVec3f (p .x, p .y, p .z));",
"\t}",
"}",
"",
""
]
                      }
                    }
                  ]
              }
            }
          },
          { "ProtoDeclare":
            {
              "@name":"Slider",
              "ProtoInterface": {
                  "field": [
                    {
                      "@name":"name",
                      "@accessType":"inputOutput",
                      "@type":"MFString"
                    },
                    {
                      "@name":"initialValue",
                      "@accessType":"initializeOnly",
                      "@type":"SFFloat"
                    },
                    {
                      "@name":"minValue",
                      "@accessType":"inputOutput",
                      "@type":"SFFloat"
                    },
                    {
                      "@name":"maxValue",
                      "@accessType":"inputOutput",
                      "@type":"SFFloat",
                      "@value":1
                    },
                    {
                      "@name":"precision",
                      "@accessType":"inputOutput",
                      "@type":"SFInt32"
                    },
                    {
                      "@name":"value_changed",
                      "@accessType":"outputOnly",
                      "@type":"SFFloat"
                    }
                  ]
              },
              "ProtoBody": {
                  "-children":[
                    { "Group":
                      {
                        "-children":[
                          { "Transform":
                            {
                              "@DEF":"Background",
                              "-children":[
                                { "Shape":
                                  {
                                    "-appearance":
                                      { "Appearance":
                                        {
                                          "-material":
                                            { "Material":
                                              {
                                                "@diffuseColor":[0,0,0],
                                                "@transparency":0.200231
                                              }
                                            }
                                        }
                                      },
                                    "-geometry":
                                      { "Rectangle2D":
                                        {
                                          "@size":[1,0.1]
                                        }
                                      }
                                  }
                                }
                              ]
                            }
                          },
                          { "Transform":
                            {
                              "@DEF":"Knob",
                              "@translation":[-0.475,0,0],
                              "-children":[
                                { "Shape":
                                  {
                                    "-appearance":
                                      { "Appearance":
                                        {
                                          "-material":
                                            { "Material":
                                              {
                                                "@diffuseColor":[0.779,0.779,0.779],
                                                "@transparency":0.200231
                                              }
                                            }
                                        }
                                      },
                                    "-geometry":
                                      { "Rectangle2D":
                                        {
                                          "@size":[0.05,0.1]
                                        }
                                      }
                                  }
                                }
                              ]
                            }
                          },
                          { "Transform":
                            {
                              "@DEF":"Name",
                              "@translation":[-0.47,0,0.01],
                              "-children":[
                                { "Shape":
                                  {
                                    "-appearance":
                                      { "Appearance":
                                        {
                                          "-material":
                                            { "Material":
                                              {
                                              }
                                            }
                                        }
                                      },
                                    "-geometry":
                                      { "Text":
                                        {
                                          "@solid":true,
                                          "IS": {
                                              "connect": [
                                                {
                                                  "@nodeField":"string",
                                                  "@protoField":"name"
                                                }
                                              ]
                                          },
                                          "-fontStyle":
                                            { "FontStyle":
                                              {
                                                "@family":["SANS"],
                                                "@size":0.06,
                                                "@justify":[", ","BEGINMIDDLE"]
                                              }
                                            }
                                        }
                                      }
                                  }
                                }
                              ]
                            }
                          },
                          { "Transform":
                            {
                              "@DEF":"Number",
                              "@translation":[0.47,0,0.01],
                              "-children":[
                                { "Shape":
                                  {
                                    "-appearance":
                                      { "Appearance":
                                        {
                                          "-material":
                                            { "Material":
                                              {
                                              }
                                            }
                                        }
                                      },
                                    "-geometry":
                                      { "Text":
                                        {
                                          "@DEF":"_2",
                                          "@string":["0"],
                                          "@solid":true,
                                          "-fontStyle":
                                            { "FontStyle":
                                              {
                                                "@family":["SANS"],
                                                "@size":0.06,
                                                "@justify":[", ","ENDMIDDLE"]
                                              }
                                            }
                                        }
                                      }
                                  }
                                }
                              ]
                            }
                          },
                          { "PlaneSensor":
                            {
                              "@DEF":"_3",
                              "@offset":[-0.475,0,0],
                              "@minPosition":[-0.475,0],
                              "@maxPosition":[0.475,0]
                            }
                          }
                        ]
                      }
                    },
                    { "Script":
                      {
                        "@DEF":"SliderScript",
                        "@directOutput":true,
                        "field": [
                          {
                            "@name":"set_translation",
                            "@accessType":"inputOnly",
                            "@type":"SFVec3f"
                          },
                          {
                            "@name":"initialValue",
                            "@accessType":"initializeOnly",
                            "@type":"SFFloat"
                          },
                          {
                            "@name":"minValue",
                            "@accessType":"inputOutput",
                            "@type":"SFFloat"
                          },
                          {
                            "@name":"maxValue",
                            "@accessType":"inputOutput",
                            "@type":"SFFloat"
                          },
                          {
                            "@name":"precision",
                            "@accessType":"inputOutput",
                            "@type":"SFInt32"
                          },
                          {
                            "@name":"string_changed",
                            "@accessType":"outputOnly",
                            "@type":"MFString"
                          },
                          {
                            "@name":"value_changed",
                            "@accessType":"outputOnly",
                            "@type":"SFFloat"
                          },
                          {
                            "@name":"sensor",
                            "@accessType":"initializeOnly",
                            "@type":"SFNode",
                            "-children":[
                              { "PlaneSensor":
                                {
                                  "@USE":"_3"
                                }
                              }
                            ]
                          },
                          {
                            "@name":"knob",
                            "@accessType":"initializeOnly",
                            "@type":"SFNode",
                            "-children":[
                              { "Transform":
                                {
                                  "@USE":"Knob"
                                }
                              }
                            ]
                          }
                        ],
                        "IS": {
                            "connect": [
                              {
                                "@nodeField":"initialValue",
                                "@protoField":"initialValue"
                              },
                              {
                                "@nodeField":"minValue",
                                "@protoField":"minValue"
                              },
                              {
                                "@nodeField":"maxValue",
                                "@protoField":"maxValue"
                              },
                              {
                                "@nodeField":"precision",
                                "@protoField":"precision"
                              },
                              {
                                "@nodeField":"value_changed",
                                "@protoField":"value_changed"
                              }
                            ]
                        },
                        "#sourceText":[
"",
"ecmascript:",
"",
"function initialize ()",
"{",
"\tvar",
"\t\tv = initialValue .toFixed (precision),",
"\t\tx = project (v, minValue, maxValue, sensor .minPosition .x, sensor .maxPosition .x),",
"\t\tt = new SFVec3f (x, 0, 0);",
"",
"\tsensor .offset     = t;",
"\tknob .translation  = t;",
"\tstring_changed [0] = v;",
"}",
"",
"function set_translation (value, time)",
"{",
"\tvar",
"\t\tv = project (value .x, sensor .minPosition .x, sensor .maxPosition .x, minValue, maxValue) .toFixed (precision),",
"\t\tx = project (v, minValue, maxValue, sensor .minPosition .x, sensor .maxPosition .x),",
"\t\tt = new SFVec3f (x, 0, 0);",
"",
"\tknob .translation  = t;",
"\tstring_changed [0] = v;",
"\tvalue_changed      = v;",
"}",
"",
"function project (value, fromLow, fromHigh, toLow, toHigh)",
"{",
"\treturn toLow + ((value - fromLow) / (fromHigh - fromLow)) * (toHigh - toLow);",
"}",
"",
""
]
                      }
                    },
                    { "ROUTE":
                      {
                        "@fromNode":"_3",
                        "@fromField":"translation_changed",
                        "@toNode":"SliderScript",
                        "@toField":"set_translation"
                      }
                    },
                    { "ROUTE":
                      {
                        "@fromNode":"SliderScript",
                        "@fromField":"string_changed",
                        "@toNode":"_2",
                        "@toField":"set_string"
                      }
                    }
                  ]
              }
            }
          },
          { "ProtoDeclare":
            {
              "@name":"Float2Integer",
              "ProtoInterface": {
                  "field": [
                    {
                      "@name":"set_value",
                      "@accessType":"inputOnly",
                      "@type":"SFFloat"
                    },
                    {
                      "@name":"value_changed",
                      "@accessType":"outputOnly",
                      "@type":"SFInt32"
                    }
                  ]
              },
              "ProtoBody": {
                  "-children":[
                    { "Script":
                      {
                        "@DEF":"Float2IntegerScript",
                        "field": [
                          {
                            "@name":"set_value",
                            "@accessType":"inputOnly",
                            "@type":"SFFloat"
                          },
                          {
                            "@name":"value_changed",
                            "@accessType":"outputOnly",
                            "@type":"SFInt32"
                          }
                        ],
                        "IS": {
                            "connect": [
                              {
                                "@nodeField":"set_value",
                                "@protoField":"set_value"
                              },
                              {
                                "@nodeField":"value_changed",
                                "@protoField":"value_changed"
                              }
                            ]
                        },
                        "#sourceText":[
"",
"ecmascript:",
"",
"function set_value (value, time)",
"{",
"\tvalue_changed = value;",
"}",
"",
""
]
                      }
                    }
                  ]
              }
            }
          },
          { "WorldInfo":
            {
              "-metadata":
                { "MetadataSet":
                  {
                    "@name":"Titania",
                    "@DEF":"Titania",
                    "@reference":"http://titania.create3000.de",
                    "-value":[
                      { "MetadataSet":
                        {
                          "@name":"AngleGrid",
                          "@DEF":"AngleGrid",
                          "@reference":"http://titania.create3000.de",
                          "-value":[
                            { "MetadataBoolean":
                              {
                                "@name":"enabled",
                                "@DEF":"enabled",
                                "@reference":"http://titania.create3000.de",
                                "@value":[false]
                              }
                            }
                          ]
                        }
                      },
                      { "MetadataSet":
                        {
                          "@name":"Grid",
                          "@DEF":"Grid",
                          "@reference":"http://titania.create3000.de",
                          "-value":[
                            { "MetadataBoolean":
                              {
                                "@name":"enabled",
                                "@DEF":"enabled_4",
                                "@reference":"http://titania.create3000.de",
                                "@value":[true]
                              }
                            }
                          ]
                        }
                      },
                      { "MetadataSet":
                        {
                          "@name":"Selection",
                          "@DEF":"Selection",
                          "@reference":"http://titania.create3000.de",
                          "-value":[
                            { "MetadataBoolean":
                              {
                                "@name":"selectGeometry",
                                "@DEF":"selectGeometry",
                                "@reference":"http://titania.create3000.de",
                                "@value":[false]
                              }
                            },
                            { "MetadataSet":
                              {
                                "@name":"nodes",
                                "@DEF":"nodes",
                                "@reference":"http://titania.create3000.de"
                              }
                            }
                          ]
                        }
                      },
                      { "MetadataSet":
                        {
                          "@name":"BrowserPanel",
                          "@DEF":"BrowserPanel",
                          "@reference":"http://titania.create3000.de",
                          "-value":[
                            { "MetadataString":
                              {
                                "@name":"type",
                                "@DEF":"type_5",
                                "@reference":"http://titania.create3000.de",
                                "@value":[", ","TOP_VIEW, ","MAIN_VIEW, ","PERSPECTIVE_VIEWFRONT_VIEW"]
                              }
                            },
                            { "MetadataSet":
                              {
                                "@name":"viewpoints",
                                "@DEF":"viewpoints",
                                "@reference":"http://titania.create3000.de",
                                "-value":[
                                  { "MetadataSet":
                                    {
                                      "@name":"PerspectiveViewpoint",
                                      "@DEF":"PerspectiveViewpoint",
                                      "@reference":"http://titania.create3000.de",
                                      "-value":[
                                        { "MetadataDouble":
                                          {
                                            "@name":"position",
                                            "@DEF":"position_6",
                                            "@reference":"http://titania.create3000.de",
                                            "@value":[5.87788534164429,6.46984958648682,13.8524446487427]
                                          }
                                        },
                                        { "MetadataDouble":
                                          {
                                            "@name":"orientation",
                                            "@DEF":"orientation_7",
                                            "@reference":"http://titania.create3000.de",
                                            "@value":[-0.704047462871213,0.695566762376518,0.143192350010952,0.568941727555854]
                                          }
                                        },
                                        { "MetadataDouble":
                                          {
                                            "@name":"centerOfRotation",
                                            "@DEF":"centerOfRotation_8",
                                            "@reference":"http://titania.create3000.de",
                                            "@value":[0,0,0]
                                          }
                                        },
                                        { "MetadataDouble":
                                          {
                                            "@name":"fieldOfViewScale",
                                            "@DEF":"fieldOfViewScale",
                                            "@reference":"http://titania.create3000.de",
                                            "@value":[1]
                                          }
                                        }
                                      ]
                                    }
                                  },
                                  { "MetadataSet":
                                    {
                                      "@name":"TopViewpoint",
                                      "@DEF":"TopViewpoint",
                                      "@reference":"http://titania.create3000.de",
                                      "-value":[
                                        { "MetadataDouble":
                                          {
                                            "@name":"position",
                                            "@DEF":"position_9",
                                            "@reference":"http://titania.create3000.de",
                                            "@value":[0,10000,0]
                                          }
                                        },
                                        { "MetadataDouble":
                                          {
                                            "@name":"orientation",
                                            "@DEF":"orientation_10",
                                            "@reference":"http://titania.create3000.de",
                                            "@value":[1,0,0,4.71238898038469]
                                          }
                                        },
                                        { "MetadataDouble":
                                          {
                                            "@name":"centerOfRotation",
                                            "@DEF":"centerOfRotation_11",
                                            "@reference":"http://titania.create3000.de",
                                            "@value":[-0.0320612526145463,0,0.0937320149966475]
                                          }
                                        },
                                        { "MetadataDouble":
                                          {
                                            "@name":"fieldOfViewScale",
                                            "@DEF":"fieldOfViewScale_12",
                                            "@reference":"http://titania.create3000.de",
                                            "@value":[1.21023944190259]
                                          }
                                        }
                                      ]
                                    }
                                  },
                                  { "MetadataSet":
                                    {
                                      "@name":"FrontViewpoint",
                                      "@DEF":"FrontViewpoint",
                                      "@reference":"http://titania.create3000.de",
                                      "-value":[
                                        { "MetadataDouble":
                                          {
                                            "@name":"position",
                                            "@DEF":"position_13",
                                            "@reference":"http://titania.create3000.de",
                                            "@value":[0,0,10000]
                                          }
                                        },
                                        { "MetadataDouble":
                                          {
                                            "@name":"orientation",
                                            "@DEF":"orientation_14",
                                            "@reference":"http://titania.create3000.de",
                                            "@value":[0,0,1,0]
                                          }
                                        },
                                        { "MetadataDouble":
                                          {
                                            "@name":"centerOfRotation",
                                            "@DEF":"centerOfRotation_15",
                                            "@reference":"http://titania.create3000.de",
                                            "@value":[-0.00884759203065143,0.0177734813359099,0]
                                          }
                                        },
                                        { "MetadataDouble":
                                          {
                                            "@name":"fieldOfViewScale",
                                            "@DEF":"fieldOfViewScale_16",
                                            "@reference":"http://titania.create3000.de",
                                            "@value":[1.212467484375]
                                          }
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            },
                            { "MetadataString":
                              {
                                "@name":"shading",
                                "@DEF":"shading",
                                "@reference":"http://titania.create3000.de",
                                "@value":[""PHONG",", ",", ",", ]
                              }
                            }
                          ]
                        }
                      },
                      { "MetadataSet":
                        {
                          "@name":"Page",
                          "@DEF":"Page",
                          "@reference":"http://titania.create3000.de",
                          "-value":[
                            { "MetadataInteger":
                              {
                                "@name":"activeView",
                                "@DEF":"activeView",
                                "@reference":"http://titania.create3000.de",
                                "@value":[1]
                              }
                            },
                            { "MetadataInteger":
                              {
                                "@name":"multiView",
                                "@DEF":"multiView",
                                "@reference":"http://titania.create3000.de",
                                "@value":[0]
                              }
                            },
                            { "MetadataDouble":
                              {
                                "@name":"browserRatio",
                                "@DEF":"browserRatio",
                                "@reference":"http://titania.create3000.de",
                                "@value":[1.777777]
                              }
                            }
                          ]
                        }
                      },
                      { "MetadataSet":
                        {
                          "@name":"Prototype",
                          "@DEF":"Prototype",
                          "@reference":"http://titania.create3000.de",
                          "-value":[
                            { "MetadataString":
                              {
                                "@name":"path",
                                "@DEF":"path",
                                "@reference":"http://titania.create3000.de",
                                "@value":["Slider"]
                              }
                            }
                          ]
                        }
                      }
                    ]
                  }
                }
            }
          },
          { "Script":
            {
              "@DEF":"PhongShadingScript",
              "#sourceText":[
"",
"ecmascript:",
"",
"function initialize ()",
"{",
"\t// Phong shading can be enabled if »X_ITE Compatibility« mode is enabled in Titania.",
"",
"\tBrowser .setBrowserOption (\"Shading\", \"PHONG\");",
"}",
"",
""
]
            }
          },
          { "LayerSet":
            {
              "@activeLayer":1,
              "@order":[1,2],
              "-layers":[
                { "Layer":
                  {
                    "@DEF":"Scene",
                    "@isPickable":false,
                    "-children":[
                      { "Background":
                        {
                          "@DEF":"White",
                          "@skyColor":[1,1,1]
                        }
                      },
                      { "Viewpoint":
                        {
                          "@description":"Initial view",
                          "@position":[9.85116,5.89662,2.62456],
                          "@orientation":[-0.319601353670287,0.915169165318119,0.245602063474756,1.39696298210609],
                          "@centerOfRotation":[-6.87838e-05,5.96046e-08,2.18153e-05]
                        }
                      },
                      { "Transform":
                        {
                          "@DEF":"Torus",
                          "-children":[
                            { "Shape":
                              {
                                "-appearance":
                                  { "Appearance":
                                    {
                                      "-material":
                                        { "Material":
                                          {
                                            "@diffuseColor":[1,1,1],
                                            "@specularColor":[0.9,0.9,0.9],
                                            "@emissiveColor":[0.275,0.275,0.275],
                                            "@shininess":0.25
                                          }
                                        },
                                      "-texture":
                                        { "ImageTexture":
                                          {
                                            "@url":["gradient.png"]
                                          }
                                        },
                                      "-textureTransform":
                                        { "TextureTransform":
                                          {
                                            "@scale":[1,1.67]
                                          }
                                        }
                                    }
                                  },
                                "-geometry":
                                  { "ProtoInstance":
                                    {
                                      "@name":"NurbsTorus",
                                      "@DEF":"_17",
                                      "fieldValue": [
                                        {
                                          "@name":"vOrder",
                                          "@value":4
                                        }
                                      ]
                                    }
                                  }
                              }
                            }
                          ]
                        }
                      }
                    ]
                  }
                },
                { "LayoutLayer":
                  {
                    "@DEF":"HUD",
                    "-metadata":
                      { "MetadataSet":
                        {
                          "@name":"Titania",
                          "@DEF":"Titania_18",
                          "@reference":"http://titania.create3000.de",
                          "-value":[
                            { "MetadataSet":
                              {
                                "@name":"Grid",
                                "@DEF":"Grid_19",
                                "@reference":"http://titania.create3000.de",
                                "-value":[
                                  { "MetadataBoolean":
                                    {
                                      "@name":"enabled",
                                      "@DEF":"enabled_20",
                                      "@reference":"http://titania.create3000.de",
                                      "@value":[false]
                                    }
                                  }
                                ]
                              }
                            }
                          ]
                        }
                      },
                    "-layout":
                      { "Layout":
                        {
                          "@align":[", ","RIGHTTOP"],
                          "@size":[0.2,0.4]
                        }
                      },
                    "-children":[
                      { "Transform":
                        {
                          "@DEF":"minorRadius",
                          "@translation":[0,0.44,0],
                          "-children":[
                            { "ProtoInstance":
                              {
                                "@name":"Slider",
                                "@DEF":"_21",
                                "fieldValue": [
                                  {
                                    "@name":"name",
                                    "@value":["minorRadius"]
                                  },
                                  {
                                    "@name":"initialValue",
                                    "@value":1
                                  },
                                  {
                                    "@name":"minValue",
                                    "@value":0.1
                                  },
                                  {
                                    "@name":"maxValue",
                                    "@value":3
                                  },
                                  {
                                    "@name":"precision",
                                    "@value":2
                                  }
                                ]
                              }
                            }
                          ]
                        }
                      },
                      { "Transform":
                        {
                          "@DEF":"majorRadius",
                          "@translation":[0,0.33,0],
                          "-children":[
                            { "ProtoInstance":
                              {
                                "@name":"Slider",
                                "@DEF":"_22",
                                "fieldValue": [
                                  {
                                    "@name":"name",
                                    "@value":["majorRadius"]
                                  },
                                  {
                                    "@name":"initialValue",
                                    "@value":3
                                  },
                                  {
                                    "@name":"minValue",
                                    "@value":1
                                  },
                                  {
                                    "@name":"maxValue",
                                    "@value":6
                                  },
                                  {
                                    "@name":"precision",
                                    "@value":2
                                  }
                                ]
                              }
                            }
                          ]
                        }
                      },
                      { "Transform":
                        {
                          "@DEF":"uFrequency",
                          "@translation":[0,0.22,0],
                          "-children":[
                            { "ProtoInstance":
                              {
                                "@name":"Slider",
                                "@DEF":"_23",
                                "fieldValue": [
                                  {
                                    "@name":"name",
                                    "@value":["uFrequency"]
                                  },
                                  {
                                    "@name":"initialValue",
                                    "@value":4
                                  },
                                  {
                                    "@name":"maxValue",
                                    "@value":8
                                  },
                                  {
                                    "@name":"precision",
                                    "@value":2
                                  }
                                ]
                              }
                            }
                          ]
                        }
                      },
                      { "Transform":
                        {
                          "@DEF":"vFrequency",
                          "@translation":[0,0.11,0],
                          "-children":[
                            { "ProtoInstance":
                              {
                                "@name":"Slider",
                                "@DEF":"_24",
                                "fieldValue": [
                                  {
                                    "@name":"name",
                                    "@value":["vFrequency"]
                                  },
                                  {
                                    "@name":"initialValue",
                                    "@value":4
                                  },
                                  {
                                    "@name":"maxValue",
                                    "@value":16
                                  },
                                  {
                                    "@name":"precision",
                                    "@value":2
                                  }
                                ]
                              }
                            }
                          ]
                        }
                      },
                      { "Transform":
                        {
                          "@DEF":"Twist",
                          "-children":[
                            { "ProtoInstance":
                              {
                                "@name":"Slider",
                                "@DEF":"_25",
                                "fieldValue": [
                                  {
                                    "@name":"name",
                                    "@value":["twist"]
                                  },
                                  {
                                    "@name":"minValue",
                                    "@value":-2
                                  },
                                  {
                                    "@name":"maxValue",
                                    "@value":2
                                  },
                                  {
                                    "@name":"precision",
                                    "@value":2
                                  }
                                ]
                              }
                            }
                          ]
                        }
                      },
                      { "Transform":
                        {
                          "@DEF":"WeightStength",
                          "@translation":[0,-0.11,0],
                          "-children":[
                            { "ProtoInstance":
                              {
                                "@name":"Slider",
                                "@DEF":"_26",
                                "fieldValue": [
                                  {
                                    "@name":"name",
                                    "@value":["weightStrength"]
                                  },
                                  {
                                    "@name":"precision",
                                    "@value":2
                                  }
                                ]
                              }
                            }
                          ]
                        }
                      },
                      { "Transform":
                        {
                          "@DEF":"uOrder",
                          "@translation":[0,-0.22,0],
                          "-children":[
                            { "ProtoInstance":
                              {
                                "@name":"Slider",
                                "@DEF":"_27",
                                "fieldValue": [
                                  {
                                    "@name":"name",
                                    "@value":["uOrder"]
                                  },
                                  {
                                    "@name":"initialValue",
                                    "@value":3
                                  },
                                  {
                                    "@name":"minValue",
                                    "@value":2
                                  },
                                  {
                                    "@name":"maxValue",
                                    "@value":6
                                  }
                                ]
                              }
                            },
                            { "ProtoInstance":
                              {
                                "@name":"Float2Integer",
                                "@DEF":"_28"
                              }
                            }
                          ]
                        }
                      },
                      { "Transform":
                        {
                          "@DEF":"vOrder",
                          "@translation":[0,-0.33,0],
                          "-children":[
                            { "ProtoInstance":
                              {
                                "@name":"Slider",
                                "@DEF":"_29",
                                "fieldValue": [
                                  {
                                    "@name":"name",
                                    "@value":["vOrder"]
                                  },
                                  {
                                    "@name":"initialValue",
                                    "@value":4
                                  },
                                  {
                                    "@name":"minValue",
                                    "@value":2
                                  },
                                  {
                                    "@name":"maxValue",
                                    "@value":6
                                  }
                                ]
                              }
                            },
                            { "ProtoInstance":
                              {
                                "@name":"Float2Integer",
                                "@DEF":"_30"
                              }
                            }
                          ]
                        }
                      }
                    ]
                  }
                }
              ]
            }
          },
          { "ROUTE":
            {
              "@fromNode":"_27",
              "@fromField":"value_changed",
              "@toNode":"_28",
              "@toField":"set_value"
            }
          },
          { "ROUTE":
            {
              "@fromNode":"_29",
              "@fromField":"value_changed",
              "@toNode":"_30",
              "@toField":"set_value"
            }
          },
          { "ROUTE":
            {
              "@fromNode":"_24",
              "@fromField":"value_changed",
              "@toNode":"_17",
              "@toField":"set_vFrequency"
            }
          },
          { "ROUTE":
            {
              "@fromNode":"_23",
              "@fromField":"value_changed",
              "@toNode":"_17",
              "@toField":"set_uFrequency"
            }
          },
          { "ROUTE":
            {
              "@fromNode":"_22",
              "@fromField":"value_changed",
              "@toNode":"_17",
              "@toField":"set_majorRadius"
            }
          },
          { "ROUTE":
            {
              "@fromNode":"_21",
              "@fromField":"value_changed",
              "@toNode":"_17",
              "@toField":"set_minorRadius"
            }
          },
          { "ROUTE":
            {
              "@fromNode":"_30",
              "@fromField":"value_changed",
              "@toNode":"_17",
              "@toField":"set_vOrder"
            }
          },
          { "ROUTE":
            {
              "@fromNode":"_28",
              "@fromField":"value_changed",
              "@toNode":"_17",
              "@toField":"set_uOrder"
            }
          },
          { "ROUTE":
            {
              "@fromNode":"_26",
              "@fromField":"value_changed",
              "@toNode":"_17",
              "@toField":"set_weightStrength"
            }
          },
          { "ROUTE":
            {
              "@fromNode":"_25",
              "@fromField":"value_changed",
              "@toNode":"_17",
              "@toField":"set_twist"
            }
          }
        ]
    }
  }
}