var java = require('java');
var autoclass = require('../../../X3Dautoclass.js');
var ConfigurationProperties = autoclass.ConfigurationProperties;
ConfigurationProperties.showDefaultAttributes = false;
ConfigurationProperties.xsltEngine = ConfigurationProperties.XSLT_ENGINE_NATIVE_JAVA;
ConfigurationProperties.deleteIntermediateFiles = false;
ConfigurationProperties.setStripTrailingZeroesSync(true);
      var X3D0 =  new autoclass.X3D().setProfileSync("Immersive").setVersionSync("3.3")
      .setHeadSync(new autoclass.head()
        .addMetaSync(new autoclass.meta().setNameSync("title").setContentSync("ObliqueStrategies.x3d"))
        .addMetaSync(new autoclass.meta().setNameSync("description").setContentSync("Text scripting and animation example using Oblique Strategies card set by Brian Eno."))
        .addMetaSync(new autoclass.meta().setNameSync("creator").setContentSync("Don Brutzman, John Kelly, Ben Cheng"))
        .addMetaSync(new autoclass.meta().setNameSync("created").setContentSync("3 November 2013"))
        .addMetaSync(new autoclass.meta().setNameSync("modified").setContentSync("18 October 2015"))
        .addMetaSync(new autoclass.meta().setNameSync("reference").setContentSync("oblique.html"))
        .addMetaSync(new autoclass.meta().setNameSync("reference").setContentSync("ObliqueStrategies.txt"))
        .addMetaSync(new autoclass.meta().setNameSync("reference").setContentSync("ObliqueStrategiesScript.js"))
        .addMetaSync(new autoclass.meta().setNameSync("reference").setContentSync("http://music.hyperreal.org/artists/brian_eno/oblique/oblique.html"))
        .addMetaSync(new autoclass.meta().setNameSync("reference").setContentSync("http://www.eno-web.co.uk/obliques.html"))
        .addMetaSync(new autoclass.meta().setNameSync("reference").setContentSync("http://gothpunk.com/haiku-intro.html"))
        .addMetaSync(new autoclass.meta().setNameSync("reference").setContentSync("http://www.rtqe.net/ObliqueStrategies/OSintro.html"))
        .addMetaSync(new autoclass.meta().setNameSync("reference").setContentSync("https://en.wikipedia.org/wiki/Oblique_Strategies"))
        .addMetaSync(new autoclass.meta().setNameSync("subject").setContentSync("Brian Eno, Oblique Strategies"))
        .addMetaSync(new autoclass.meta().setNameSync("Image").setContentSync("images/ObliqueStrategiesEntryScreen.png"))
        .addMetaSync(new autoclass.meta().setNameSync("audio").setContentSync("http://translate.google.com/translate_tts?tl=en&q=hello%20X3D"))
        .addMetaSync(new autoclass.meta().setNameSync("audio").setContentSync("translate_tts_HelloX3D.mp3"))
        .addMetaSync(new autoclass.meta().setNameSync("audio").setContentSync("translate_tts_HelloX3D.wav"))
        .addMetaSync(new autoclass.meta().setNameSync("TODO").setContentSync("multiliingual translation parameter"))
        .addMetaSync(new autoclass.meta().setNameSync("reference").setContentSync("http://stackoverflow.com/questions/9163988/download-mp3-from-google-translate-text-to-speech"))
        .addMetaSync(new autoclass.meta().setNameSync("reference").setContentSync("http://www.greenbot.com/article/2105862/how-to-get-started-with-google-text-to-speech.html"))
        .addMetaSync(new autoclass.meta().setNameSync("warning").setContentSync("under development, scene Sound/AudioClip triggering (or retrieved file format) not working"))
        .addMetaSync(new autoclass.meta().setNameSync("warning").setContentSync("BSContact error: Script node TextScript: parse error: line 15 \" var strategy = [];"))
        .addMetaSync(new autoclass.meta().setNameSync("identifier").setContentSync("http://X3dGraphics.com/examples/X3dForAdvancedModeling/Inspiration/ObliqueStrategies.x3d"))
        .addMetaSync(new autoclass.meta().setNameSync("generator").setContentSync("X3D-Edit 3.3, https://savage.nps.edu/X3D-Edit"))
        .addMetaSync(new autoclass.meta().setNameSync("license").setContentSync("../license.html")))
      .setSceneSync(new autoclass.Scene()
        .addChildSync(new autoclass.NavigationInfo())
        .addChildSync(new autoclass.Background().setSkyColorSync(java.newArray("float", [java.newFloat(0.419608), java.newFloat(0.427451), java.newFloat(1)])))
        .addChildSync(new autoclass.Transform().setScaleSync(java.newArray("float", [java.newFloat(0.4), java.newFloat(0.4), java.newFloat(0.4)])).setTranslationSync(java.newArray("float", [java.newFloat(0), java.newFloat(1), java.newFloat(0)]))
          .addChildSync(new autoclass.TouchSensor().setDEFSync("RandomTextClickedSensor").setDescriptionSync("Select to see a new strategy"))
          .addChildSync(new autoclass.Shape()
            .setGeometrySync(new autoclass.Text().setStringSync(java.newArray("java.lang.String", ["Oblique Strategies","","(Over One Hundred Worthwhile Dilemmas)","","by Brian Eno and Peter Schmidt"]))
              .setFontStyleSync(new autoclass.FontStyle().setDEFSync("MessageFont").setFamilySync(java.newArray("java.lang.String", ["SANS"])).setJustifySync(java.newArray("java.lang.String", ["MIDDLE","MIDDLE"])).setStyleSync("BOLD")))
            .setAppearanceSync(new autoclass.Appearance()
              .setMaterialSync(new autoclass.Material().setDiffuseColorSync(java.newArray("float", [java.newFloat(1), java.newFloat(1), java.newFloat(1)])))))
          .addChildSync(new autoclass.Transform().setScaleSync(java.newArray("float", [java.newFloat(10), java.newFloat(3), java.newFloat(1)]))
            .addChildSync(new autoclass.Shape().setDEFSync("HeadlineClickSurface")
              .setGeometrySync(new autoclass.IndexedFaceSet().setCoordIndexSync(java.newArray("int", [0,1,2,3,-1])).setSolidSync(false)
                .setCoordSync(new autoclass.Coordinate().setPointSync(java.newArray("float", [java.newFloat(1), java.newFloat(1), java.newFloat(0), java.newFloat(1), java.newFloat(-1), java.newFloat(0), java.newFloat(-1), java.newFloat(-1), java.newFloat(0), java.newFloat(-1), java.newFloat(1), java.newFloat(0)]))))
              .setAppearanceSync(new autoclass.Appearance()
                .setMaterialSync(new autoclass.Material().setAmbientIntensitySync(java.newFloat(0.245763)).setDiffuseColorSync(java.newArray("float", [java.newFloat(0.34773), java.newFloat(0.090909), java.newFloat(0.005289)])).setShininessSync(java.newFloat(0.07)).setSpecularColorSync(java.newArray("float", [java.newFloat(0.336735), java.newFloat(0.051091), java.newFloat(0.051091)])).setTransparencySync(java.newFloat(0.8)))))))
        .addChildSync(new autoclass.Script().setDEFSync("TextScript").setUrlSync(java.newArray("java.lang.String", ["../node/ObliqueStrategiesScript.js"]))
          .addCommentsSync(new autoclass.CommentsBlock("initialize() method includes unit test to printAllStrategies() to console"))
          .addCommentsSync(new autoclass.CommentsBlock("TODO insert field definitions here (index string_changed previous next random) and then animate!"))
          .addFieldSync(new autoclass.field().setTypeSync(autoclass.field.TYPE_SFINT32).setNameSync("index").setAccessTypeSync(autoclass.field.ACCESSTYPE_INITIALIZEONLY).setAppinfoSync("index for active strategy card, -1 means no selection").setValueSync("0"))
          .addFieldSync(new autoclass.field().setTypeSync(autoclass.field.TYPE_MFSTRING).setNameSync("string_changed").setAccessTypeSync(autoclass.field.ACCESSTYPE_OUTPUTONLY).setAppinfoSync("latest strategy card value"))
          .addFieldSync(new autoclass.field().setTypeSync(autoclass.field.TYPE_MFSTRING).setNameSync("textToSpeechUrl").setAccessTypeSync(autoclass.field.ACCESSTYPE_OUTPUTONLY).setAppinfoSync("url to invoke Google Translate"))
          .addFieldSync(new autoclass.field().setTypeSync(autoclass.field.TYPE_SFTIME).setNameSync("newCardTime").setAccessTypeSync(autoclass.field.ACCESSTYPE_OUTPUTONLY).setAppinfoSync("activate Sound node"))
          .addFieldSync(new autoclass.field().setTypeSync(autoclass.field.TYPE_SFBOOL).setNameSync("selectPreviousCard").setAccessTypeSync(autoclass.field.ACCESSTYPE_INPUTONLY))
          .addFieldSync(new autoclass.field().setTypeSync(autoclass.field.TYPE_SFBOOL).setNameSync("selectNextCard").setAccessTypeSync(autoclass.field.ACCESSTYPE_INPUTONLY))
          .addFieldSync(new autoclass.field().setTypeSync(autoclass.field.TYPE_SFBOOL).setNameSync("selectRandomCard").setAccessTypeSync(autoclass.field.ACCESSTYPE_INPUTONLY))
          .addFieldSync(new autoclass.field().setTypeSync(autoclass.field.TYPE_SFBOOL).setNameSync("traceEnabled").setAccessTypeSync(autoclass.field.ACCESSTYPE_INITIALIZEONLY).setAppinfoSync("controls console tracing").setValueSync("true")))
        .addChildSync(new autoclass.Transform().setDEFSync("CardTransform").setScaleSync(java.newArray("float", [java.newFloat(0.4), java.newFloat(0.4), java.newFloat(0.4)])).setTranslationSync(java.newArray("float", [java.newFloat(0), java.newFloat(-1.5), java.newFloat(0)]))
          .addChildSync(new autoclass.Shape()
            .setGeometrySync(new autoclass.Text().setDEFSync("CardText")
              .setFontStyleSync(new autoclass.FontStyle().setFamilySync(java.newArray("java.lang.String", ["SANS"])).setJustifySync(java.newArray("java.lang.String", ["MIDDLE","MIDDLE"])).setStyleSync("BOLD")))
            .setAppearanceSync(new autoclass.Appearance()
              .setMaterialSync(new autoclass.Material().setDiffuseColorSync(java.newArray("float", [java.newFloat(1), java.newFloat(1), java.newFloat(1)])))))
          .addChildSync(new autoclass.ROUTE().setFromFieldSync("string_changed").setFromNodeSync("TextScript").setToFieldSync("string").setToNodeSync("CardText"))
          .addChildSync(new autoclass.Sound().setDEFSync("CardSoundSpatialization").setMaxBackSync(java.newFloat(100)).setMaxFrontSync(java.newFloat(100)).setMinBackSync(java.newFloat(20)).setMinFrontSync(java.newFloat(20))
            .addCommentsSync(new autoclass.CommentsBlock("Make sure the sound source AudioClip is audible at the user location"))
            .addCommentsSync(new autoclass.CommentsBlock("Not all X3D players seem to use the .mp3"))
            .addCommentsSync(new autoclass.CommentsBlock("&#38; is ampersand character, avoids escaping problems and inconsistencies in browsers and X3D players"))
            .addCommentsSync(new autoclass.CommentsBlock("%20 is space character used in uri/url encoding"))
            .setSourceSync(new autoclass.AudioClip().setDEFSync("TextToSpeechAudioClip").setDescriptionSync("sends strategy text google translate").setUrlSync(java.newArray("java.lang.String", ["http://translate.google.com/translate_tts?tl=en&q=Feed%20the%20recording%20back%20out%20of%20the%20medium","translate_tts_mp3FileFormatNotSupported.wav"]))))
          .addChildSync(new autoclass.ROUTE().setFromFieldSync("textToSpeechUrl").setFromNodeSync("TextScript").setToFieldSync("url").setToNodeSync("TextToSpeechAudioClip"))
          .addChildSync(new autoclass.ROUTE().setFromFieldSync("newCardTime").setFromNodeSync("TextScript").setToFieldSync("startTime").setToNodeSync("TextToSpeechAudioClip")))
        .addChildSync(new autoclass.Transform().setScaleSync(java.newArray("float", [java.newFloat(0.4), java.newFloat(0.4), java.newFloat(0.4)])).setTranslationSync(java.newArray("float", [java.newFloat(-3.2), java.newFloat(2.5), java.newFloat(0)]))
          .addChildSync(new autoclass.TouchSensor().setDEFSync("PreviousTextClickedSensor").setDescriptionSync("Select to see previous strategy"))
          .addChildSync(new autoclass.ROUTE().setFromFieldSync("isActive").setFromNodeSync("PreviousTextClickedSensor").setToFieldSync("selectPreviousCard").setToNodeSync("TextScript"))
          .addChildSync(new autoclass.Shape()
            .setGeometrySync(new autoclass.Text().setStringSync(java.newArray("java.lang.String", ["previous"]))
              .setFontStyleSync(new autoclass.FontStyle().setUSESync("MessageFont")))
            .setAppearanceSync(new autoclass.Appearance().setDEFSync("InterfaceAppearance")
              .setMaterialSync(new autoclass.Material().setDiffuseColorSync(java.newArray("float", [java.newFloat(1), java.newFloat(0), java.newFloat(0.6)])))))
          .addChildSync(new autoclass.Transform().setScaleSync(java.newArray("float", [java.newFloat(2), java.newFloat(0.6), java.newFloat(1)]))
            .addChildSync(new autoclass.Shape().setDEFSync("TransparentClickSurface")
              .addCommentsSync(new autoclass.CommentsBlock("support Selectable Text with a scalable IFS"))
              .setGeometrySync(new autoclass.IndexedFaceSet().setCoordIndexSync(java.newArray("int", [0,1,2,3,-1])).setSolidSync(false)
                .setCoordSync(new autoclass.Coordinate().setPointSync(java.newArray("float", [java.newFloat(1), java.newFloat(1), java.newFloat(0), java.newFloat(1), java.newFloat(-1), java.newFloat(0), java.newFloat(-1), java.newFloat(-1), java.newFloat(0), java.newFloat(-1), java.newFloat(1), java.newFloat(0)]))))
              .setAppearanceSync(new autoclass.Appearance()
                .setMaterialSync(new autoclass.Material().setTransparencySync(java.newFloat(1)))))))
        .addChildSync(new autoclass.Transform().setScaleSync(java.newArray("float", [java.newFloat(0.4), java.newFloat(0.4), java.newFloat(0.4)])).setTranslationSync(java.newArray("float", [java.newFloat(3.5), java.newFloat(2.5), java.newFloat(0)]))
          .addChildSync(new autoclass.TouchSensor().setDEFSync("NextTextClickedSensor").setDescriptionSync("Select to see next strategy"))
          .addChildSync(new autoclass.ROUTE().setFromFieldSync("isActive").setFromNodeSync("NextTextClickedSensor").setToFieldSync("selectNextCard").setToNodeSync("TextScript"))
          .addChildSync(new autoclass.Shape()
            .setGeometrySync(new autoclass.Text().setStringSync(java.newArray("java.lang.String", ["next"]))
              .setFontStyleSync(new autoclass.FontStyle().setUSESync("MessageFont")))
            .setAppearanceSync(new autoclass.Appearance().setUSESync("InterfaceAppearance")))
          .addChildSync(new autoclass.Transform().setScaleSync(java.newArray("float", [java.newFloat(1.2), java.newFloat(0.6), java.newFloat(1)]))
            .addChildSync(new autoclass.Shape().setUSESync("TransparentClickSurface"))))
        .addChildSync(new autoclass.Transform().setScaleSync(java.newArray("float", [java.newFloat(0.4), java.newFloat(0.4), java.newFloat(0.4)])).setTranslationSync(java.newArray("float", [java.newFloat(-3.3), java.newFloat(-0.5), java.newFloat(0)]))
          .addChildSync(new autoclass.TouchSensor().setUSESync("RandomTextClickedSensor"))
          .addChildSync(new autoclass.ROUTE().setFromFieldSync("isActive").setFromNodeSync("RandomTextClickedSensor").setToFieldSync("selectRandomCard").setToNodeSync("TextScript"))
          .addChildSync(new autoclass.Shape()
            .setGeometrySync(new autoclass.Text().setStringSync(java.newArray("java.lang.String", ["random"]))
              .setFontStyleSync(new autoclass.FontStyle().setUSESync("MessageFont")))
            .setAppearanceSync(new autoclass.Appearance().setUSESync("InterfaceAppearance")))
          .addChildSync(new autoclass.Transform().setScaleSync(java.newArray("float", [java.newFloat(1.8), java.newFloat(0.6), java.newFloat(1)]))
            .addChildSync(new autoclass.Shape().setUSESync("TransparentClickSurface"))))
        .addChildSync(new autoclass.Transform().setScaleSync(java.newArray("float", [java.newFloat(0.4), java.newFloat(0.4), java.newFloat(0.4)])).setTranslationSync(java.newArray("float", [java.newFloat(3.3), java.newFloat(-0.5), java.newFloat(0)]))
          .addChildSync(new autoclass.Anchor().setDEFSync("TextToSpeechAnchor").setDescriptionSync("text to speech in browser").setParameterSync(java.newArray("java.lang.String", ["target=_blank"])).setUrlSync(java.newArray("java.lang.String", ["http://translate.google.com/translate_tts?tl=en&q=Overtly%20resist%20change"]))
            .addChildSync(new autoclass.ROUTE().setFromFieldSync("textToSpeechUrl").setFromNodeSync("TextScript").setToFieldSync("url").setToNodeSync("TextToSpeechAnchor"))
            .addChildSync(new autoclass.Shape()
              .setGeometrySync(new autoclass.Text().setStringSync(java.newArray("java.lang.String", ["speech"]))
                .setFontStyleSync(new autoclass.FontStyle().setUSESync("MessageFont")))
              .setAppearanceSync(new autoclass.Appearance().setUSESync("InterfaceAppearance")))
            .addChildSync(new autoclass.Transform().setScaleSync(java.newArray("float", [java.newFloat(1.8), java.newFloat(0.6), java.newFloat(1)]))
              .addChildSync(new autoclass.Shape().setUSESync("TransparentClickSurface"))))))      ;
    X3D0.toFileX3D("../data/ObliqueStrategies.new.x3d");
