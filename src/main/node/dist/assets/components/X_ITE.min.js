(()=>{"use strict";var t={n:e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return t.d(s,{a:s}),s},d:(e,s)=>{for(var i in s)t.o(s,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:s[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const e=window[Symbol.for("X_ITE.X3D")].require("x_ite/Components");var s=t.n(e);const i=window[Symbol.for("X_ITE.X3D")].require("x_ite/Fields");var n=t.n(i);const o=window[Symbol.for("X_ITE.X3D")].require("x_ite/Base/X3DFieldDefinition");var a=t.n(o);const r=window[Symbol.for("X_ITE.X3D")].require("x_ite/Base/FieldDefinitionArray");var _=t.n(r);const h=window[Symbol.for("X_ITE.X3D")].require("x_ite/Components/Shape/X3DAppearanceChildNode");var p=t.n(h);const c=window[Symbol.for("X_ITE.X3D")].require("x_ite/Base/X3DConstants");var l=t.n(c);const u=window[Symbol.for("X_ITE.X3D")].require("x_ite/Namespace");var d=t.n(u);function T(t){p().call(this,t),this.addType(l().BlendMode),this.factorTypes=new Map,this.equationTypes=new Map}Object.assign(Object.setPrototypeOf(T.prototype,p().prototype),{initialize(){p().prototype.initialize.call(this);const t=this.getBrowser().getContext(),e=t.getExtension("EXT_blend_minmax");this.factorTypes.set("ZERO",t.ZERO),this.factorTypes.set("ONE",t.ONE),this.factorTypes.set("SRC_COLOR",t.SRC_COLOR),this.factorTypes.set("ONE_MINUS_SRC_COLOR",t.ONE_MINUS_SRC_COLOR),this.factorTypes.set("DST_COLOR",t.DST_COLOR),this.factorTypes.set("ONE_MINUS_DST_COLOR",t.ONE_MINUS_DST_COLOR),this.factorTypes.set("SRC_ALPHA",t.SRC_ALPHA),this.factorTypes.set("ONE_MINUS_SRC_ALPHA",t.ONE_MINUS_SRC_ALPHA),this.factorTypes.set("DST_ALPHA",t.DST_ALPHA),this.factorTypes.set("ONE_MINUS_DST_ALPHA",t.ONE_MINUS_DST_ALPHA),this.factorTypes.set("SRC_ALPHA_SATURATE",t.SRC_ALPHA_SATURATE),this.factorTypes.set("CONSTANT_COLOR",t.CONSTANT_COLOR),this.factorTypes.set("ONE_MINUS_CONSTANT_COLOR",t.ONE_MINUS_CONSTANT_COLOR),this.factorTypes.set("CONSTANT_ALPHA",t.CONSTANT_ALPHA),this.factorTypes.set("ONE_MINUS_CONSTANT_ALPHA",t.ONE_MINUS_CONSTANT_ALPHA),this.equationTypes.set("FUNC_ADD",t.FUNC_ADD),this.equationTypes.set("FUNC_SUBTRACT",t.FUNC_SUBTRACT),this.equationTypes.set("FUNC_REVERSE_SUBTRACT",t.FUNC_REVERSE_SUBTRACT),this.equationTypes.set("MIN",t.MIN||e&&e.MIN_EXT),this.equationTypes.set("MAX",t.MAX||e&&e.MAX_EXT),this._sourceColorFactor.addInterest("set_sourceColorFactor__",this),this._sourceAlphaFactor.addInterest("set_sourceAlphaFactor__",this),this._destinationColorFactor.addInterest("set_destinationColorFactor__",this),this._destinationAlphaFactor.addInterest("set_destinationAlphaFactor__",this),this._colorEquation.addInterest("set_colorEquation__",this),this._alphaEquation.addInterest("set_alphaEquation__",this),this.set_sourceColorFactor__(),this.set_sourceAlphaFactor__(),this.set_destinationColorFactor__(),this.set_destinationAlphaFactor__(),this.set_colorEquation__(),this.set_alphaEquation__()},set_sourceColorFactor__(){this.sourceColorFactorType=this.factorTypes.get(this._sourceColorFactor.getValue()),void 0===this.sourceColorFactorType&&(this.sourceColorFactorType=this.factorTypes.get("SRC_ALPHA"))},set_sourceAlphaFactor__(){this.sourceAlphaFactorType=this.factorTypes.get(this._sourceAlphaFactor.getValue()),void 0===this.sourceAlphaFactorType&&(this.sourceAlphaFactorType=this.factorTypes.get("ONE"))},set_destinationColorFactor__(){this.destinationColorFactorType=this.factorTypes.get(this._destinationColorFactor.getValue()),void 0===this.destinationColorFactorType&&(this.destinationColorFactorType=this.factorTypes.get("ONE_MINUS_SRC_ALPHA"))},set_destinationAlphaFactor__(){this.destinationAlphaFactorType=this.factorTypes.get(this._destinationAlphaFactor.getValue()),void 0===this.destinationAlphaFactorType&&(this.destinationAlphaFactorType=this.factorTypes.get("ONE_MINUS_SRC_ALPHA"))},set_colorEquation__(){this.colorEquationType=this.equationTypes.get(this._colorEquation.getValue()),void 0===this.colorEquationType&&(this.colorEquationType=this.equationTypes.get("FUNC_ADD"))},set_alphaEquation__(){this.alphaEquationType=this.equationTypes.get(this._alphaEquation.getValue()),void 0===this.alphaEquationType&&(this.alphaEquationType=this.equationTypes.get("FUNC_ADD"))},enable(t){const e=this._blendColor.getValue();t.blendColor(e.r,e.g,e.b,e.a),t.blendFuncSeparate(this.sourceColorFactorType,this.destinationColorFactorType,this.sourceAlphaFactorType,this.destinationAlphaFactorType),t.blendEquationSeparate(this.colorEquationType,this.alphaEquationType)},disable(t){t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA),t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD)}}),Object.defineProperties(T,{typeName:{value:"BlendMode",enumerable:!0},componentInfo:{value:Object.freeze({name:"X_ITE",level:1}),enumerable:!0},containerField:{value:"blendMode",enumerable:!0},specificationRange:{value:Object.freeze({from:"3.3",to:"Infinity"}),enumerable:!0},fieldDefinitions:{value:new(_())([new(a())(l().inputOutput,"metadata",new(n().SFNode)),new(a())(l().inputOutput,"blendColor",new(n().SFColorRGBA)),new(a())(l().inputOutput,"sourceColorFactor",new(n().SFString)("SRC_ALPHA")),new(a())(l().inputOutput,"sourceAlphaFactor",new(n().SFString)("ONE")),new(a())(l().inputOutput,"destinationColorFactor",new(n().SFString)("ONE_MINUS_SRC_ALPHA")),new(a())(l().inputOutput,"destinationAlphaFactor",new(n().SFString)("ONE_MINUS_SRC_ALPHA")),new(a())(l().inputOutput,"colorEquation",new(n().SFString)("FUNC_ADD")),new(a())(l().inputOutput,"alphaEquation",new(n().SFString)("FUNC_ADD"))]),enumerable:!0}});const S=T;d().add("BlendMode","x_ite/Components/X_ITE/BlendMode",S);const E=S;function A(t){p().call(this,t),this.addType(l().DepthMode),this.addAlias("depthFunc",this._depthFunction)}Object.assign(Object.setPrototypeOf(A.prototype,p().prototype),{initialize(){p().prototype.initialize.call(this),this._depthFunction.addInterest("set_depthFunction__",this),this.set_depthFunction__()},set_depthFunction__:function(){const t=new Map([["NEVER","NEVER"],["LESS","LESS"],["EQUAL","EQUAL"],["LESS_EQUAL","LEQUAL"],["GREATER","GREATER"],["NOT_EQUAL","NOTEQUAL"],["GREATER_EQUAL","GEQUAL"],["ALWAYS","ALWAYS"]]);return function(){const e=this.getBrowser().getContext();this.depthFunction=e[t.get(this._depthFunction.getValue())??"LEQUAL"]}}(),enable(t){this.depthTest=t.isEnabled(t.DEPTH_TEST),this.depthWriteMask=t.getParameter(t.DEPTH_WRITEMASK),t.enable(t.POLYGON_OFFSET_FILL),t.polygonOffset(...this._polygonOffset),this._depthTest.getValue()?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),t.depthFunc(this.depthFunction),t.depthRange(...this._depthRange.getValue()),t.depthMask(this._depthMask.getValue())},disable(t){t.disable(t.POLYGON_OFFSET_FILL),this.depthTest?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.depthRange(0,1),t.depthMask(this.depthWriteMask)}}),Object.defineProperties(A,{typeName:{value:"DepthMode",enumerable:!0},componentInfo:{value:Object.freeze({name:"X_ITE",level:1}),enumerable:!0},containerField:{value:"depthMode",enumerable:!0},specificationRange:{value:Object.freeze({from:"4.0",to:"Infinity"}),enumerable:!0},fieldDefinitions:{value:new(_())([new(a())(l().inputOutput,"metadata",new(n().SFNode)),new(a())(l().inputOutput,"polygonOffset",new(n().SFVec2f)),new(a())(l().inputOutput,"depthRange",new(n().SFVec2f)(0,1)),new(a())(l().inputOutput,"depthTest",new(n().SFBool)(!0)),new(a())(l().inputOutput,"depthFunction",new(n().SFString)("LESS_EQUAL")),new(a())(l().inputOutput,"depthMask",new(n().SFBool)(!0))]),enumerable:!0}});const y=A;d().add("DepthMode","x_ite/Components/X_ITE/DepthMode",y);const O=y,N=window[Symbol.for("X_ITE.X3D")].require("x_ite/Components/Shape/X3DShapeNode");var F=t.n(N);const b=window[Symbol.for("X_ITE.X3D")].require("x_ite/Rendering/TraverseType");var f=t.n(b);const m=window[Symbol.for("X_ITE.X3D")].require("x_ite/Rendering/VertexArray");var I=t.n(m);const w=window[Symbol.for("X_ITE.X3D")].require("standard/Math/Numbers/Vector3");var g=t.n(w);const C=window[Symbol.for("X_ITE.X3D")].require("standard/Math/Numbers/Matrix4");var R=t.n(C);const L=window[Symbol.for("X_ITE.X3D")].require("standard/Math/Geometry/Box3");var D=t.n(L);function M(t){F().call(this,t),this.addType(l().InstancedShape),this.addChildObjects(l().outputOnly,"matrices",new(n().SFTime)),this.min=new(g()),this.max=new(g()),this.scale=new(g())(1,1,1),this.numInstances=0,this.instancesStride=25*Float32Array.BYTES_PER_ELEMENT,this.matrixOffset=0,this.normalMatrixOffset=16*Float32Array.BYTES_PER_ELEMENT}Object.assign(Object.setPrototypeOf(M.prototype,F().prototype),{initialize(){F().prototype.initialize.call(this);const t=this.getBrowser(),e=t.getContext();t.getContext().getVersion()<2||(this.instances=Object.assign(e.createBuffer(),{vertexArrayObject:new(I())(e)}),this._translations.addInterest("set_transform__",this),this._rotations.addInterest("set_transform__",this),this._scales.addInterest("set_transform__",this),this._matrices.addInterest("set_matrices__",this),this.set_transform__())},getShapeKey:()=>3,getNumInstances(){return this.numInstances},getInstances(){return this.instances},set_bbox__:function(){const t=new(g()),e=new(g()),s=new(D());return function(){if(this.numInstances)if(this._bboxSize.getValue().equals(this.getDefaultBBoxSize())){this.getGeometry()?s.assign(this.getGeometry().getBBox()):s.set();const i=s.size.multiply(this.scale.magnitude()/2),n=s.center;t.assign(this.min).add(n).subtract(i),e.assign(this.max).add(n).add(i),this.bbox.setExtents(t,e)}else this.bbox.set(this._bboxSize.getValue(),this._bboxCenter.getValue());else this.bbox.set();this.getBBoxSize().assign(this.bbox.size),this.getBBoxCenter().assign(this.bbox.center)}}(),set_transform__(){this._matrices=this.getBrowser().getCurrentTime()},set_matrices__(){const t=this.getBrowser().getContext(),e=this._translations,s=this._rotations,i=this._scales,n=e.length,o=s.length,a=i.length,r=Math.max(n,o,a),_=this.instancesStride/Float32Array.BYTES_PER_ELEMENT,h=this.instancesStride*r,p=new Float32Array(h),c=new(R());this.numInstances=r;const l=this.min.set(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),u=this.max.set(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),d=this.scale.assign(a?u:g().One);for(let t=0,h=0;t<r;++t,h+=_){if(c.identity(),n&&c.translate(e[Math.min(t,n-1)].getValue()),o&&c.rotate(s[Math.min(t,o-1)].getValue()),a){const e=i[Math.min(t,a-1)].getValue();c.scale(e),d.max(e)}p.set(c,h),p.set(c.submatrix.transpose().inverse(),h+16),l.min(c.origin),u.max(c.origin)}t.bindBuffer(t.ARRAY_BUFFER,this.instances),t.bufferData(t.ARRAY_BUFFER,p,t.DYNAMIC_DRAW),this.set_bbox__()},set_geometry__(){F().prototype.set_geometry__.call(this),this.getGeometry()?delete this.traverse:this.traverse=Function.prototype,this.set_transform__()},intersectsBox(t,e,s){},traverse(t,e){if(this.numInstances){switch(t){case f().POINTER:this._pointerEvents.getValue()&&e.addPointingShape(this);break;case f().PICKING:break;case f().COLLISION:e.addCollisionShape(this);break;case f().SHADOW:this._castShadow.getValue()&&e.addShadowShape(this);break;case f().DISPLAY:e.addDisplayShape(this)&&this.getAppearance().traverse(t,e)}this.getGeometry().traverse(t,e)}},displaySimple(t,e,s){this.getGeometry().displaySimpleInstanced(t,s,this)},display(t,e){this.getGeometry().displayInstanced(t,e,this)}}),Object.defineProperties(M,{typeName:{value:"InstancedShape",enumerable:!0},componentInfo:{value:Object.freeze({name:"X_ITE",level:1}),enumerable:!0},containerField:{value:"children",enumerable:!0},specificationRange:{value:Object.freeze({from:"2.0",to:"Infinity"}),enumerable:!0},fieldDefinitions:{value:new(_())([new(a())(l().inputOutput,"metadata",new(n().SFNode)),new(a())(l().inputOutput,"translations",new(n().MFVec3f)),new(a())(l().inputOutput,"rotations",new(n().MFRotation)),new(a())(l().inputOutput,"scales",new(n().MFVec3f)),new(a())(l().inputOutput,"pointerEvents",new(n().SFBool)(!0)),new(a())(l().inputOutput,"castShadow",new(n().SFBool)(!0)),new(a())(l().inputOutput,"visible",new(n().SFBool)(!0)),new(a())(l().inputOutput,"bboxDisplay",new(n().SFBool)),new(a())(l().initializeOnly,"bboxSize",new(n().SFVec3f)(-1,-1,-1)),new(a())(l().initializeOnly,"bboxCenter",new(n().SFVec3f)),new(a())(l().inputOutput,"appearance",new(n().SFNode)),new(a())(l().inputOutput,"geometry",new(n().SFNode))]),enumerable:!0}});const v=M;d().add("InstancedShape","x_ite/Components/X_ITE/InstancedShape",v);const x=v;s().add({name:"X_ITE",concreteNodes:[E,O,x],abstractNodes:[]});const P=void 0;d().add("X_ITE","assets/components/X_ITE",P)})();