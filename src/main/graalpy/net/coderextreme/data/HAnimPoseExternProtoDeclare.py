import x3dpsail as x3d

x3d.ConfigurationProperties.setXsltEngine(x3d.ConfigurationProperties.XSLT_ENGINE_NATIVE_JAVA)
x3d.ConfigurationProperties.setDeleteIntermediateFiles(False)
x3d.ConfigurationProperties.setStripTrailingZeroes(True)
x3d.ConfigurationProperties.setStripDefaultAttributes(True)
X3D0 = x3d.X3D()
X3D0.setProfile("Full")
X3D0.setVersion("4.0")
head1 = x3d.head()
meta2 = x3d.meta()
meta2.setName("title")
meta2.setContent("HAnimPoseExternProtoDeclare.x3d")

head1.addMeta(meta2)
meta3 = x3d.meta()
meta3.setName("description")
meta3.setContent("Define ExternProtoDeclare for an experimental new node to simply capture a single pose for an HAnimHumanoid model. Expected usage is to allow HAnimHumanoid to contain multiple Pose nodes which can be activated and composed.")

head1.addMeta(meta3)
meta4 = x3d.meta()
meta4.setName("created")
meta4.setContent("1 November 2025")

head1.addMeta(meta4)
meta5 = x3d.meta()
meta5.setName("modified")
meta5.setContent("14 December 2025")

head1.addMeta(meta5)
meta6 = x3d.meta()
meta6.setName("creator")
meta6.setContent("Don Brutzman")

head1.addMeta(meta6)
meta7 = x3d.meta()
meta7.setName("creator")
meta7.setContent("Joe Williams")

head1.addMeta(meta7)
meta8 = x3d.meta()
meta8.setName("contributor")
meta8.setContent("Holger Seelig for X_ITE, Sunrize on Windows, scripting guidance, and Inline IMPORT functionality as node-reference equivalent to USE")

head1.addMeta(meta8)
meta9 = x3d.meta()
meta9.setName("specificationSection")
meta9.setContent("HAnim Architecture volume 1 version 2.1 draft, clause 6 Object interfaces, section 6.4 Pose")

head1.addMeta(meta9)
meta10 = x3d.meta()
meta10.setName("specificationUrl")
meta10.setContent("https://www.web3d.org/specifications/X3Dv4Draft/ISO-IEC19774/ISO-IEC19774-1/ISO-IEC19774-1v2.1/ISO-IEC19774-1v2.1-WD/Architecture/ObjectInterfaces.html#Pose")

head1.addMeta(meta10)
meta11 = x3d.meta()
meta11.setName("specificationSection")
meta11.setContent("HAnim Architecture volume 1 version 2.1 draft, clause 4 Concepts, section 4.8.2 Modelling of human-like HAnim figures")

head1.addMeta(meta11)
meta12 = x3d.meta()
meta12.setName("specificationUrl")
meta12.setContent("https://www.web3d.org/specifications/X3Dv4Draft/ISO-IEC19774/ISO-IEC19774-1/ISO-IEC19774-1v2.1/ISO-IEC19774-1v2.1-WD/Architecture/concepts.html#ModellingHumanLikeHAnimFigures")

head1.addMeta(meta12)
meta13 = x3d.meta()
meta13.setName("specificationSection")
meta13.setContent("HAnim Architecture volume 1 version 2.1 draft, clause 4 Concepts, section 4.8.3 Poses")

head1.addMeta(meta13)
meta14 = x3d.meta()
meta14.setName("specificationUrl")
meta14.setContent("https://www.web3d.org/specifications/X3Dv4Draft/ISO-IEC19774/ISO-IEC19774-1/ISO-IEC19774-1v2.1/ISO-IEC19774-1v2.1-WD/Architecture/concepts.html#Poses")

head1.addMeta(meta14)
meta15 = x3d.meta()
meta15.setName("reference")
meta15.setContent("Direct scene manipulations with Javascript, https://doc.instantreality.org/tutorial/direct-scene-manipulations-with-javascript")

head1.addMeta(meta15)
meta16 = x3d.meta()
meta16.setName("generator")
meta16.setContent("X3D-Edit 4.0, https://www.web3d.org/x3d/tools/X3D-Edit")

head1.addMeta(meta16)
meta17 = x3d.meta()
meta17.setName("generator")
meta17.setContent("Sunrize X3D Editor V1.11.1, https://create3000.github.io/sunrize")

head1.addMeta(meta17)
meta18 = x3d.meta()
meta18.setName("identifier")
meta18.setContent("https://www.web3d.org/x3d/content/examples/HumanoidAnimation/Poses/HAnimPoseExternProtoDeclare.x3d")

head1.addMeta(meta18)
meta19 = x3d.meta()
meta19.setName("license")
meta19.setContent("https://www.web3d.org/x3d/content/examples/license.html")

head1.addMeta(meta19)

X3D0.setHead(head1)
Scene20 = x3d.Scene()
WorldInfo21 = x3d.WorldInfo()
WorldInfo21.setDEF("ModelInfo")
WorldInfo21.setInfo(["Design to illustrate a potential HAnimPose node"])
WorldInfo21.setTitle("HAnimPoseExternProtoDeclare")

Scene20.addChild(WorldInfo21)
Background22 = x3d.Background()
Background22.setSkyColor(x3d.doubleToFloat([0.6,0.6,0.8]))

Scene20.addChild(Background22)
NavigationInfo23 = x3d.NavigationInfo()

Scene20.addChild(NavigationInfo23)
ExternProtoDeclare24 = x3d.ExternProtoDeclare()
ExternProtoDeclare24.setName("HAnimPose")
ExternProtoDeclare24.setAppinfo("Experimental node to assign joint values to a humanoid and assume a pose. Assumes that baseline HAnimHumanoid configuration must be I pose, which can be achieved by resetting every HAnimJoint to default values.")
ExternProtoDeclare24.setUrl(["Filename.x3d#HAnimPose","https://some.address.org/Filename.x3d#HAnimPose"])
field25 = x3d.field()
field25.setName("parentHAnimHumanoid")
field25.setAccessType("inputOutput")
field25.setAppinfo("HAnimHumanoid for this Pose to act upon")
field25.setType("SFNode")

ExternProtoDeclare24.addField(field25)
field26 = x3d.field()
field26.setName("name")
field26.setAccessType("inputOutput")
field26.setAppinfo("name of this pose")
field26.setType("SFString")

ExternProtoDeclare24.addField(field26)
field27 = x3d.field()
field27.setName("children")
field27.setAccessType("inputOutput")
field27.setAppinfo("joint values to apply to HAnimHumanoid")
field27.setType("MFNode")

field27.addComments(x3d.CommentsBlock("""initializating Joint nodes (if any) go here"""))

ExternProtoDeclare24.addField(field27)
field28 = x3d.field()
field28.setName("description")
field28.setAccessType("inputOutput")
field28.setAppinfo("explanation of purpose")
field28.setType("SFString")

ExternProtoDeclare24.addField(field28)
field29 = x3d.field()
field29.setName("enabled")
field29.setAccessType("inputOutput")
field29.setAppinfo("default value true")
field29.setType("SFBool")

ExternProtoDeclare24.addField(field29)
field30 = x3d.field()
field30.setName("loa")
field30.setAccessType("initializeOnly")
field30.setAppinfo("default is no loa")
field30.setType("SFInt32")

ExternProtoDeclare24.addField(field30)
field31 = x3d.field()
field31.setName("transitionDuration")
field31.setAccessType("inputOutput")
field31.setAppinfo("how many seconds to achieve the pose")
field31.setType("SFTime")

ExternProtoDeclare24.addField(field31)
field32 = x3d.field()
field32.setName("metadata")
field32.setAccessType("inputOutput")
field32.setAppinfo("single Metadata* node")
field32.setType("SFNode")

ExternProtoDeclare24.addField(field32)
field33 = x3d.field()
field33.setName("isActive")
field33.setAccessType("outputOnly")
field33.setAppinfo("event indicating when pose transition is active")
field33.setType("SFBool")

ExternProtoDeclare24.addField(field33)
field34 = x3d.field()
field34.setName("commencePose")
field34.setAccessType("inputOnly")
field34.setAppinfo("this event tells the HAnimPose node to fully transition, equivalent to set_fraction=1")
field34.setType("SFBool")

ExternProtoDeclare24.addField(field34)
field35 = x3d.field()
field35.setName("resetAllJoints")
field35.setAccessType("inputOnly")
field35.setAppinfo("reset the skeleton to I pose with all joints zeroed")
field35.setType("SFBool")

ExternProtoDeclare24.addField(field35)
field36 = x3d.field()
field36.setName("set_fraction")
field36.setAccessType("inputOnly")
field36.setAppinfo("allows transition to proceed incrementally from fraction [0..10")
field36.setType("SFFloat")

ExternProtoDeclare24.addField(field36)
field37 = x3d.field()
field37.setName("set_startTime")
field37.setAccessType("inputOnly")
field37.setAppinfo("starts the animation clock")
field37.setType("SFTime")

ExternProtoDeclare24.addField(field37)
field38 = x3d.field()
field38.setName("isLoaded")
field38.setAccessType("inputOnly")
field38.setAppinfo("possible notification from LoadSensor if using HAnimHumanoid Inline/IMPORT AS/USE")
field38.setType("SFBool")

ExternProtoDeclare24.addField(field38)
field39 = x3d.field()
field39.setName("traceEnabled")
field39.setAccessType("inputOutput")
field39.setAppinfo("debug trace to Browser output console this is a local prototype field")
field39.setType("SFBool")

ExternProtoDeclare24.addField(field39)

Scene20.addChild(ExternProtoDeclare24)
Viewpoint40 = x3d.Viewpoint()
Viewpoint40.setDescription("HAnimPoseExternProtoDeclare description")
Viewpoint40.setPosition(x3d.doubleToFloat([0,1,4]))

Scene20.addChild(Viewpoint40)
Transform41 = x3d.Transform()
Transform41.setDEF("DisplayHeader1")
Transform41.setTranslation(x3d.doubleToFloat([0,1.5,0]))
Anchor42 = x3d.Anchor()
Anchor42.setDescription("go to HAnimPoseExternProtoDeclareIndex page")
Anchor42.setParameter(["target=_blank"])
Anchor42.setUrl(["https://www.web3d.org/x3d/content/examples/HumanoidAnimation/Poses/HAnimPoseExternProtoDeclareIndex.html"])
Shape43 = x3d.Shape()
Text44 = x3d.Text()
Text44.setString(["Utility scene","HAnimPoseExternProtoDeclare.x3d"])
FontStyle45 = x3d.FontStyle()
FontStyle45.setDEF("HeaderFont")
FontStyle45.setFamily(["SANS"])
FontStyle45.setJustify(["MIDDLE","MIDDLE"])
FontStyle45.setSize(0.15)
FontStyle45.setStyle("BOLD")

Text44.setFontStyle(FontStyle45)

Shape43.setGeometry(Text44)
Appearance46 = x3d.Appearance()
Appearance46.setDEF("PoseTextAppearance")
Material47 = x3d.Material()
Material47.setDiffuseColor(x3d.doubleToFloat([0.1,0.3,0.5]))

Appearance46.setMaterial(Material47)

Shape43.setAppearance(Appearance46)

Anchor42.addChild(Shape43)
Shape48 = x3d.Shape()
Box49 = x3d.Box()
Box49.setSize(x3d.doubleToFloat([3.5,0.5,0.001]))

Shape48.setGeometry(Box49)
Appearance50 = x3d.Appearance()
Appearance50.setDEF("TransparentAppearance")
Material51 = x3d.Material()
Material51.setTransparency(1)

Appearance50.setMaterial(Material51)

Shape48.setAppearance(Appearance50)

Anchor42.addChild(Shape48)

Transform41.addChild(Anchor42)

Scene20.addChild(Transform41)
Transform52 = x3d.Transform()
Transform52.setDEF("DisplayHeader2")
Transform52.setTranslation(x3d.doubleToFloat([0,0.5,0]))
Anchor53 = x3d.Anchor()
Anchor53.setDescription("go to HAnimPosePrototypeIndex page")
Anchor53.setParameter(["target=_blank"])
Anchor53.setUrl(["https://www.web3d.org/x3d/content/examples/HumanoidAnimation/Poses/HAnimPosePrototypeIndex.html"])
Shape54 = x3d.Shape()
Text55 = x3d.Text()
Text55.setString(["This model supports","HAnimPosePrototype.x3d"])
FontStyle56 = x3d.FontStyle()
FontStyle56.setUSE("HeaderFont")

Text55.setFontStyle(FontStyle56)

Shape54.setGeometry(Text55)
Appearance57 = x3d.Appearance()
Appearance57.setUSE("PoseTextAppearance")

Shape54.setAppearance(Appearance57)

Anchor53.addChild(Shape54)

Transform52.addChild(Anchor53)
Shape58 = x3d.Shape()
Box59 = x3d.Box()
Box59.setSize(x3d.doubleToFloat([2.6,0.5,0.001]))

Shape58.setGeometry(Box59)
Appearance60 = x3d.Appearance()
Appearance60.setUSE("TransparentAppearance")

Shape58.setAppearance(Appearance60)

Transform52.addChild(Shape58)

Scene20.addChild(Transform52)

X3D0.setScene(Scene20)
X3D0.toFileX3D("../data/HAnimPoseExternProtoDeclare.new.graalpy.x3d")
X3D0.toFileJSON("../data/HAnimPoseExternProtoDeclare.new.graalpy.x3dj")
