<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>X3D JSON Validator</title>
   <script
	     src="https://code.jquery.com/jquery-3.7.1.js"
	       integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
	       crossorigin="anonymous"></script>
    <script type="importmap">
{
  "imports": {
    "@xmldom/xmldom": "https://esm.sh/@xmldom/xmldom@0.9.8/es2022/xmldom.mjs"
  }
}
</script>
	<script src="../node/ajvAll.js"></script>
	<script type="module" src="../node/config.js"></script>
	<script type="module" src="../node/fieldTypes.js"></script>
	<script type="module" src="../node/DOMSerializer.js"></script>
	<script type="module" src="../node/X3DJSONLD.js"></script>
	<script type="module" src="../node/matrix.js"></script>
	<script type="module" src="../node/convertJsonToStl.js"></script>
	<script type="module" src="../node/convertPlyToJson.js"></script>
	<script type="module" src="../node/convertStlToJson.js"></script>
	<script type="module" src="../node/exi.js"></script>
	<script type="module" src="../node/JavaScriptSerializer.js"></script>
	<script type="module" src="../node/mapToMethod.js"></script>
	<script type="module" src="../node/mapToMethod2.js"></script>
	<script type="module" src="../node/PythonSerializer.js"></script>
	<script type="module" src="../node/Script.js"></script>
	<script type="module" src="../node/Three2Serializer.js"></script>
	<script type="module" src="../node/DOM2JSONSerializer.js"></script>
	<script type="module" src="../node/loadValidate.js"></script>
	<script type="module" src="../node/loaderJQuery.js"></script>
</head>
<body>
	<h1>X3D JSON schema validator</h1><br></br>
	If you paste nasties into this page, you will get nasties back.  I am not responsible for your misuse of this page.<br></br>
	<a href="javascript:window.validator();">Click here to validate JSON in text area against X3D JSON Schema (all versions 3.* and 4.*)</a><br></br>
	<textarea id="json" name="json" rows="45" cols="80"></textarea>
<script type="module">
	import { setIS_X3DOM, setIS_X_ITE } from '../node/loaderJQuery.js';
	setIS_X3DOM(false);
	setIS_X_ITE(false);
	if (location.href.indexOf("?") >= 0) {
		document.getElementById("json").value = location.href.replace(/[^?]*\?/, "");
		fetch(document.getElementById("json").value)
		  .then(response => response.json())
			.then(data => document.getElementById("json").value = JSON.stringify(data, null, 1));
	}
</script>
</body>
</html>
