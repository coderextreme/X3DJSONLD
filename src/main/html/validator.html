<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>X3D JSON Validator</title>
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script type="text/javascript" src="../node/X3DJSONLD.js"></script>
    <script type="module" src="../node/loader-bundle.js"></script>
</head>
<body>
	<h1>X3D JSON schema validator</h1><br></br>
	If you paste nasties into this page, you will get nasties back.  I am not responsible for your misuse of this page.<br></br>
	<a href="javascript:window.validator();">Click here to validate JSON in text area against X3D JSON Schema (all versions 3.* and 4.*)</a>
	Language:
	<select onchange="lang=this.value;loadLocalize(lang);">
		<option>en</option>
		<option>de</option>
	</select><br></br>
	<textarea id="json" name="json" rows="45" cols="80"></textarea><br></br>
</body>
<script>
	if (location.href.indexOf("?") >= 0) {
		document.getElementById("json").value = location.href.replace(/[^?]*\?/, "");
		fetch(document.getElementById("json").value)
		  .then(response => response.json())
			.then(data => document.getElementById("json").value = JSON.stringify(data, null, 1));
	}
</script>
</html>
